;
/* module-key = 'jira.webresources:almond', location = '/static/lib/almond-noconflict-pre.js' */
window.__require=window.require;window.__requirejs=window.requirejs;window.__define=window.define;;
;
/* module-key = 'jira.webresources:almond', location = '/static/lib/almond/almond.js' */
var requirejs,require,define;(function(undef){var main,req,makeMap,handlers,defined={},waiting={},config={},defining={},hasOwn=Object.prototype.hasOwnProperty,aps=[].slice;function hasProp(obj,prop){return hasOwn.call(obj,prop)}function normalize(name,baseName){var nameParts,nameSegment,mapValue,foundMap,foundI,foundStarMap,starI,i,j,part,baseParts=baseName&&baseName.split("/"),map=config.map,starMap=(map&&map["*"])||{};if(name&&name.charAt(0)==="."){if(baseName){baseParts=baseParts.slice(0,baseParts.length-1);name=baseParts.concat(name.split("/"));for(i=0;i<name.length;i+=1){part=name[i];if(part==="."){name.splice(i,1);i-=1}else{if(part===".."){if(i===1&&(name[2]===".."||name[0]==="..")){break}else{if(i>0){name.splice(i-1,2);i-=2}}}}}name=name.join("/")}else{if(name.indexOf("./")===0){name=name.substring(2)}}}if((baseParts||starMap)&&map){nameParts=name.split("/");for(i=nameParts.length;i>0;i-=1){nameSegment=nameParts.slice(0,i).join("/");if(baseParts){for(j=baseParts.length;j>0;j-=1){mapValue=map[baseParts.slice(0,j).join("/")];if(mapValue){mapValue=mapValue[nameSegment];if(mapValue){foundMap=mapValue;foundI=i;break}}}}if(foundMap){break}if(!foundStarMap&&starMap&&starMap[nameSegment]){foundStarMap=starMap[nameSegment];starI=i}}if(!foundMap&&foundStarMap){foundMap=foundStarMap;foundI=starI}if(foundMap){nameParts.splice(0,foundI,foundMap);name=nameParts.join("/")}}return name}function makeRequire(relName,forceSync){return function(){return req.apply(undef,aps.call(arguments,0).concat([relName,forceSync]))}}function makeNormalize(relName){return function(name){return normalize(name,relName)}}function makeLoad(depName){return function(value){defined[depName]=value}}function callDep(name){if(hasProp(waiting,name)){var args=waiting[name];delete waiting[name];defining[name]=true;main.apply(undef,args)}if(!hasProp(defined,name)&&!hasProp(defining,name)){throw new Error("No "+name)}return defined[name]}function splitPrefix(name){var prefix,index=name?name.indexOf("!"):-1;if(index>-1){prefix=name.substring(0,index);name=name.substring(index+1,name.length)}return[prefix,name]}makeMap=function(name,relName){var plugin,parts=splitPrefix(name),prefix=parts[0];name=parts[1];if(prefix){prefix=normalize(prefix,relName);plugin=callDep(prefix)}if(prefix){if(plugin&&plugin.normalize){name=plugin.normalize(name,makeNormalize(relName))}else{name=normalize(name,relName)}}else{name=normalize(name,relName);parts=splitPrefix(name);prefix=parts[0];name=parts[1];if(prefix){plugin=callDep(prefix)}}return{f:prefix?prefix+"!"+name:name,n:name,pr:prefix,p:plugin}};function makeConfig(name){return function(){return(config&&config.config&&config.config[name])||{}}}handlers={require:function(name){return makeRequire(name)},exports:function(name){var e=defined[name];if(typeof e!=="undefined"){return e}else{return(defined[name]={})}},module:function(name){return{id:name,uri:"",exports:defined[name],config:makeConfig(name)}}};main=function(name,deps,callback,relName){var cjsModule,depName,ret,map,i,args=[],usingExports;relName=relName||name;if(typeof callback==="function"){deps=!deps.length&&callback.length?["require","exports","module"]:deps;for(i=0;i<deps.length;i+=1){map=makeMap(deps[i],relName);depName=map.f;if(depName==="require"){args[i]=handlers.require(name)}else{if(depName==="exports"){args[i]=handlers.exports(name);usingExports=true}else{if(depName==="module"){cjsModule=args[i]=handlers.module(name)}else{if(hasProp(defined,depName)||hasProp(waiting,depName)||hasProp(defining,depName)){args[i]=callDep(depName)}else{if(map.p){map.p.load(map.n,makeRequire(relName,true),makeLoad(depName),{});args[i]=defined[depName]}else{throw new Error(name+" missing "+depName)}}}}}}ret=callback.apply(defined[name],args);if(name){if(cjsModule&&cjsModule.exports!==undef&&cjsModule.exports!==defined[name]){defined[name]=cjsModule.exports}else{if(ret!==undef||!usingExports){defined[name]=ret}}}}else{if(name){defined[name]=callback}}require.analytics("invoked",relName||name,deps)};requirejs=require=req=function(deps,callback,relName,forceSync,alt){if(typeof deps==="string"){if(handlers[deps]){return handlers[deps](callback)}arguments.length===1&&require.analytics("legacyRequire",deps);return callDep(makeMap(deps,callback).f)}else{if(!deps.splice){config=deps;if(callback.splice){deps=callback;callback=relName;relName=null}else{deps=undef}}}callback=callback||function(){};if(typeof relName==="function"){relName=forceSync;forceSync=alt}if(forceSync){main(undef,deps,callback,relName)}else{setTimeout(function(){main(undef,deps,callback,relName)},4)}return req};req.config=function(cfg){config=cfg;if(config.deps){req(config.deps,config.callback)}return req};require.analytics=function(action,moduleName,deps){};define=function(name,deps,callback){if(!deps.splice){callback=deps;deps=[]}if(!hasProp(defined,name)&&!hasProp(waiting,name)){waiting[name]=[name,deps,callback];require.analytics("defined",name,deps)}};define.amd={jQuery:true}}());;
;
/* module-key = 'jira.webresources:almond', location = '/static/lib/almond-noconflict-post.js' */
if(window.__require){window.require=window.__require;window.requirejs=window.__requirejs;window.define=window.__define}else{delete window.define.amd}(function(require){var almondRequire=require;window.require=function(deps,callback){var value=almondRequire.apply(window,arguments);if(typeof deps==="string"){if(!(value instanceof Array)&&(typeof value==="object"||typeof value==="function")){value.__amdModuleName=deps}}return value};window.require.analytics=almondRequire.analytics})(window.require);try{delete window.__require}catch(e){window.__require=undefined}try{delete window.__requirejs}catch(e){window.__requirejs=undefined}try{delete window.__define}catch(e){window.__define=undefined};;
;
/* module-key = 'com.atlassian.plugins.jquery:jquery', location = '/jquery.js' */
(function(q){function Qa(a,b,d){if(void 0===d&&1===a.nodeType)if(d="data-"+b.replace(Wb,"-$1").toLowerCase(),d=a.getAttribute(d),"string"===typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:c.isNumeric(d)?+d:Xb.test(d)?c.parseJSON(d):d}catch(e){}c.data(a,b,d)}else d=void 0;return d}function va(a){for(var b in a)if(!("data"===b&&c.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function Ra(a,b,d){var e=b+"defer",f=b+"queue",g=b+"mark",h=c._data(a,e);h&&(("queue"===d||!c._data(a,f))&&
("mark"===d||!c._data(a,g)))&&setTimeout(function(){!c._data(a,f)&&!c._data(a,g)&&(c.removeData(a,e,!0),h.fire())},0)}function D(){return!1}function aa(){return!0}function Sa(a,b,d){b=b||0;if(c.isFunction(b))return c.grep(a,function(a,e){return!!b.call(a,e,a)===d});if(b.nodeType)return c.grep(a,function(a){return a===b===d});if("string"===typeof b){var e=c.grep(a,function(a){return 1===a.nodeType});if(Yb.test(b))return c.filter(b,e,!d);b=c.filter(b,e)}return c.grep(a,function(a){return 0<=c.inArray(a,
b)===d})}function Ta(a){var b=Ua.split("|"),a=a.createDocumentFragment();if(a.createElement)for(;b.length;)a.createElement(b.pop());return a}function Va(a,b){if(1===b.nodeType&&c.hasData(a)){var d,e,f;e=c._data(a);var g=c._data(b,e),h=e.events;if(h)for(d in delete g.handle,g.events={},h){e=0;for(f=h[d].length;e<f;e++)c.event.add(b,d,h[d][e])}g.data&&(g.data=c.extend({},g.data))}}function Wa(a,b){var d;if(1===b.nodeType){b.clearAttributes&&b.clearAttributes();b.mergeAttributes&&b.mergeAttributes(a);
d=b.nodeName.toLowerCase();if("object"===d)b.outerHTML=a.outerHTML;else if("input"===d&&("checkbox"===a.type||"radio"===a.type)){if(a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value)b.value=a.value}else"option"===d?b.selected=a.defaultSelected:"input"===d||"textarea"===d?b.defaultValue=a.defaultValue:"script"===d&&b.text!==a.text&&(b.text=a.text);b.removeAttribute(c.expando);b.removeAttribute("_submit_attached");b.removeAttribute("_change_attached")}}function ba(a){return"undefined"!==
typeof a.getElementsByTagName?a.getElementsByTagName("*"):"undefined"!==typeof a.querySelectorAll?a.querySelectorAll("*"):[]}function Xa(a){if("checkbox"===a.type||"radio"===a.type)a.defaultChecked=a.checked}function Ya(a,b,d){var e="width"===b?a.offsetWidth:a.offsetHeight,f="width"===b?1:0;if(0<e){if("border"!==d)for(;4>f;f+=2)d||(e-=parseFloat(c.css(a,"padding"+I[f]))||0),e="margin"===d?e+(parseFloat(c.css(a,d+I[f]))||0):e-(parseFloat(c.css(a,"border"+I[f]+"Width"))||0);return e+"px"}e=J(a,b);if(0>
e||null==e)e=a.style[b];if(wa.test(e))return e;e=parseFloat(e)||0;if(d)for(;4>f;f+=2)e+=parseFloat(c.css(a,"padding"+I[f]))||0,"padding"!==d&&(e+=parseFloat(c.css(a,"border"+I[f]+"Width"))||0),"margin"===d&&(e+=parseFloat(c.css(a,d+I[f]))||0);return e+"px"}function Za(a){return function(b,d){"string"!==typeof b&&(d=b,b="*");if(c.isFunction(d))for(var e=b.toLowerCase().split($a),f=0,g=e.length,h,i;f<g;f++)h=e[f],(i=/^\+/.test(h))&&(h=h.substr(1)||"*"),h=a[h]=a[h]||[],h[i?"unshift":"push"](d)}}function ca(a,
b,d,e,c,g){c=c||b.dataTypes[0];g=g||{};g[c]=!0;for(var c=a[c],h=0,i=c?c.length:0,k=a===xa,m;h<i&&(k||!m);h++)m=c[h](b,d,e),"string"===typeof m&&(!k||g[m]?m=void 0:(b.dataTypes.unshift(m),m=ca(a,b,d,e,m,g)));if((k||!m)&&!g["*"])m=ca(a,b,d,e,"*",g);return m}function ab(a,b){var d,e,f=c.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((f[d]?a:e||(e={}))[d]=b[d]);e&&c.extend(!0,a,e)}function ya(a,b,d,e){if(c.isArray(b))c.each(b,function(b,c){d||Zb.test(a)?e(a,c):ya(a+"["+("object"===typeof c?b:
"")+"]",c,d,e)});else if(!d&&"object"===c.type(b))for(var f in b)ya(a+"["+f+"]",b[f],d,e);else e(a,b)}function bb(){try{return new q.XMLHttpRequest}catch(a){}}function cb(){setTimeout($b,0);return da=c.now()}function $b(){da=void 0}function E(a,b){var d={};c.each(ea.concat.apply([],ea.slice(0,b)),function(){d[this]=a});return d}function db(a){if(!za[a]){var b=l.body,d=c("<"+a+">").appendTo(b),e=d.css("display");d.remove();if("none"===e||""===e){v||(v=l.createElement("iframe"),v.frameBorder=v.width=
v.height=0);b.appendChild(v);if(!L||!v.createElement)L=(v.contentWindow||v.contentDocument).document,L.write((c.support.boxModel?"<!doctype html>":"")+"<html><body>"),L.close();d=L.createElement(a);L.body.appendChild(d);e=c.css(d,"display");b.removeChild(v)}za[a]=e}return za[a]}function eb(a){return c.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var l=q.document,ac=q.location,c,fb=function(){if(!j.isReady){try{l.documentElement.doScroll("left")}catch(a){setTimeout(fb,1);return}j.ready()}},
j=function(a,b){return new j.fn.init(a,b,gb)},bc=q.jQuery,cc=q.$,gb,dc=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,hb=/\S/,ib=/^\s+/,jb=/\s+$/,ec=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,fc=/^[\],:{}\s]*$/,gc=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,hc=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,ic=/(?:^|:|,)(?:\s*\[)+/g,jc=/(webkit)[ \/]([\w.]+)/,kc=/(opera)(?:.*version)?[ \/]([\w.]+)/,lc=/(msie) ([\w.]+)/,mc=/(mozilla)(?:.*? rv:([\w.]+))?/,nc=/-([a-z]|[0-9])/ig,oc=/^-ms-/,pc=function(a,b){return(b+
"").toUpperCase()},qc=q.navigator.userAgent,fa,ga,Q,rc=Object.prototype.toString,Aa=Object.prototype.hasOwnProperty,Ba=Array.prototype.push,X=Array.prototype.slice,kb=String.prototype.trim,lb=Array.prototype.indexOf,mb={};j.fn=j.prototype={constructor:j,init:function(a,b,d){var e;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if("body"===a&&!b&&l.body)return this.context=l,this[0]=l.body,this.selector=a,this.length=1,this;if("string"===typeof a){if((e="<"===a.charAt(0)&&
">"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:dc.exec(a))&&(e[1]||!b)){if(e[1])return d=(b=b instanceof j?b[0]:b)?b.ownerDocument||b:l,(a=ec.exec(a))?j.isPlainObject(b)?(a=[l.createElement(a[1])],j.fn.attr.call(a,b,!0)):a=[d.createElement(a[1])]:(a=j.buildFragment([e[1]],[d]),a=(a.cacheable?j.clone(a.fragment):a.fragment).childNodes),j.merge(this,a);if((b=l.getElementById(e[2]))&&b.parentNode){if(b.id!==e[2])return d.find(a);this.length=1;this[0]=b}this.context=l;this.selector=a;return this}return!b||
b.jquery?(b||d).find(a):this.constructor(b).find(a)}if(j.isFunction(a))return d.ready(a);void 0!==a.selector&&(this.selector=a.selector,this.context=a.context);return j.makeArray(a,this)},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return X.call(this,0)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a,b,d){var e=this.constructor();j.isArray(a)?Ba.apply(e,a):j.merge(e,a);e.prevObject=this;e.context=this.context;
"find"===b?e.selector=this.selector+(this.selector?" ":"")+d:b&&(e.selector=this.selector+"."+b+"("+d+")");return e},each:function(a,b){return j.each(this,a,b)},ready:function(a){j.bindReady();ga.add(a);return this},eq:function(a){a=+a;return-1===a?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(X.apply(this,arguments),"slice",X.call(arguments).join(","))},map:function(a){return this.pushStack(j.map(this,
function(b,d){return a.call(b,d,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:Ba,sort:[].sort,splice:[].splice};j.fn.init.prototype=j.fn;j.extend=j.fn.extend=function(){var a,b,d,e,c,g=arguments[0]||{},h=1,i=arguments.length,k=!1;"boolean"===typeof g&&(k=g,g=arguments[1]||{},h=2);"object"!==typeof g&&!j.isFunction(g)&&(g={});i===h&&(g=this,--h);for(;h<i;h++)if(null!=(a=arguments[h]))for(b in a)d=g[b],e=a[b],g!==e&&(k&&e&&(j.isPlainObject(e)||(c=j.isArray(e)))?(c?(c=!1,
d=d&&j.isArray(d)?d:[]):d=d&&j.isPlainObject(d)?d:{},g[b]=j.extend(k,d,e)):void 0!==e&&(g[b]=e));return g};j.extend({noConflict:function(a){q.$===j&&(q.$=cc);a&&q.jQuery===j&&(q.jQuery=bc);return j},isReady:!1,readyWait:1,holdReady:function(a){a?j.readyWait++:j.ready(!0)},ready:function(a){if(!0===a&&!--j.readyWait||!0!==a&&!j.isReady){if(!l.body)return setTimeout(j.ready,1);j.isReady=!0;!0!==a&&0<--j.readyWait||(ga.fireWith(l,[j]),j.fn.trigger&&j(l).trigger("ready").off("ready"))}},bindReady:function(){if(!ga){ga=
j.Callbacks("once memory");if("complete"===l.readyState)return setTimeout(j.ready,1);if(l.addEventListener)l.addEventListener("DOMContentLoaded",Q,!1),q.addEventListener("load",j.ready,!1);else if(l.attachEvent){l.attachEvent("onreadystatechange",Q);q.attachEvent("onload",j.ready);var a=!1;try{a=null==q.frameElement}catch(b){}l.documentElement.doScroll&&a&&fb()}}},isFunction:function(a){return"function"===j.type(a)},isArray:Array.isArray||function(a){return"array"===j.type(a)},isWindow:function(a){return null!=
a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):mb[rc.call(a)]||"object"},isPlainObject:function(a){if(!a||"object"!==j.type(a)||a.nodeType||j.isWindow(a))return!1;try{if(a.constructor&&!Aa.call(a,"constructor")&&!Aa.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}for(var d in a);return void 0===d||Aa.call(a,d)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw Error(a);
},parseJSON:function(a){if("string"!==typeof a||!a)return null;a=j.trim(a);if(q.JSON&&q.JSON.parse)return q.JSON.parse(a);if(fc.test(a.replace(gc,"@").replace(hc,"]").replace(ic,"")))return(new Function("return "+a))();j.error("Invalid JSON: "+a)},parseXML:function(a){if("string"!==typeof a||!a)return null;var b,d;try{q.DOMParser?(d=new DOMParser,b=d.parseFromString(a,"text/xml")):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a))}catch(e){b=void 0}(!b||!b.documentElement||b.getElementsByTagName("parsererror").length)&&
j.error("Invalid XML: "+a);return b},noop:function(){},globalEval:function(a){a&&hb.test(a)&&(q.execScript||function(a){q.eval.call(q,a)})(a)},camelCase:function(a){return a.replace(oc,"ms-").replace(nc,pc)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,b,d){var e,c=0,g=a.length,h=void 0===g||j.isFunction(a);if(d)if(h)for(e in a){if(!1===b.apply(a[e],d))break}else for(;c<g&&!1!==b.apply(a[c++],d););else if(h)for(e in a){if(!1===b.call(a[e],e,
a[e]))break}else for(;c<g&&!1!==b.call(a[c],c,a[c++]););return a},trim:kb?function(a){return null==a?"":kb.call(a)}:function(a){return null==a?"":a.toString().replace(ib,"").replace(jb,"")},makeArray:function(a,b){var d=b||[];if(null!=a){var e=j.type(a);null==a.length||"string"===e||"function"===e||"regexp"===e||j.isWindow(a)?Ba.call(d,a):j.merge(d,a)}return d},inArray:function(a,b,d){var e;if(b){if(lb)return lb.call(b,a,d);e=b.length;for(d=d?0>d?Math.max(0,e+d):d:0;d<e;d++)if(d in b&&b[d]===a)return d}return-1},
merge:function(a,b){var d=a.length,e=0;if("number"===typeof b.length)for(var c=b.length;e<c;e++)a[d++]=b[e];else for(;void 0!==b[e];)a[d++]=b[e++];a.length=d;return a},grep:function(a,b,d){for(var e=[],c,d=!!d,g=0,h=a.length;g<h;g++)c=!!b(a[g],g),d!==c&&e.push(a[g]);return e},map:function(a,b,d){var e,c,g=[],h=0,i=a.length;if(a instanceof j||void 0!==i&&"number"===typeof i&&(0<i&&a[0]&&a[i-1]||0===i||j.isArray(a)))for(;h<i;h++)e=b(a[h],h,d),null!=e&&(g[g.length]=e);else for(c in a)e=b(a[c],c,d),null!=
e&&(g[g.length]=e);return g.concat.apply([],g)},guid:1,proxy:function(a,b){if("string"===typeof b)var d=a[b],b=a,a=d;if(j.isFunction(a)){var e=X.call(arguments,2),d=function(){return a.apply(b,e.concat(X.call(arguments)))};d.guid=a.guid=a.guid||d.guid||j.guid++;return d}},access:function(a,b,d,e,c,g,h){var i,k=null==d,m=0,x=a.length;if(d&&"object"===typeof d){for(m in d)j.access(a,b,m,d[m],1,g,e);c=1}else if(void 0!==e){i=void 0===h&&j.isFunction(e);k&&(i?(i=b,b=function(a,b,d){return i.call(j(a),
d)}):(b.call(a,e),b=null));if(b)for(;m<x;m++)b(a[m],d,i?e.call(a[m],m,b(a[m],d)):e,h);c=1}return c?a:k?b.call(a):x?b(a[0],d):g},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();a=jc.exec(a)||kc.exec(a)||lc.exec(a)||0>a.indexOf("compatible")&&mc.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}},sub:function(){function a(b,e){return new a.fn.init(b,e)}j.extend(!0,a,this);a.superclass=this;a.fn=a.prototype=this();a.fn.constructor=a;a.sub=this.sub;a.fn.init=function(d,
e){e&&(e instanceof j&&!(e instanceof a))&&(e=a(e));return j.fn.init.call(this,d,e,b)};a.fn.init.prototype=a.fn;var b=a(l);return a},browser:{}});j.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){mb["[object "+b+"]"]=b.toLowerCase()});fa=j.uaMatch(qc);fa.browser&&(j.browser[fa.browser]=!0,j.browser.version=fa.version);j.browser.webkit&&(j.browser.safari=!0);hb.test("\u00a0")&&(ib=/^[\s\xA0]+/,jb=/[\s\xA0]+$/);gb=j(l);l.addEventListener?Q=function(){l.removeEventListener("DOMContentLoaded",
Q,false);j.ready()}:l.attachEvent&&(Q=function(){if(l.readyState==="complete"){l.detachEvent("onreadystatechange",Q);j.ready()}});c=j;var ob={};c.Callbacks=function(a){var b;if(a){if(!(b=ob[a])){b=a;var d=ob[b]={},e,f;b=b.split(/\s+/);e=0;for(f=b.length;e<f;e++)d[b[e]]=true;b=d}}else b={};var a=b,g=[],h=[],i,k,m,x,M,t,l=function(b){var d,e,f,h;d=0;for(e=b.length;d<e;d++){f=b[d];h=c.type(f);h==="array"?l(f):h==="function"&&(!a.unique||!n.has(f))&&g.push(f)}},j=function(b,d){d=d||[];i=!a.memory||[b,
d];m=k=true;t=x||0;x=0;for(M=g.length;g&&t<M;t++)if(g[t].apply(b,d)===false&&a.stopOnFalse){i=true;break}m=false;if(g)if(a.once)i===true?n.disable():g=[];else if(h&&h.length){i=h.shift();n.fireWith(i[0],i[1])}},n={add:function(){if(g){var a=g.length;l(arguments);if(m)M=g.length;else if(i&&i!==true){x=a;j(i[0],i[1])}}return this},remove:function(){if(g)for(var b=arguments,d=0,e=b.length;d<e;d++)for(var c=0;c<g.length;c++)if(b[d]===g[c]){if(m&&c<=M){M--;c<=t&&t--}g.splice(c--,1);if(a.unique)break}return this},
has:function(a){if(g)for(var b=0,d=g.length;b<d;b++)if(a===g[b])return true;return false},empty:function(){g=[];return this},disable:function(){g=h=i=void 0;return this},disabled:function(){return!g},lock:function(){h=void 0;(!i||i===true)&&n.disable();return this},locked:function(){return!h},fireWith:function(b,d){h&&(m?a.once||h.push([b,d]):(!a.once||!i)&&j(b,d));return this},fire:function(){n.fireWith(this,arguments);return this},fired:function(){return!!k}};return n};var Ca=[].slice;c.extend({Deferred:function(a){var b=
c.Callbacks("once memory"),d=c.Callbacks("once memory"),e=c.Callbacks("memory"),f="pending",g={resolve:b,reject:d,notify:e},h={done:b.add,fail:d.add,progress:e.add,state:function(){return f},isResolved:b.fired,isRejected:d.fired,then:function(a,b,d){i.done(a).fail(b).progress(d);return this},always:function(){i.done.apply(i,arguments).fail.apply(i,arguments);return this},pipe:function(a,b,d){return c.Deferred(function(e){c.each({done:[a,"resolve"],fail:[b,"reject"],progress:[d,"notify"]},function(a,
b){var d=b[0],f=b[1],g;if(c.isFunction(d))i[a](function(){if((g=d.apply(this,arguments))&&c.isFunction(g.promise))g.promise().then(e.resolve,e.reject,e.notify);else e[f+"With"](this===i?e:this,[g])});else i[a](e[f])})}).promise()},promise:function(a){if(a==null)a=h;else for(var b in h)a[b]=h[b];return a}},i=h.promise({}),k;for(k in g){i[k]=g[k].fire;i[k+"With"]=g[k].fireWith}i.done(function(){f="resolved"},d.disable,e.lock).fail(function(){f="rejected"},b.disable,e.lock);a&&a.call(i,i);return i},
when:function(a){function b(a){return function(b){e[a]=arguments.length>1?Ca.call(arguments,0):b;--i||k.resolveWith(k,e)}}function d(a){return function(b){h[a]=arguments.length>1?Ca.call(arguments,0):b;k.notifyWith(m,h)}}var e=Ca.call(arguments,0),f=0,g=e.length,h=Array(g),i=g,k=g<=1&&a&&c.isFunction(a.promise)?a:c.Deferred(),m=k.promise();if(g>1){for(;f<g;f++)e[f]&&e[f].promise&&c.isFunction(e[f].promise)?e[f].promise().then(b(f),k.reject,d(f)):--i;i||k.resolveWith(k,e)}else k!==a&&k.resolveWith(k,
g?[a]:[]);return m}});var sc=c,Da;var r,Ea,R,ha,ia,u,F,Y,ja,Fa,S,o=l.createElement("div");o.setAttribute("className","t");o.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";Ea=o.getElementsByTagName("*");R=o.getElementsByTagName("a")[0];if(!Ea||!Ea.length||!R)Da={};else{ha=l.createElement("select");ia=ha.appendChild(l.createElement("option"));u=o.getElementsByTagName("input")[0];r={leadingWhitespace:3===o.firstChild.nodeType,tbody:!o.getElementsByTagName("tbody").length,
htmlSerialize:!!o.getElementsByTagName("link").length,style:/top/.test(R.getAttribute("style")),hrefNormalized:"/a"===R.getAttribute("href"),opacity:/^0.55/.test(R.style.opacity),cssFloat:!!R.style.cssFloat,checkOn:"on"===u.value,optSelected:ia.selected,getSetAttribute:"t"!==o.className,enctype:!!l.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==l.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,
shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0};c.boxModel=r.boxModel="CSS1Compat"===l.compatMode;u.checked=!0;r.noCloneChecked=u.cloneNode(!0).checked;ha.disabled=!0;r.optDisabled=!ia.disabled;try{delete o.test}catch(kd){r.deleteExpando=!1}!o.addEventListener&&(o.attachEvent&&o.fireEvent)&&(o.attachEvent("onclick",function(){r.noCloneEvent=false}),o.cloneNode(!0).fireEvent("onclick"));u=l.createElement("input");u.value="t";u.setAttribute("type","radio");r.radioValue="t"===u.value;u.setAttribute("checked",
"checked");u.setAttribute("name","t");o.appendChild(u);F=l.createDocumentFragment();F.appendChild(o.lastChild);r.checkClone=F.cloneNode(!0).cloneNode(!0).lastChild.checked;r.appendChecked=u.checked;F.removeChild(u);F.appendChild(o);if(o.attachEvent)for(Fa in{submit:1,change:1,focusin:1})ja="on"+Fa,S=ja in o,S||(o.setAttribute(ja,"return;"),S="function"===typeof o[ja]),r[Fa+"Bubbles"]=S;F.removeChild(o);F=ha=ia=o=u=null;c(function(){var a,b,d,e,f=l.getElementsByTagName("body")[0];if(f){a=l.createElement("div");
a.style.cssText="padding:0;margin:0;border:0;visibility:hidden;width:0;height:0;position:static;top:0;margin-top:1px";f.insertBefore(a,f.firstChild);o=l.createElement("div");a.appendChild(o);o.innerHTML="<table><tr><td style='padding:0;margin:0;border:0;display:none'></td><td>t</td></tr></table>";Y=o.getElementsByTagName("td");S=Y[0].offsetHeight===0;Y[0].style.display="";Y[1].style.display="none";r.reliableHiddenOffsets=S&&Y[0].offsetHeight===0;if(q.getComputedStyle){o.innerHTML="";b=l.createElement("div");
b.style.width="0";b.style.marginRight="0";o.style.width="2px";o.appendChild(b);r.reliableMarginRight=(parseInt((q.getComputedStyle(b,null)||{marginRight:0}).marginRight,10)||0)===0}if(typeof o.style.zoom!=="undefined"){o.innerHTML="";o.style.width=o.style.padding="1px";o.style.border=0;o.style.overflow="hidden";o.style.display="inline";o.style.zoom=1;r.inlineBlockNeedsLayout=o.offsetWidth===3;o.style.display="block";o.style.overflow="visible";o.innerHTML="<div style='width:5px;'></div>";r.shrinkWrapBlocks=
o.offsetWidth!==3}o.style.cssText="position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:0;visibility:hidden;";o.innerHTML="<div style='position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:5px solid #000;display:block;'><div style='padding:0;margin:0;border:0;display:block;overflow:hidden;'></div></div><table style='position:absolute;top:0;left:0;width:1px;height:1px;padding:0;margin:0;border:5px solid #000;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";
b=o.firstChild;d=b.firstChild;e=b.nextSibling.firstChild.firstChild;e={doesNotAddBorder:d.offsetTop!==5,doesAddBorderForTableAndCells:e.offsetTop===5};d.style.position="fixed";d.style.top="20px";e.fixedPosition=d.offsetTop===20||d.offsetTop===15;d.style.position=d.style.top="";b.style.overflow="hidden";b.style.position="relative";e.subtractsBorderForOverflowNotVisible=d.offsetTop===-5;e.doesNotIncludeMarginInBodyOffset=f.offsetTop!==1;if(q.getComputedStyle){o.style.marginTop="1%";r.pixelMargin=(q.getComputedStyle(o,
null)||{marginTop:0}).marginTop!=="1%"}if(typeof a.style.zoom!=="undefined")a.style.zoom=1;f.removeChild(a);o=null;c.extend(r,e)}});Da=r}sc.support=Da;var Xb=/^(?:\{.*\}|\[.*\])$/,Wb=/([A-Z])/g;c.extend({cache:{},uuid:0,expando:"jQuery"+(c.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?c.cache[a[c.expando]]:a[c.expando];return!!a&&!va(a)},data:function(a,b,d,e){if(c.acceptData(a)){var f;f=
c.expando;var g=typeof b==="string",h=a.nodeType,i=h?c.cache:a,k=h?a[f]:a[f]&&f,m=b==="events";if(k&&i[k]&&(m||e||i[k].data)||!(g&&d===void 0)){k||(h?a[f]=k=++c.uuid:k=f);if(!i[k]){i[k]={};if(!h)i[k].toJSON=c.noop}if(typeof b==="object"||typeof b==="function")e?i[k]=c.extend(i[k],b):i[k].data=c.extend(i[k].data,b);f=a=i[k];if(!e){if(!a.data)a.data={};a=a.data}d!==void 0&&(a[c.camelCase(b)]=d);if(m&&!a[b])return f.events;if(g){d=a[b];d==null&&(d=a[c.camelCase(b)])}else d=a;return d}}},removeData:function(a,
b,d){if(c.acceptData(a)){var e,f,g,h=c.expando,i=a.nodeType,k=i?c.cache:a,m=i?a[h]:h;if(k[m]){if(b)if(e=d?k[m]:k[m].data){if(!c.isArray(b))if(b in e)b=[b];else{b=c.camelCase(b);b=b in e?[b]:b.split(" ")}f=0;for(g=b.length;f<g;f++)delete e[b[f]];if(!(d?va:c.isEmptyObject)(e))return}if(!d){delete k[m].data;if(!va(k[m]))return}c.support.deleteExpando||!k.setInterval?delete k[m]:k[m]=null;i&&(c.support.deleteExpando?delete a[h]:a.removeAttribute?a.removeAttribute(h):a[h]=null)}}},_data:function(a,b,d){return c.data(a,
b,d,true)},acceptData:function(a){if(a.nodeName){var b=c.noData[a.nodeName.toLowerCase()];if(b)return!(b===true||a.getAttribute("classid")!==b)}return true}});c.fn.extend({data:function(a,b){var d,e,f,g,h,i=this[0],k=0,m=null;if(a===void 0){if(this.length){m=c.data(i);if(i.nodeType===1&&!c._data(i,"parsedAttrs")){f=i.attributes;for(h=f.length;k<h;k++){g=f[k].name;if(g.indexOf("data-")===0){g=c.camelCase(g.substring(5));Qa(i,g,m[g])}}c._data(i,"parsedAttrs",true)}}return m}if(typeof a==="object")return this.each(function(){c.data(this,
a)});d=a.split(".",2);d[1]=d[1]?"."+d[1]:"";e=d[1]+"!";return c.access(this,function(b){if(b===void 0){m=this.triggerHandler("getData"+e,[d[0]]);if(m===void 0&&i){m=c.data(i,a);m=Qa(i,a,m)}return m===void 0&&d[1]?this.data(d[0]):m}d[1]=b;this.each(function(){var f=c(this);f.triggerHandler("setData"+e,d);c.data(this,a,b);f.triggerHandler("changeData"+e,d)})},null,b,arguments.length>1,null,false)},removeData:function(a){return this.each(function(){c.removeData(this,a)})}});c.extend({_mark:function(a,
b){if(a){b=(b||"fx")+"mark";c._data(a,b,(c._data(a,b)||0)+1)}},_unmark:function(a,b,d){if(a!==true){d=b;b=a;a=false}if(b){var d=d||"fx",e=d+"mark";if(a=a?0:(c._data(b,e)||1)-1)c._data(b,e,a);else{c.removeData(b,e,true);Ra(b,d,"mark")}}},queue:function(a,b,d){var e;if(a){b=(b||"fx")+"queue";e=c._data(a,b);d&&(!e||c.isArray(d)?e=c._data(a,b,c.makeArray(d)):e.push(d));return e||[]}},dequeue:function(a,b){var b=b||"fx",d=c.queue(a,b),e=d.shift(),f={};e==="inprogress"&&(e=d.shift());if(e){b==="fx"&&d.unshift("inprogress");
c._data(a,b+".run",f);e.call(a,function(){c.dequeue(a,b)},f)}if(!d.length){c.removeData(a,b+"queue "+b+".run",true);Ra(a,b,"queue")}}});c.fn.extend({queue:function(a,b){var d=2;if(typeof a!=="string"){b=a;a="fx";d--}return arguments.length<d?c.queue(this[0],a):b===void 0?this:this.each(function(){var d=c.queue(this,a,b);a==="fx"&&d[0]!=="inprogress"&&c.dequeue(this,a)})},dequeue:function(a){return this.each(function(){c.dequeue(this,a)})},delay:function(a,b){a=c.fx?c.fx.speeds[a]||a:a;return this.queue(b||
"fx",function(b,e){var c=setTimeout(b,a);e.stop=function(){clearTimeout(c)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){function d(){--h||e.resolveWith(f,[f])}if(typeof a!=="string"){b=a;a=void 0}for(var a=a||"fx",e=c.Deferred(),f=this,g=f.length,h=1,i=a+"defer",k=a+"queue",m=a+"mark",x;g--;)if(x=c.data(f[g],i,void 0,true)||(c.data(f[g],k,void 0,true)||c.data(f[g],m,void 0,true))&&c.data(f[g],i,c.Callbacks("once memory"),true)){h++;x.add(d)}d();return e.promise(b)}});
var qb=/[\n\t\r]/g,ka=/\s+/,tc=/\r/g,uc=/^(?:button|input)$/i,vc=/^(?:button|input|object|select|textarea)$/i,wc=/^a(?:rea)?$/i,rb=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,sb=c.support.getSetAttribute,y,tb,ub;c.fn.extend({attr:function(a,b){return c.access(this,c.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){c.removeAttr(this,a)})},prop:function(a,b){return c.access(this,c.prop,
a,b,arguments.length>1)},removeProp:function(a){a=c.propFix[a]||a;return this.each(function(){try{this[a]=void 0;delete this[a]}catch(b){}})},addClass:function(a){var b,d,e,f,g,h,i;if(c.isFunction(a))return this.each(function(b){c(this).addClass(a.call(this,b,this.className))});if(a&&typeof a==="string"){b=a.split(ka);d=0;for(e=this.length;d<e;d++){f=this[d];if(f.nodeType===1)if(!f.className&&b.length===1)f.className=a;else{g=" "+f.className+" ";h=0;for(i=b.length;h<i;h++)~g.indexOf(" "+b[h]+" ")||
(g=g+(b[h]+" "));f.className=c.trim(g)}}}return this},removeClass:function(a){var b,d,e,f,g,h,i;if(c.isFunction(a))return this.each(function(b){c(this).removeClass(a.call(this,b,this.className))});if(a&&typeof a==="string"||a===void 0){b=(a||"").split(ka);d=0;for(e=this.length;d<e;d++){f=this[d];if(f.nodeType===1&&f.className)if(a){g=(" "+f.className+" ").replace(qb," ");h=0;for(i=b.length;h<i;h++)g=g.replace(" "+b[h]+" "," ");f.className=c.trim(g)}else f.className=""}}return this},toggleClass:function(a,
b){var d=typeof a,e=typeof b==="boolean";return c.isFunction(a)?this.each(function(d){c(this).toggleClass(a.call(this,d,this.className,b),b)}):this.each(function(){if(d==="string")for(var f,g=0,h=c(this),i=b,k=a.split(ka);f=k[g++];){i=e?i:!h.hasClass(f);h[i?"addClass":"removeClass"](f)}else if(d==="undefined"||d==="boolean"){this.className&&c._data(this,"__className__",this.className);this.className=this.className||a===false?"":c._data(this,"__className__")||""}})},hasClass:function(a){for(var a=
" "+a+" ",b=0,d=this.length;b<d;b++)if(this[b].nodeType===1&&(" "+this[b].className+" ").replace(qb," ").indexOf(a)>-1)return true;return false},val:function(a){var b,d,e,f=this[0];if(arguments.length){e=c.isFunction(a);return this.each(function(d){var f=c(this);if(this.nodeType===1){d=e?a.call(this,d,f.val()):a;d==null?d="":typeof d==="number"?d=d+"":c.isArray(d)&&(d=c.map(d,function(a){return a==null?"":a+""}));b=c.valHooks[this.type]||c.valHooks[this.nodeName.toLowerCase()];if(!b||!("set"in b)||
b.set(this,d,"value")===void 0)this.value=d}})}if(f){if((b=c.valHooks[f.type]||c.valHooks[f.nodeName.toLowerCase()])&&"get"in b&&(d=b.get(f,"value"))!==void 0)return d;d=f.value;return typeof d==="string"?d.replace(tc,""):d==null?"":d}}});c.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,d,e=a.selectedIndex,f=[],g=a.options,h=a.type==="select-one";if(e<0)return null;a=h?e:0;for(d=h?e+1:g.length;a<d;a++){b=g[a];
if(b.selected&&(c.support.optDisabled?!b.disabled:b.getAttribute("disabled")===null)&&(!b.parentNode.disabled||!c.nodeName(b.parentNode,"optgroup"))){b=c(b).val();if(h)return b;f.push(b)}}return h&&!f.length&&g.length?c(g[e]).val():f},set:function(a,b){var d=c.makeArray(b);c(a).find("option").each(function(){this.selected=c.inArray(c(this).val(),d)>=0});if(!d.length)a.selectedIndex=-1;return d}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,b,d,e){var f,
g,h=a.nodeType;if(a&&!(h===3||h===8||h===2)){if(e&&b in c.attrFn)return c(a)[b](d);if(typeof a.getAttribute==="undefined")return c.prop(a,b,d);if(e=h!==1||!c.isXMLDoc(a)){b=b.toLowerCase();g=c.attrHooks[b]||(rb.test(b)?tb:y)}if(d!==void 0)if(d===null)c.removeAttr(a,b);else{if(g&&"set"in g&&e&&(f=g.set(a,d,b))!==void 0)return f;a.setAttribute(b,""+d);return d}else{if(g&&"get"in g&&e&&(f=g.get(a,b))!==null)return f;f=a.getAttribute(b);return f===null?void 0:f}}},removeAttr:function(a,b){var d,e,f,g,
h,i=0;if(b&&a.nodeType===1){e=b.toLowerCase().split(ka);for(g=e.length;i<g;i++)if(f=e[i]){d=c.propFix[f]||f;(h=rb.test(f))||c.attr(a,f,"");a.removeAttribute(sb?f:d);h&&d in a&&(a[d]=false)}}},attrHooks:{type:{set:function(a,b){if(uc.test(a.nodeName)&&a.parentNode)c.error("type property can't be changed");else if(!c.support.radioValue&&b==="radio"&&c.nodeName(a,"input")){var d=a.value;a.setAttribute("type",b);if(d)a.value=d;return b}}},value:{get:function(a,b){return y&&c.nodeName(a,"button")?y.get(a,
b):b in a?a.value:null},set:function(a,b,d){if(y&&c.nodeName(a,"button"))return y.set(a,b,d);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,b,d){var e,f,g;g=a.nodeType;if(a&&!(g===3||g===8||g===2)){if(g=g!==1||!c.isXMLDoc(a)){b=c.propFix[b]||b;f=c.propHooks[b]}return d!==
void 0?f&&"set"in f&&(e=f.set(a,d,b))!==void 0?e:a[b]=d:f&&"get"in f&&(e=f.get(a,b))!==null?e:a[b]}},propHooks:{tabIndex:{get:function(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?parseInt(b.value,10):vc.test(a.nodeName)||wc.test(a.nodeName)&&a.href?0:void 0}}}});c.attrHooks.tabindex=c.propHooks.tabIndex;tb={get:function(a,b){var d,e=c.prop(a,b);return e===true||typeof e!=="boolean"&&(d=a.getAttributeNode(b))&&d.nodeValue!==false?b.toLowerCase():void 0},set:function(a,b,d){if(b===
false)c.removeAttr(a,d);else{b=c.propFix[d]||d;b in a&&(a[b]=true);a.setAttribute(d,d.toLowerCase())}return d}};sb||(ub={name:!0,id:!0,coords:!0},y=c.valHooks.button={get:function(a,b){var d;return(d=a.getAttributeNode(b))&&(ub[b]?d.nodeValue!=="":d.specified)?d.nodeValue:void 0},set:function(a,b,d){var e=a.getAttributeNode(d);if(!e){e=l.createAttribute(d);a.setAttributeNode(e)}return e.nodeValue=b+""}},c.attrHooks.tabindex.set=y.set,c.each(["width","height"],function(a,b){c.attrHooks[b]=c.extend(c.attrHooks[b],
{set:function(a,e){if(e===""){a.setAttribute(b,"auto");return e}}})}),c.attrHooks.contenteditable={get:y.get,set:function(a,b,d){b===""&&(b="false");y.set(a,b,d)}});c.support.hrefNormalized||c.each(["href","src","width","height"],function(a,b){c.attrHooks[b]=c.extend(c.attrHooks[b],{get:function(a){a=a.getAttribute(b,2);return a===null?void 0:a}})});c.support.style||(c.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||void 0},set:function(a,b){return a.style.cssText=""+b}});c.support.optSelected||
(c.propHooks.selected=c.extend(c.propHooks.selected,{get:function(a){if(a=a.parentNode){a.selectedIndex;a.parentNode&&a.parentNode.selectedIndex}return null}}));c.support.enctype||(c.propFix.enctype="encoding");c.support.checkOn||c.each(["radio","checkbox"],function(){c.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}});c.each(["radio","checkbox"],function(){c.valHooks[this]=c.extend(c.valHooks[this],{set:function(a,b){if(c.isArray(b))return a.checked=c.inArray(c(a).val(),
b)>=0}})});var Ga=/^(?:textarea|input|select)$/i,vb=/^([^\.]*)?(?:\.(.+))?$/,xc=/(?:^|\s)hover(\.\S+)?\b/,yc=/^key/,zc=/^(?:mouse|contextmenu)|click/,wb=/^(?:focusinfocus|focusoutblur)$/,Ac=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,Bc=function(a){if(a=Ac.exec(a)){a[1]=(a[1]||"").toLowerCase();a[3]=a[3]&&RegExp("(?:^|\\s)"+a[3]+"(?:\\s|$)")}return a},xb=function(a){return c.event.special.hover?a:a.replace(xc,"mouseenter$1 mouseleave$1")};c.event={add:function(a,b,d,e,f){var g,h,i,k,m,x,l,j,n;if(!(a.nodeType===
3||a.nodeType===8||!b||!d||!(g=c._data(a)))){if(d.handler){l=d;d=l.handler;f=l.selector}if(!d.guid)d.guid=c.guid++;i=g.events;if(!i)g.events=i={};h=g.handle;if(!h){g.handle=h=function(a){return typeof c!=="undefined"&&(!a||c.event.triggered!==a.type)?c.event.dispatch.apply(h.elem,arguments):void 0};h.elem=a}b=c.trim(xb(b)).split(" ");for(g=0;g<b.length;g++){k=vb.exec(b[g])||[];m=k[1];x=(k[2]||"").split(".").sort();n=c.event.special[m]||{};m=(f?n.delegateType:n.bindType)||m;n=c.event.special[m]||{};
k=c.extend({type:m,origType:k[1],data:e,handler:d,guid:d.guid,selector:f,quick:f&&Bc(f),namespace:x.join(".")},l);j=i[m];if(!j){j=i[m]=[];j.delegateCount=0;if(!n.setup||n.setup.call(a,e,x,h)===false)a.addEventListener?a.addEventListener(m,h,false):a.attachEvent&&a.attachEvent("on"+m,h)}if(n.add){n.add.call(a,k);if(!k.handler.guid)k.handler.guid=d.guid}f?j.splice(j.delegateCount++,0,k):j.push(k);c.event.global[m]=true}a=null}},global:{},remove:function(a,b,d,e,f){var g=c.hasData(a)&&c._data(a),h,i,
k,m,x,j,l,n,o,p;if(g&&(l=g.events)){b=c.trim(xb(b||"")).split(" ");for(h=0;h<b.length;h++){i=vb.exec(b[h])||[];k=m=i[1];i=i[2];if(k){n=c.event.special[k]||{};k=(e?n.delegateType:n.bindType)||k;o=l[k]||[];x=o.length;i=i?RegExp("(^|\\.)"+i.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(j=0;j<o.length;j++){p=o[j];if((f||m===p.origType)&&(!d||d.guid===p.guid)&&(!i||i.test(p.namespace))&&(!e||e===p.selector||e==="**"&&p.selector)){o.splice(j--,1);p.selector&&o.delegateCount--;n.remove&&n.remove.call(a,
p)}}if(o.length===0&&x!==o.length){(!n.teardown||n.teardown.call(a,i)===false)&&c.removeEvent(a,k,g.handle);delete l[k]}}else for(k in l)c.event.remove(a,k+b[h],d,e,true)}if(c.isEmptyObject(l)){if(b=g.handle)b.elem=null;c.removeData(a,["events","handle"],true)}}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(a,b,d,e){if(!d||!(d.nodeType===3||d.nodeType===8)){var f=a.type||a,g=[],h,i,k,m,j;if(!wb.test(f+c.event.triggered)){if(f.indexOf("!")>=0){f=f.slice(0,-1);h=true}if(f.indexOf(".")>=
0){g=f.split(".");f=g.shift();g.sort()}if(d&&!c.event.customEvent[f]||c.event.global[f]){a=typeof a==="object"?a[c.expando]?a:new c.Event(f,a):new c.Event(f);a.type=f;a.isTrigger=true;a.exclusive=h;a.namespace=g.join(".");a.namespace_re=a.namespace?RegExp("(^|\\.)"+g.join("\\.(?:.*\\.)?")+"(\\.|$)"):null;h=f.indexOf(":")<0?"on"+f:"";if(d){a.result=void 0;if(!a.target)a.target=d;b=b!=null?c.makeArray(b):[];b.unshift(a);k=c.event.special[f]||{};if(!(k.trigger&&k.trigger.apply(d,b)===false)){j=[[d,k.bindType||
f]];if(!e&&!k.noBubble&&!c.isWindow(d)){m=k.delegateType||f;g=wb.test(m+f)?d:d.parentNode;for(i=null;g;g=g.parentNode){j.push([g,m]);i=g}i&&i===d.ownerDocument&&j.push([i.defaultView||i.parentWindow||q,m])}for(i=0;i<j.length&&!a.isPropagationStopped();i++){g=j[i][0];a.type=j[i][1];(m=(c._data(g,"events")||{})[a.type]&&c._data(g,"handle"))&&m.apply(g,b);(m=h&&g[h])&&(c.acceptData(g)&&m.apply(g,b)===false)&&a.preventDefault()}a.type=f;if(!e&&!a.isDefaultPrevented()&&(!k._default||k._default.apply(d.ownerDocument,
b)===false)&&!(f==="click"&&c.nodeName(d,"a"))&&c.acceptData(d))if(h&&d[f]&&(f!=="focus"&&f!=="blur"||a.target.offsetWidth!==0)&&!c.isWindow(d)){(i=d[h])&&(d[h]=null);c.event.triggered=f;d[f]();c.event.triggered=void 0;i&&(d[h]=i)}return a.result}}else{d=c.cache;for(i in d)d[i].events&&d[i].events[f]&&c.event.trigger(a,b,d[i].handle.elem,true)}}}}},dispatch:function(a){var a=c.event.fix(a||q.event),b=(c._data(this,"events")||{})[a.type]||[],d=b.delegateCount,e=[].slice.call(arguments,0),f=!a.exclusive&&
!a.namespace,g=c.event.special[a.type]||{},h=[],i,k,m,j,l,n,o;e[0]=a;a.delegateTarget=this;if(!(g.preDispatch&&g.preDispatch.call(this,a)===false)){if(d&&!(a.button&&a.type==="click")){m=c(this);m.context=this.ownerDocument||this;for(k=a.target;k!=this;k=k.parentNode||this)if(k.disabled!==true){l={};n=[];m[0]=k;for(i=0;i<d;i++){j=b[i];o=j.selector;if(l[o]===void 0){var p=l,r=o,C;if(j.quick){C=j.quick;var pb=k.attributes||{};C=(!C[1]||k.nodeName.toLowerCase()===C[1])&&(!C[2]||(pb.id||{}).value===C[2])&&
(!C[3]||C[3].test((pb["class"]||{}).value))}else C=m.is(o);p[r]=C}l[o]&&n.push(j)}n.length&&h.push({elem:k,matches:n})}}b.length>d&&h.push({elem:this,matches:b.slice(d)});for(i=0;i<h.length&&!a.isPropagationStopped();i++){d=h[i];a.currentTarget=d.elem;for(b=0;b<d.matches.length&&!a.isImmediatePropagationStopped();b++){j=d.matches[b];if(f||!a.namespace&&!j.namespace||a.namespace_re&&a.namespace_re.test(j.namespace)){a.data=j.data;a.handleObj=j;j=((c.event.special[j.origType]||{}).handle||j.handler).apply(d.elem,
e);if(j!==void 0){a.result=j;if(j===false){a.preventDefault();a.stopPropagation()}}}}}g.postDispatch&&g.postDispatch.call(this,a);return a.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){if(a.which==null)a.which=b.charCode!=null?b.charCode:b.keyCode;return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
filter:function(a,b){var d,e,c=b.button,g=b.fromElement;if(a.pageX==null&&b.clientX!=null){d=a.target.ownerDocument||l;e=d.documentElement;d=d.body;a.pageX=b.clientX+(e&&e.scrollLeft||d&&d.scrollLeft||0)-(e&&e.clientLeft||d&&d.clientLeft||0);a.pageY=b.clientY+(e&&e.scrollTop||d&&d.scrollTop||0)-(e&&e.clientTop||d&&d.clientTop||0)}if(!a.relatedTarget&&g)a.relatedTarget=g===a.target?b.toElement:g;if(!a.which&&c!==void 0)a.which=c&1?1:c&2?3:c&4?2:0;return a}},fix:function(a){if(a[c.expando])return a;
var b,d,e=a,f=c.event.fixHooks[a.type]||{},g=f.props?this.props.concat(f.props):this.props,a=c.Event(e);for(b=g.length;b;){d=g[--b];a[d]=e[d]}if(!a.target)a.target=e.srcElement||l;if(a.target.nodeType===3)a.target=a.target.parentNode;if(a.metaKey===void 0)a.metaKey=a.ctrlKey;return f.filter?f.filter(a,e):a},special:{ready:{setup:c.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,d){if(c.isWindow(this))this.onbeforeunload=
d},teardown:function(a,b){if(this.onbeforeunload===b)this.onbeforeunload=null}}},simulate:function(a,b,d,e){a=c.extend(new c.Event,d,{type:a,isSimulated:true,originalEvent:{}});e?c.event.trigger(a,null,b):c.event.dispatch.call(b,a);a.isDefaultPrevented()&&d.preventDefault()}};c.event.handle=c.event.dispatch;c.removeEvent=l.removeEventListener?function(a,b,d){a.removeEventListener&&a.removeEventListener(b,d,false)}:function(a,b,d){a.detachEvent&&a.detachEvent("on"+b,d)};c.Event=function(a,b){if(!(this instanceof
c.Event))return new c.Event(a,b);if(a&&a.type){this.originalEvent=a;this.type=a.type;this.isDefaultPrevented=a.defaultPrevented||a.returnValue===false||a.getPreventDefault&&a.getPreventDefault()?aa:D}else this.type=a;b&&c.extend(this,b);this.timeStamp=a&&a.timeStamp||c.now();this[c.expando]=true};c.Event.prototype={preventDefault:function(){this.isDefaultPrevented=aa;var a=this.originalEvent;if(a)a.preventDefault?a.preventDefault():a.returnValue=false},stopPropagation:function(){this.isPropagationStopped=
aa;var a=this.originalEvent;if(a){a.stopPropagation&&a.stopPropagation();a.cancelBubble=true}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=aa;this.stopPropagation()},isDefaultPrevented:D,isPropagationStopped:D,isImmediatePropagationStopped:D};c.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){c.event.special[a]={delegateType:b,bindType:b,handle:function(a){var e=a.relatedTarget,f=a.handleObj,g;if(!e||e!==this&&!c.contains(this,e)){a.type=f.origType;g=f.handler.apply(this,
arguments);a.type=b}return g}}});c.support.submitBubbles||(c.event.special.submit={setup:function(){if(c.nodeName(this,"form"))return false;c.event.add(this,"click._submit keypress._submit",function(a){a=a.target;if((a=c.nodeName(a,"input")||c.nodeName(a,"button")?a.form:void 0)&&!a._submit_attached){c.event.add(a,"submit._submit",function(a){a._submit_bubble=true});a._submit_attached=true}})},postDispatch:function(a){if(a._submit_bubble){delete a._submit_bubble;this.parentNode&&!a.isTrigger&&c.event.simulate("submit",
this.parentNode,a,true)}},teardown:function(){if(c.nodeName(this,"form"))return false;c.event.remove(this,"._submit")}});c.support.changeBubbles||(c.event.special.change={setup:function(){if(Ga.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){c.event.add(this,"propertychange._change",function(a){if(a.originalEvent.propertyName==="checked")this._just_changed=true});c.event.add(this,"click._change",function(a){if(this._just_changed&&!a.isTrigger){this._just_changed=false;c.event.simulate("change",
this,a,true)}})}return false}c.event.add(this,"beforeactivate._change",function(a){a=a.target;if(Ga.test(a.nodeName)&&!a._change_attached){c.event.add(a,"change._change",function(a){this.parentNode&&(!a.isSimulated&&!a.isTrigger)&&c.event.simulate("change",this.parentNode,a,true)});a._change_attached=true}})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){c.event.remove(this,
"._change");return Ga.test(this.nodeName)}});c.support.focusinBubbles||c.each({focus:"focusin",blur:"focusout"},function(a,b){var d=0,e=function(a){c.event.simulate(b,a.target,c.event.fix(a),true)};c.event.special[b]={setup:function(){d++===0&&l.addEventListener(a,e,true)},teardown:function(){--d===0&&l.removeEventListener(a,e,true)}}});c.fn.extend({on:function(a,b,d,e,f){var g,h;if(typeof a==="object"){if(typeof b!=="string"){d=d||b;b=void 0}for(h in a)this.on(h,b,d,a[h],f);return this}if(d==null&&
e==null){e=b;d=b=void 0}else if(e==null)if(typeof b==="string"){e=d;d=void 0}else{e=d;d=b;b=void 0}if(e===false)e=D;else if(!e)return this;if(f===1){g=e;e=function(a){c().off(a);return g.apply(this,arguments)};e.guid=g.guid||(g.guid=c.guid++)}return this.each(function(){c.event.add(this,a,e,d,b)})},one:function(a,b,d,e){return this.on(a,b,d,e,1)},off:function(a,b,d){if(a&&a.preventDefault&&a.handleObj){var e=a.handleObj;c(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,
e.handler);return this}if(typeof a==="object"){for(e in a)this.off(e,b,a[e]);return this}if(b===false||typeof b==="function"){d=b;b=void 0}d===false&&(d=D);return this.each(function(){c.event.remove(this,a,d,b)})},bind:function(a,b,d){return this.on(a,null,b,d)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,d){c(this.context).on(a,this.selector,b,d);return this},die:function(a,b){c(this.context).off(a,this.selector||"**",b);return this},delegate:function(a,b,d,e){return this.on(b,
a,d,e)},undelegate:function(a,b,d){return arguments.length==1?this.off(a,"**"):this.off(b,a,d)},trigger:function(a,b){return this.each(function(){c.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return c.event.trigger(a,b,this[0],true)},toggle:function(a){var b=arguments,d=a.guid||c.guid++,e=0,f=function(d){var f=(c._data(this,"lastToggle"+a.guid)||0)%e;c._data(this,"lastToggle"+a.guid,f+1);d.preventDefault();return b[f].apply(this,arguments)||false};for(f.guid=d;e<b.length;)b[e++].guid=
d;return this.click(f)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});c.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){c.fn[b]=function(a,e){if(e==null){e=a;a=null}return arguments.length>0?this.on(b,null,a,e):this.trigger(b)};c.attrFn&&(c.attrFn[b]=true);if(yc.test(b))c.event.fixHooks[b]=c.event.keyHooks;
if(zc.test(b))c.event.fixHooks[b]=c.event.mouseHooks});var yb=function(a,b,d,e,c,g){for(var c=0,h=e.length;c<h;c++){var i=e[c];if(i){for(var k=false,i=i[a];i;){if(i[T]===d){k=e[i.sizset];break}if(i.nodeType===1&&!g){i[T]=d;i.sizset=c}if(i.nodeName.toLowerCase()===b){k=i;break}i=i[a]}e[c]=k}}},zb=function(a,b,d,e,c,g){for(var c=0,h=e.length;c<h;c++){var i=e[c];if(i){for(var k=false,i=i[a];i;){if(i[T]===d){k=e[i.sizset];break}if(i.nodeType===1){if(!g){i[T]=d;i.sizset=c}if(typeof b!=="string"){if(i===
b){k=true;break}}else if(n.filter(b,[i]).length>0){k=i;break}}i=i[a]}e[c]=k}}},Ha=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,T="sizcache"+(Math.random()+"").replace(".",""),Ia=0,Ab=Object.prototype.toString,la=!1,Bb=!0,U=/\\/g,Cc=/\r\n/g,ma=/\W/;[0,0].sort(function(){Bb=false;return 0});var n=function(a,b,d,c){var d=d||[],f=b=b||l;if(b.nodeType!==1&&b.nodeType!==9)return[];if(!a||typeof a!=="string")return d;
var g,h,i,k,m,j=true,o=n.isXML(b),t=[],q=a;do{Ha.exec("");if(g=Ha.exec(q)){q=g[3];t.push(g[1]);if(g[2]){k=g[3];break}}}while(g);if(t.length>1&&Cb.exec(a))if(t.length===2&&p.relative[t[0]])h=Db(t[0]+t[1],b,c);else for(h=p.relative[t[0]]?[b]:n(t.shift(),b);t.length;){a=t.shift();p.relative[a]&&(a=a+t.shift());h=Db(a,h,c)}else{if(!c&&t.length>1&&b.nodeType===9&&!o&&p.match.ID.test(t[0])&&!p.match.ID.test(t[t.length-1])){g=n.find(t.shift(),b,o);b=g.expr?n.filter(g.expr,g.set)[0]:g.set[0]}if(b){g=c?{expr:t.pop(),
set:w(c)}:n.find(t.pop(),t.length===1&&(t[0]==="~"||t[0]==="+")&&b.parentNode?b.parentNode:b,o);h=g.expr?n.filter(g.expr,g.set):g.set;for(t.length>0?i=w(h):j=false;t.length;){g=m=t.pop();p.relative[m]?g=t.pop():m="";g==null&&(g=b);p.relative[m](i,g,o)}}else i=[]}i||(i=h);i||n.error(m||a);if(Ab.call(i)==="[object Array]")if(j)if(b&&b.nodeType===1)for(a=0;i[a]!=null;a++)i[a]&&(i[a]===true||i[a].nodeType===1&&n.contains(b,i[a]))&&d.push(h[a]);else for(a=0;i[a]!=null;a++)i[a]&&i[a].nodeType===1&&d.push(h[a]);
else d.push.apply(d,i);else w(i,d);if(k){n(k,f,d,c);n.uniqueSort(d)}return d};n.uniqueSort=function(a){if(na){la=Bb;a.sort(na);if(la)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a};n.matches=function(a,b){return n(a,null,null,b)};n.matchesSelector=function(a,b){return n(b,null,null,[a]).length>0};n.find=function(a,b,d){var c,f,g,h,i,k;if(!a)return[];f=0;for(g=p.order.length;f<g;f++){i=p.order[f];if(h=p.leftMatch[i].exec(a)){k=h[1];h.splice(1,1);if(k.substr(k.length-1)!=="\\"){h[1]=
(h[1]||"").replace(U,"");c=p.find[i](h,b,d);if(c!=null){a=a.replace(p.match[i],"");break}}}}c||(c=typeof b.getElementsByTagName!=="undefined"?b.getElementsByTagName("*"):[]);return{set:c,expr:a}};n.filter=function(a,b,d,c){for(var f,g,h,i,k,m,j,l,o=a,q=[],r=b,u=b&&b[0]&&n.isXML(b[0]);a&&b.length;){for(h in p.filter)if((f=p.leftMatch[h].exec(a))!=null&&f[2]){m=p.filter[h];k=f[1];g=false;f.splice(1,1);if(k.substr(k.length-1)!=="\\"){r===q&&(q=[]);if(p.preFilter[h])if(f=p.preFilter[h](f,r,d,q,c,u)){if(f===
true)continue}else g=i=true;if(f)for(j=0;(k=r[j])!=null;j++)if(k){i=m(k,f,j,r);l=c^i;if(d&&i!=null)l?g=true:r[j]=false;else if(l){q.push(k);g=true}}if(i!==void 0){d||(r=q);a=a.replace(p.match[h],"");if(!g)return[];break}}}if(a===o)if(g==null)n.error(a);else break;o=a}return r};n.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};var Ja=n.getText=function(a){var b,d;b=a.nodeType;var c="";if(b)if(b===1||b===9||b===11){if(typeof a.textContent==="string")return a.textContent;
if(typeof a.innerText==="string")return a.innerText.replace(Cc,"");for(a=a.firstChild;a;a=a.nextSibling)c=c+Ja(a)}else{if(b===3||b===4)return a.nodeValue}else for(b=0;d=a[b];b++)d.nodeType!==8&&(c=c+Ja(d));return c},p=n.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,
TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var d=
typeof b==="string",c=d&&!ma.test(b),d=d&&!c;c&&(b=b.toLowerCase());for(var c=0,f=a.length,g;c<f;c++)if(g=a[c]){for(;(g=g.previousSibling)&&g.nodeType!==1;);a[c]=d||g&&g.nodeName.toLowerCase()===b?g||false:g===b}d&&n.filter(b,a,true)},">":function(a,b){var d,c=typeof b==="string",f=0,g=a.length;if(c&&!ma.test(b))for(b=b.toLowerCase();f<g;f++){if(d=a[f]){d=d.parentNode;a[f]=d.nodeName.toLowerCase()===b?d:false}}else{for(;f<g;f++)(d=a[f])&&(a[f]=c?d.parentNode:d.parentNode===b);c&&n.filter(b,a,true)}},
"":function(a,b,d){var c,f=Ia++,g=zb;if(typeof b==="string"&&!ma.test(b)){c=b=b.toLowerCase();g=yb}g("parentNode",b,f,a,c,d)},"~":function(a,b,d){var c,f=Ia++,g=zb;if(typeof b==="string"&&!ma.test(b)){c=b=b.toLowerCase();g=yb}g("previousSibling",b,f,a,c,d)}},find:{ID:function(a,b,d){if(typeof b.getElementById!=="undefined"&&!d)return(a=b.getElementById(a[1]))&&a.parentNode?[a]:[]},NAME:function(a,b){if(typeof b.getElementsByName!=="undefined"){for(var d=[],c=b.getElementsByName(a[1]),f=0,g=c.length;f<
g;f++)c[f].getAttribute("name")===a[1]&&d.push(c[f]);return d.length===0?null:d}},TAG:function(a,b){if(typeof b.getElementsByTagName!=="undefined")return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,d,c,f,g){a=" "+a[1].replace(U,"")+" ";if(g)return a;for(var g=0,h;(h=b[g])!=null;g++)h&&(f^(h.className&&(" "+h.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?d||c.push(h):d&&(b[g]=false));return false},ID:function(a){return a[1].replace(U,"")},TAG:function(a){return a[1].replace(U,
"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||n.error(a[0]);a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}else a[2]&&n.error(a[0]);a[0]=Ia++;return a},ATTR:function(a,b,d,c,f,g){b=a[1]=a[1].replace(U,"");!g&&p.attrMap[b]&&(a[1]=p.attrMap[b]);a[4]=(a[4]||a[5]||"").replace(U,"");a[2]==="~="&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(a,b,d,c,f){if(a[1]===
"not")if((Ha.exec(a[3])||"").length>1||/^\w/.test(a[3]))a[3]=n(a[3],null,null,b);else{a=n.filter(a[3],b,d,1^f);d||c.push.apply(c,a);return false}else if(p.match.POS.test(a[0])||p.match.CHILD.test(a[0]))return true;return a},POS:function(a){a.unshift(true);return a}},filters:{enabled:function(a){return a.disabled===false&&a.type!=="hidden"},disabled:function(a){return a.disabled===true},checked:function(a){return a.checked===true},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return a.selected===
true},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,d){return!!n(d[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),d=a.type;return a.nodeName.toLowerCase()==="input"&&"text"===d&&(b===d||b===null)},radio:function(a){return a.nodeName.toLowerCase()==="input"&&"radio"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()==="input"&&"checkbox"===a.type},file:function(a){return a.nodeName.toLowerCase()===
"input"&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()==="input"&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()==="input"&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&"button"===a.type||b==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},
focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return b===0},last:function(a,b,d,c){return b===c.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,d){return b<d[3]-0},gt:function(a,b,d){return b>d[3]-0},nth:function(a,b,d){return d[3]-0===b},eq:function(a,b,d){return d[3]-0===b}},filter:{PSEUDO:function(a,b,d,c){var f=b[1],g=p.filters[f];if(g)return g(a,d,b,c);if(f==="contains")return(a.textContent||a.innerText||
Ja([a])||"").indexOf(b[3])>=0;if(f==="not"){b=b[3];d=0;for(c=b.length;d<c;d++)if(b[d]===a)return false;return true}n.error(f)},CHILD:function(a,b){var d,c,f,g,h,i;d=b[1];i=a;switch(d){case "only":case "first":for(;i=i.previousSibling;)if(i.nodeType===1)return false;if(d==="first")return true;i=a;case "last":for(;i=i.nextSibling;)if(i.nodeType===1)return false;return true;case "nth":d=b[2];c=b[3];if(d===1&&c===0)return true;f=b[0];if((g=a.parentNode)&&(g[T]!==f||!a.nodeIndex)){h=0;for(i=g.firstChild;i;i=
i.nextSibling)if(i.nodeType===1)i.nodeIndex=++h;g[T]=f}i=a.nodeIndex-c;return d===0?i===0:i%d===0&&i/d>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var d=b[1],d=n.attr?n.attr(a,d):p.attrHandle[d]?p.attrHandle[d](a):a[d]!=null?a[d]:a.getAttribute(d),c=d+"",f=b[2],g=b[4];return d==
null?f==="!=":!f&&n.attr?d!=null:f==="="?c===g:f==="*="?c.indexOf(g)>=0:f==="~="?(" "+c+" ").indexOf(g)>=0:!g?c&&d!==false:f==="!="?c!==g:f==="^="?c.indexOf(g)===0:f==="$="?c.substr(c.length-g.length)===g:f==="|="?c===g||c.substr(0,g.length+1)===g+"-":false},POS:function(a,b,d,c){var f=p.setFilters[b[2]];if(f)return f(a,d,b,c)}}},Cb=p.match.POS,Dc=function(a,b){return"\\"+(b-0+1)},Z;for(Z in p.match)p.match[Z]=RegExp(p.match[Z].source+/(?![^\[]*\])(?![^\(]*\))/.source),p.leftMatch[Z]=RegExp(/(^(?:.|\r|\n)*?)/.source+
p.match[Z].source.replace(/\\(\d+)/g,Dc));p.match.globalPOS=Cb;var w=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(l.documentElement.childNodes,0)[0].nodeType}catch(ld){w=function(a,b){var d=0,c=b||[];if(Ab.call(a)==="[object Array]")Array.prototype.push.apply(c,a);else if(typeof a.length==="number")for(var f=a.length;d<f;d++)c.push(a[d]);else for(;a[d];d++)c.push(a[d]);return c}}var na,$;l.documentElement.compareDocumentPosition?
na=function(a,b){if(a===b){la=true;return 0}return!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1}:(na=function(a,b){if(a===b){la=true;return 0}if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var d,c,f=[],g=[];d=a.parentNode;c=b.parentNode;var h=d;if(d===c)return $(a,b);if(d){if(!c)return 1}else return-1;for(;h;){f.unshift(h);h=h.parentNode}for(h=c;h;){g.unshift(h);h=h.parentNode}d=f.length;c=g.length;for(h=
0;h<d&&h<c;h++)if(f[h]!==g[h])return $(f[h],g[h]);return h===d?$(a,g[h],-1):$(f[h],b,1)},$=function(a,b,d){if(a===b)return d;for(a=a.nextSibling;a;){if(a===b)return-1;a=a.nextSibling}return 1});var oa=l.createElement("div"),Eb="script"+(new Date).getTime(),pa=l.documentElement;oa.innerHTML="<a name='"+Eb+"'/>";pa.insertBefore(oa,pa.firstChild);l.getElementById(Eb)&&(p.find.ID=function(a,b,d){if(typeof b.getElementById!=="undefined"&&!d)return(b=b.getElementById(a[1]))?b.id===a[1]||typeof b.getAttributeNode!==
"undefined"&&b.getAttributeNode("id").nodeValue===a[1]?[b]:void 0:[]},p.filter.ID=function(a,b){var d=typeof a.getAttributeNode!=="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&d&&d.nodeValue===b});pa.removeChild(oa);var pa=oa=null,G=l.createElement("div");G.appendChild(l.createComment(""));0<G.getElementsByTagName("*").length&&(p.find.TAG=function(a,b){var d=b.getElementsByTagName(a[1]);if(a[1]==="*"){for(var c=[],f=0;d[f];f++)d[f].nodeType===1&&c.push(d[f]);d=c}return d});G.innerHTML=
"<a href='#'></a>";G.firstChild&&("undefined"!==typeof G.firstChild.getAttribute&&"#"!==G.firstChild.getAttribute("href"))&&(p.attrHandle.href=function(a){return a.getAttribute("href",2)});G=null;if(l.querySelectorAll){var Ka=n,qa=l.createElement("div");qa.innerHTML="<p class='TEST'></p>";if(!(qa.querySelectorAll&&0===qa.querySelectorAll(".TEST").length)){var n=function(a,b,d,c){b=b||l;if(!c&&!n.isXML(b)){var f=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(a);if(f&&(b.nodeType===1||b.nodeType===9)){if(f[1])return w(b.getElementsByTagName(a),
d);if(f[2]&&p.find.CLASS&&b.getElementsByClassName)return w(b.getElementsByClassName(f[2]),d)}if(b.nodeType===9){if(a==="body"&&b.body)return w([b.body],d);if(f&&f[3]){var g=b.getElementById(f[3]);if(g&&g.parentNode){if(g.id===f[3])return w([g],d)}else return w([],d)}try{return w(b.querySelectorAll(a),d)}catch(h){}}else if(b.nodeType===1&&b.nodeName.toLowerCase()!=="object"){var f=b,i=(g=b.getAttribute("id"))||"__sizzle__",k=b.parentNode,m=/^\s*[+~]/.test(a);g?i=i.replace(/'/g,"\\$&"):b.setAttribute("id",
i);if(m&&k)b=b.parentNode;try{if(!m||k)return w(b.querySelectorAll("[id='"+i+"'] "+a),d)}catch(j){}finally{g||f.removeAttribute("id")}}}return Ka(a,b,d,c)},La;for(La in Ka)n[La]=Ka[La];qa=null}}var ra=l.documentElement,sa=ra.matchesSelector||ra.mozMatchesSelector||ra.webkitMatchesSelector||ra.msMatchesSelector;if(sa){var Ec=!sa.call(l.createElement("div"),"div"),Fb=!1;try{sa.call(l.documentElement,"[test!='']:sizzle")}catch(md){Fb=!0}n.matchesSelector=function(a,b){b=b.replace(/\=\s*([^'"\]]*)\s*\]/g,
"='$1']");if(!n.isXML(a))try{if(Fb||!p.match.PSEUDO.test(b)&&!/!=/.test(b)){var d=sa.call(a,b);if(d||!Ec||a.document&&a.document.nodeType!==11)return d}}catch(c){}return n(b,null,null,[a]).length>0}}var V=l.createElement("div");V.innerHTML="<div class='test e'></div><div class='test'></div>";V.getElementsByClassName&&0!==V.getElementsByClassName("e").length&&(V.lastChild.className="e",1!==V.getElementsByClassName("e").length&&(p.order.splice(1,0,"CLASS"),p.find.CLASS=function(a,b,d){if(typeof b.getElementsByClassName!==
"undefined"&&!d)return b.getElementsByClassName(a[1])},V=null));n.contains=l.documentElement.contains?function(a,b){return a!==b&&(a.contains?a.contains(b):true)}:l.documentElement.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:function(){return false};n.isXML=function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?a.nodeName!=="HTML":false};var Db=function(a,b,d){for(var c,f=[],g="",b=b.nodeType?[b]:b;c=p.match.PSEUDO.exec(a);){g=g+c[0];a=a.replace(p.match.PSEUDO,
"")}a=p.relative[a]?a+"*":a;c=0;for(var h=b.length;c<h;c++)n(a,b[c],f,d);return n.filter(g,f)};n.attr=c.attr;n.selectors.attrMap={};c.find=n;c.expr=n.selectors;c.expr[":"]=c.expr.filters;c.unique=n.uniqueSort;c.text=n.getText;c.isXMLDoc=n.isXML;c.contains=n.contains;var Fc=/Until$/,Gc=/^(?:parents|prevUntil|prevAll)/,Hc=/,/,Yb=/^.[^:#\[\.,]*$/,Ic=Array.prototype.slice,Gb=c.expr.match.globalPOS,Jc={children:!0,contents:!0,next:!0,prev:!0};c.fn.extend({find:function(a){var b=this,d,e;if(typeof a!==
"string")return c(a).filter(function(){d=0;for(e=b.length;d<e;d++)if(c.contains(b[d],this))return true});var f=this.pushStack("","find",a),g,h,i;d=0;for(e=this.length;d<e;d++){g=f.length;c.find(a,this[d],f);if(d>0)for(h=g;h<f.length;h++)for(i=0;i<g;i++)if(f[i]===f[h]){f.splice(h--,1);break}}return f},has:function(a){var b=c(a);return this.filter(function(){for(var a=0,e=b.length;a<e;a++)if(c.contains(this,b[a]))return true})},not:function(a){return this.pushStack(Sa(this,a,false),"not",a)},filter:function(a){return this.pushStack(Sa(this,
a,true),"filter",a)},is:function(a){return!!a&&(typeof a==="string"?Gb.test(a)?c(a,this.context).index(this[0])>=0:c.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var d=[],e,f,g=this[0];if(c.isArray(a)){for(f=1;g&&g.ownerDocument&&g!==b;){for(e=0;e<a.length;e++)c(g).is(a[e])&&d.push({selector:a[e],elem:g,level:f});g=g.parentNode;f++}return d}var h=Gb.test(a)||typeof a!=="string"?c(a,b||this.context):0;e=0;for(f=this.length;e<f;e++)for(g=this[e];g;)if(h?h.index(g)>-1:c.find.matchesSelector(g,
a)){d.push(g);break}else{g=g.parentNode;if(!g||!g.ownerDocument||g===b||g.nodeType===11)break}d=d.length>1?c.unique(d):d;return this.pushStack(d,"closest",a)},index:function(a){return!a?this[0]&&this[0].parentNode?this.prevAll().length:-1:typeof a==="string"?c.inArray(this[0],c(a)):c.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var d=typeof a==="string"?c(a,b):c.makeArray(a&&a.nodeType?[a]:a),e=c.merge(this.get(),d);return this.pushStack(!d[0]||!d[0].parentNode||d[0].parentNode.nodeType===11||
!e[0]||!e[0].parentNode||e[0].parentNode.nodeType===11?e:c.unique(e))},andSelf:function(){return this.add(this.prevObject)}});c.each({parent:function(a){return(a=a.parentNode)&&a.nodeType!==11?a:null},parents:function(a){return c.dir(a,"parentNode")},parentsUntil:function(a,b,d){return c.dir(a,"parentNode",d)},next:function(a){return c.nth(a,2,"nextSibling")},prev:function(a){return c.nth(a,2,"previousSibling")},nextAll:function(a){return c.dir(a,"nextSibling")},prevAll:function(a){return c.dir(a,
"previousSibling")},nextUntil:function(a,b,d){return c.dir(a,"nextSibling",d)},prevUntil:function(a,b,d){return c.dir(a,"previousSibling",d)},siblings:function(a){return c.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return c.sibling(a.firstChild)},contents:function(a){return c.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:c.makeArray(a.childNodes)}},function(a,b){c.fn[a]=function(d,e){var f=c.map(this,b,d);Fc.test(a)||(e=d);e&&typeof e==="string"&&(f=c.filter(e,
f));f=this.length>1&&!Jc[a]?c.unique(f):f;if((this.length>1||Hc.test(e))&&Gc.test(a))f=f.reverse();return this.pushStack(f,a,Ic.call(arguments).join(","))}});c.extend({filter:function(a,b,d){d&&(a=":not("+a+")");return b.length===1?c.find.matchesSelector(b[0],a)?[b[0]]:[]:c.find.matches(a,b)},dir:function(a,b,d){for(var e=[],a=a[b];a&&a.nodeType!==9&&(d===void 0||a.nodeType!==1||!c(a).is(d));){a.nodeType===1&&e.push(a);a=a[b]}return e},nth:function(a,b,d){for(var b=b||1,c=0;a;a=a[d])if(a.nodeType===
1&&++c===b)break;return a},sibling:function(a,b){for(var d=[];a;a=a.nextSibling)a.nodeType===1&&a!==b&&d.push(a);return d}});var Ua="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Kc=/ jQuery\d+="(?:\d+|null)"/g,Ma=/^\s+/,Hb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Ib=/<([\w:]+)/,Lc=/<tbody/i,Mc=/<|&#?\w+;/,Nc=/<(?:script|style)/i,Oc=/<(?:script|object|embed|option|style)/i,
Jb=RegExp("<(?:"+Ua+")[\\s/>]","i"),Kb=/checked\s*(?:[^=]|=\s*.checked.)/i,Pc=/\/(java|ecma)script/i,Qc=/^\s*<!(?:\[CDATA\[|\-\-)/,z={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Lb=Ta(l);z.optgroup=z.option;z.tbody=z.tfoot=
z.colgroup=z.caption=z.thead;z.th=z.td;c.support.htmlSerialize||(z._default=[1,"div<div>","</div>"]);c.fn.extend({text:function(a){return c.access(this,function(a){return a===void 0?c.text(this):this.empty().append((this[0]&&this[0].ownerDocument||l).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(c.isFunction(a))return this.each(function(b){c(this).wrapAll(a.call(this,b))});if(this[0]){var b=c(a,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&b.insertBefore(this[0]);
b.map(function(){for(var a=this;a.firstChild&&a.firstChild.nodeType===1;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return c.isFunction(a)?this.each(function(b){c(this).wrapInner(a.call(this,b))}):this.each(function(){var b=c(this),d=b.contents();d.length?d.wrapAll(a):b.append(a)})},wrap:function(a){var b=c.isFunction(a);return this.each(function(d){c(this).wrapAll(b?a.call(this,d):a)})},unwrap:function(){return this.parent().each(function(){c.nodeName(this,"body")||
c(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=c.clean(arguments);a.push.apply(a,this.toArray());return this.pushStack(a,
"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,c.clean(arguments));return a}},remove:function(a,b){for(var d=0,e;(e=this[d])!=null;d++)if(!a||c.filter(a,[e]).length){if(!b&&e.nodeType===1){c.cleanData(e.getElementsByTagName("*"));c.cleanData([e])}e.parentNode&&e.parentNode.removeChild(e)}return this},
empty:function(){for(var a=0,b;(b=this[a])!=null;a++)for(b.nodeType===1&&c.cleanData(b.getElementsByTagName("*"));b.firstChild;)b.removeChild(b.firstChild);return this},clone:function(a,b){a=a==null?false:a;b=b==null?a:b;return this.map(function(){return c.clone(this,a,b)})},html:function(a){return c.access(this,function(a){var d=this[0]||{},e=0,f=this.length;if(a===void 0)return d.nodeType===1?d.innerHTML.replace(Kc,""):null;if(typeof a==="string"&&!Nc.test(a)&&(c.support.leadingWhitespace||!Ma.test(a))&&
!z[(Ib.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Hb,"<$1></$2>");try{for(;e<f;e++){d=this[e]||{};if(d.nodeType===1){c.cleanData(d.getElementsByTagName("*"));d.innerHTML=a}}d=0}catch(g){}}d&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(c.isFunction(a))return this.each(function(b){var d=c(this),e=d.html();d.replaceWith(a.call(this,b,e))});typeof a!=="string"&&(a=c(a).detach());return this.each(function(){var b=this.nextSibling,d=
this.parentNode;c(this).remove();b?c(b).before(a):c(d).append(a)})}return this.length?this.pushStack(c(c.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,true)},domManip:function(a,b,d){var e,f,g,h=a[0],i=[];if(!c.support.checkClone&&arguments.length===3&&typeof h==="string"&&Kb.test(h))return this.each(function(){c(this).domManip(a,b,d,true)});if(c.isFunction(h))return this.each(function(e){var f=c(this);a[0]=h.call(this,e,b?f.html():void 0);f.domManip(a,b,d)});
if(this[0]){e=h&&h.parentNode;e=c.support.parentNode&&e&&e.nodeType===11&&e.childNodes.length===this.length?{fragment:e}:c.buildFragment(a,this,i);g=e.fragment;if(f=g.childNodes.length===1?g=g.firstChild:g.firstChild){b=b&&c.nodeName(f,"tr");f=0;for(var k=this.length,m=k-1;f<k;f++)d.call(b?c.nodeName(this[f],"table")?this[f].getElementsByTagName("tbody")[0]||this[f].appendChild(this[f].ownerDocument.createElement("tbody")):this[f]:this[f],e.cacheable||k>1&&f<m?c.clone(g,true,true):g)}i.length&&c.each(i,
function(a,b){b.src?c.ajax({type:"GET",global:false,url:b.src,async:false,dataType:"script"}):c.globalEval((b.text||b.textContent||b.innerHTML||"").replace(Qc,"/*$0*/"));b.parentNode&&b.parentNode.removeChild(b)})}return this}});c.buildFragment=function(a,b,d){var e,f,g,h,i=a[0];b&&b[0]&&(h=b[0].ownerDocument||b[0]);h.createDocumentFragment||(h=l);if(a.length===1&&typeof i==="string"&&i.length<512&&h===l&&i.charAt(0)==="<"&&!Oc.test(i)&&(c.support.checkClone||!Kb.test(i))&&(c.support.html5Clone||
!Jb.test(i))){f=true;(g=c.fragments[i])&&g!==1&&(e=g)}if(!e){e=h.createDocumentFragment();c.clean(a,h,e,d)}f&&(c.fragments[i]=g?e:1);return{fragment:e,cacheable:f}};c.fragments={};c.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){c.fn[a]=function(d){var e=[],d=c(d),f=this.length===1&&this[0].parentNode;if(f&&f.nodeType===11&&f.childNodes.length===1&&d.length===1){d[b](this[0]);return this}for(var f=0,g=d.length;f<g;f++){var h=
(f>0?this.clone(true):this).get();c(d[f])[b](h);e=e.concat(h)}return this.pushStack(e,a,d.selector)}});c.extend({clone:function(a,b,d){var e,f,g;if(c.support.html5Clone||c.isXMLDoc(a)||!Jb.test("<"+a.nodeName+">"))e=a.cloneNode(true);else{e=l.createElement("div");Lb.appendChild(e);e.innerHTML=a.outerHTML;e=e.firstChild}var h=e;if((!c.support.noCloneEvent||!c.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!c.isXMLDoc(a)){Wa(a,h);e=ba(a);f=ba(h);for(g=0;e[g];++g)f[g]&&Wa(e[g],f[g])}if(b){Va(a,
h);if(d){e=ba(a);f=ba(h);for(g=0;e[g];++g)Va(e[g],f[g])}}return h},clean:function(a,b,d,e){var f,g,h,i,k,m,j=b===l&&Lb,n=[];if(!b||typeof b.createDocumentFragment==="undefined")b=l;for(f=0;(h=a[f])!=null;f++){typeof h==="number"&&(h=h+"");if(h){if(typeof h==="string")if(Mc.test(h)){j=j||Ta(b);m=b.createElement("div");j.appendChild(m);h=h.replace(Hb,"<$1></$2>");g=(Ib.exec(h)||["",""])[1].toLowerCase();i=z[g]||z._default;k=i[0];for(m.innerHTML=i[1]+h+i[2];k--;)m=m.lastChild;if(!c.support.tbody){k=
Lc.test(h);i=g==="table"&&!k?m.firstChild&&m.firstChild.childNodes:i[1]==="<table>"&&!k?m.childNodes:[];for(g=i.length-1;g>=0;--g)c.nodeName(i[g],"tbody")&&!i[g].childNodes.length&&i[g].parentNode.removeChild(i[g])}!c.support.leadingWhitespace&&Ma.test(h)&&m.insertBefore(b.createTextNode(Ma.exec(h)[0]),m.firstChild);h=m.childNodes;m.parentNode.removeChild(m)}else h=b.createTextNode(h);h.nodeType?n.push(h):c.merge(n,h)}}m&&(h=m=j=null);if(!c.support.appendChecked)for(f=0;(h=n[f])!=null;f++)c.nodeName(h,
"input")?Xa(h):typeof h.getElementsByTagName!=="undefined"&&c.grep(h.getElementsByTagName("input"),Xa);if(d){a=function(a){if(!a.type||Pc.test(a.type))return e?e.push(a.parentNode?a.parentNode.removeChild(a):a):d.appendChild(a)};for(f=0;(h=n[f])!=null;f++)if(!c.nodeName(h,"script")||!a(h)){d.appendChild(h);if(typeof h.getElementsByTagName!=="undefined"){h=c.grep(c.merge([],h.getElementsByTagName("script")),a);n.splice.apply(n,[f+1,0].concat(h));f=f+h.length}}}return n},cleanData:function(a){for(var b,
d,e=c.cache,f=c.event.special,g=c.support.deleteExpando,h=0,i;(i=a[h])!=null;h++)if(!i.nodeName||!c.noData[i.nodeName.toLowerCase()])if(d=i[c.expando]){if((b=e[d])&&b.events){for(var k in b.events)f[k]?c.event.remove(i,k):c.removeEvent(i,k,b.handle);if(b.handle)b.handle.elem=null}g?delete i[c.expando]:i.removeAttribute&&i.removeAttribute(c.expando);delete e[d]}}});var Na=/alpha\([^)]*\)/i,Rc=/opacity=([^)]*)/,Sc=/([A-Z]|^ms)/g,Tc=/^[\-+]?(?:\d*\.)?\d+$/i,wa=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,Uc=/^([\-+])=([\-+.\de]+)/,
Vc=/^margin/,Wc={position:"absolute",visibility:"hidden",display:"block"},I=["Top","Right","Bottom","Left"],J,Mb,Nb;c.fn.css=function(a,b){return c.access(this,function(a,b,f){return f!==void 0?c.style(a,b,f):c.css(a,b)},a,b,arguments.length>1)};c.extend({cssHooks:{opacity:{get:function(a,b){if(b){var d=J(a,"opacity");return d===""?"1":d}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":c.support.cssFloat?
"cssFloat":"styleFloat"},style:function(a,b,d,e){if(a&&!(a.nodeType===3||a.nodeType===8||!a.style)){var f,g=c.camelCase(b),h=a.style,i=c.cssHooks[g],b=c.cssProps[g]||g;if(d!==void 0){e=typeof d;if(e==="string"&&(f=Uc.exec(d))){d=+(f[1]+1)*+f[2]+parseFloat(c.css(a,b));e="number"}if(!(d==null||e==="number"&&isNaN(d))){e==="number"&&!c.cssNumber[g]&&(d=d+"px");if(!i||!("set"in i)||(d=i.set(a,d))!==void 0)try{h[b]=d}catch(k){}}}else return i&&"get"in i&&(f=i.get(a,false,e))!==void 0?f:h[b]}},css:function(a,
b,d){var e,f,b=c.camelCase(b);f=c.cssHooks[b];b=c.cssProps[b]||b;b==="cssFloat"&&(b="float");if(f&&"get"in f&&(e=f.get(a,true,d))!==void 0)return e;if(J)return J(a,b)},swap:function(a,b,d){var c={},f;for(f in b){c[f]=a.style[f];a.style[f]=b[f]}d=d.call(a);for(f in b)a.style[f]=c[f];return d}});c.curCSS=c.css;l.defaultView&&l.defaultView.getComputedStyle&&(Mb=function(a,b){var d,e,f,g=a.style,b=b.replace(Sc,"-$1").toLowerCase();if((e=a.ownerDocument.defaultView)&&(f=e.getComputedStyle(a,null))){d=
f.getPropertyValue(b);d===""&&!c.contains(a.ownerDocument.documentElement,a)&&(d=c.style(a,b))}if(!c.support.pixelMargin&&f&&Vc.test(b)&&wa.test(d)){e=g.width;g.width=d;d=f.width;g.width=e}return d});l.documentElement.currentStyle&&(Nb=function(a,b){var d,c,f=a.currentStyle&&a.currentStyle[b],g=a.style;if(f==null&&g&&(d=g[b]))f=d;if(wa.test(f)){d=g.left;if(c=a.runtimeStyle&&a.runtimeStyle.left)a.runtimeStyle.left=a.currentStyle.left;g.left=b==="fontSize"?"1em":f;f=g.pixelLeft+"px";g.left=d;if(c)a.runtimeStyle.left=
c}return f===""?"auto":f});J=Mb||Nb;c.each(["height","width"],function(a,b){c.cssHooks[b]={get:function(a,e,f){if(e)return a.offsetWidth!==0?Ya(a,b,f):c.swap(a,Wc,function(){return Ya(a,b,f)})},set:function(a,b){return Tc.test(b)?b+"px":b}}});c.support.opacity||(c.cssHooks.opacity={get:function(a,b){return Rc.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var d=a.style,e=a.currentStyle,f=c.isNumeric(b)?"alpha(opacity="+b*
100+")":"",g=e&&e.filter||d.filter||"";d.zoom=1;if(b>=1&&c.trim(g.replace(Na,""))===""){d.removeAttribute("filter");if(e&&!e.filter)return}d.filter=Na.test(g)?g.replace(Na,f):g+" "+f}});c(function(){if(!c.support.reliableMarginRight)c.cssHooks.marginRight={get:function(a,b){return c.swap(a,{display:"inline-block"},function(){return b?J(a,"margin-right"):a.style.marginRight})}}});c.expr&&c.expr.filters&&(c.expr.filters.hidden=function(a){var b=a.offsetHeight;return a.offsetWidth===0&&b===0||!c.support.reliableHiddenOffsets&&
(a.style&&a.style.display||c.css(a,"display"))==="none"},c.expr.filters.visible=function(a){return!c.expr.filters.hidden(a)});c.each({margin:"",padding:"",border:"Width"},function(a,b){c.cssHooks[a+b]={expand:function(c){for(var e=typeof c==="string"?c.split(" "):[c],f={},c=0;c<4;c++)f[a+I[c]+b]=e[c]||e[c-2]||e[0];return f}}});var Xc=/%20/g,Zb=/\[\]$/,Ob=/\r?\n/g,Yc=/#.*$/,Zc=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,$c=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,
ad=/^(?:GET|HEAD)$/,bd=/^\/\//,Pb=/\?/,cd=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,dd=/^(?:select|textarea)/i,$a=/\s+/,ed=/([?&])_=[^&]*/,Qb=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,Rb=c.fn.load,xa={},Sb={},K,H,Tb=["*/"]+["*"];try{K=ac.href}catch(nd){K=l.createElement("a"),K.href="",K=K.href}H=Qb.exec(K.toLowerCase())||[];c.fn.extend({load:function(a,b,d){if(typeof a!=="string"&&Rb)return Rb.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(e>=0)var f=
a.slice(e,a.length),a=a.slice(0,e);e="GET";if(b)if(c.isFunction(b)){d=b;b=void 0}else if(typeof b==="object"){b=c.param(b,c.ajaxSettings.traditional);e="POST"}var g=this;c.ajax({url:a,type:e,dataType:"html",data:b,complete:function(a,b,e){e=a.responseText;if(a.isResolved()){a.done(function(a){e=a});g.html(f?c("<div>").append(e.replace(cd,"")).find(f):e)}d&&g.each(d,[e,b,a])}});return this},serialize:function(){return c.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?
c.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||dd.test(this.nodeName)||$c.test(this.type))}).map(function(a,b){var d=c(this).val();return d==null?null:c.isArray(d)?c.map(d,function(a){return{name:b.name,value:a.replace(Ob,"\r\n")}}):{name:b.name,value:d.replace(Ob,"\r\n")}}).get()}});c.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){c.fn[b]=function(a){return this.on(b,a)}});c.each(["get","post"],
function(a,b){c[b]=function(a,e,f,g){if(c.isFunction(e)){g=g||f;f=e;e=void 0}return c.ajax({type:b,url:a,data:e,success:f,dataType:g})}});c.extend({getScript:function(a,b){return c.get(a,void 0,b,"script")},getJSON:function(a,b,d){return c.get(a,b,d,"json")},ajaxSetup:function(a,b){if(b)ab(a,c.ajaxSettings);else{b=a;a=c.ajaxSettings}ab(a,b);return a},ajaxSettings:{url:K,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(H[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",
processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Tb},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":q.String,"text html":!0,"text json":c.parseJSON,"text xml":c.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:Za(xa),ajaxTransport:Za(Sb),ajax:function(a,b){function d(a,b,d,j){if(u!==2){u=2;q&&clearTimeout(q);p=void 0;n=j||
"";s.readyState=a>0?4:0;var l,o,x,j=b;if(d){var r=e,M=s,w=r.contents,v=r.dataTypes,nb=r.responseFields,B,A,y,C;for(A in nb)A in d&&(M[nb[A]]=d[A]);for(;v[0]==="*";){v.shift();B===void 0&&(B=r.mimeType||M.getResponseHeader("content-type"))}if(B)for(A in w)if(w[A]&&w[A].test(B)){v.unshift(A);break}if(v[0]in d)y=v[0];else{for(A in d){if(!v[0]||r.converters[A+" "+v[0]]){y=A;break}C||(C=A)}y=y||C}if(y){y!==v[0]&&v.unshift(y);d=d[y]}else d=void 0}else d=void 0;if(a>=200&&a<300||a===304){if(e.ifModified){if(B=
s.getResponseHeader("Last-Modified"))c.lastModified[m]=B;if(B=s.getResponseHeader("Etag"))c.etag[m]=B}if(a===304){j="notmodified";l=true}else try{B=e;B.dataFilter&&(d=B.dataFilter(d,B.dataType));var I=B.dataTypes;A={};var F,G,K=I.length,H,N=I[0],D,J,O,P,E;for(F=1;F<K;F++){if(F===1)for(G in B.converters)typeof G==="string"&&(A[G.toLowerCase()]=B.converters[G]);D=N;N=I[F];if(N==="*")N=D;else if(D!=="*"&&D!==N){J=D+" "+N;O=A[J]||A["* "+N];if(!O){E=void 0;for(P in A){H=P.split(" ");if(H[0]===D||H[0]===
"*")if(E=A[H[1]+" "+N]){P=A[P];P===true?O=E:E===true&&(O=P);break}}}!O&&!E&&c.error("No conversion from "+J.replace(" "," to "));O!==true&&(d=O?O(d):E(P(d)))}}o=d;j="success";l=true}catch(L){j="parsererror";x=L}}else{x=j;if(!j||a){j="error";a<0&&(a=0)}}s.status=a;s.statusText=""+(b||j);l?h.resolveWith(f,[o,j,s]):h.rejectWith(f,[s,j,x]);s.statusCode(k);k=void 0;z&&g.trigger("ajax"+(l?"Success":"Error"),[s,e,l?o:x]);i.fireWith(f,[s,j]);if(z){g.trigger("ajaxComplete",[s,e]);--c.active||c.event.trigger("ajaxStop")}}}
if(typeof a==="object"){b=a;a=void 0}var b=b||{},e=c.ajaxSetup({},b),f=e.context||e,g=f!==e&&(f.nodeType||f instanceof c)?c(f):c.event,h=c.Deferred(),i=c.Callbacks("once memory"),k=e.statusCode||{},m,j={},l={},n,o,p,q,r,u=0,z,w,s={readyState:0,setRequestHeader:function(a,b){if(!u){var c=a.toLowerCase(),a=l[c]=l[c]||a;j[a]=b}return this},getAllResponseHeaders:function(){return u===2?n:null},getResponseHeader:function(a){var b;if(u===2){if(!o)for(o={};b=Zc.exec(n);)o[b[1].toLowerCase()]=b[2];b=o[a.toLowerCase()]}return b===
void 0?null:b},overrideMimeType:function(a){if(!u)e.mimeType=a;return this},abort:function(a){a=a||"abort";p&&p.abort(a);d(0,a);return this}};h.promise(s);s.success=s.done;s.error=s.fail;s.complete=i.add;s.statusCode=function(a){if(a){var b;if(u<2)for(b in a)k[b]=[k[b],a[b]];else{b=a[s.status];s.then(b,b)}}return this};e.url=((a||e.url)+"").replace(Yc,"").replace(bd,H[1]+"//");e.dataTypes=c.trim(e.dataType||"*").toLowerCase().split($a);if(e.crossDomain==null){r=Qb.exec(e.url.toLowerCase());e.crossDomain=
!(!r||!(r[1]!=H[1]||r[2]!=H[2]||(r[3]||(r[1]==="http:"?80:443))!=(H[3]||(H[1]==="http:"?80:443))))}if(e.data&&e.processData&&typeof e.data!=="string")e.data=c.param(e.data,e.traditional);ca(xa,e,b,s);if(u===2)return false;z=e.global;e.type=e.type.toUpperCase();e.hasContent=!ad.test(e.type);z&&c.active++===0&&c.event.trigger("ajaxStart");if(!e.hasContent){if(e.data){e.url=e.url+((Pb.test(e.url)?"&":"?")+e.data);delete e.data}m=e.url;if(e.cache===false){r=c.now();var v=e.url.replace(ed,"$1_="+r);e.url=
v+(v===e.url?(Pb.test(e.url)?"&":"?")+"_="+r:"")}}(e.data&&e.hasContent&&e.contentType!==false||b.contentType)&&s.setRequestHeader("Content-Type",e.contentType);if(e.ifModified){m=m||e.url;c.lastModified[m]&&s.setRequestHeader("If-Modified-Since",c.lastModified[m]);c.etag[m]&&s.setRequestHeader("If-None-Match",c.etag[m])}s.setRequestHeader("Accept",e.dataTypes[0]&&e.accepts[e.dataTypes[0]]?e.accepts[e.dataTypes[0]]+(e.dataTypes[0]!=="*"?", "+Tb+"; q=0.01":""):e.accepts["*"]);for(w in e.headers)s.setRequestHeader(w,
e.headers[w]);if(e.beforeSend&&(e.beforeSend.call(f,s,e)===false||u===2)){s.abort();return false}for(w in{success:1,error:1,complete:1})s[w](e[w]);if(p=ca(Sb,e,b,s)){s.readyState=1;z&&g.trigger("ajaxSend",[s,e]);e.async&&e.timeout>0&&(q=setTimeout(function(){s.abort("timeout")},e.timeout));try{u=1;p.send(j,d)}catch(y){if(u<2)d(-1,y);else throw y;}}else d(-1,"No Transport");return s},param:function(a,b){var d=[],e=function(a,b){b=c.isFunction(b)?b():b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};
if(b===void 0)b=c.ajaxSettings.traditional;if(c.isArray(a)||a.jquery&&!c.isPlainObject(a))c.each(a,function(){e(this.name,this.value)});else for(var f in a)ya(f,a[f],b,e);return d.join("&").replace(Xc,"+")}});c.extend({active:0,lastModified:{},etag:{}});var fd=c.now(),ta=/(\=)\?(&|$)|\?\?/i;c.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return c.expando+"_"+fd++}});c.ajaxPrefilter("json jsonp",function(a,b,d){b=typeof a.data==="string"&&/^application\/x\-www\-form\-urlencoded/.test(a.contentType);
if(a.dataTypes[0]==="jsonp"||a.jsonp!==false&&(ta.test(a.url)||b&&ta.test(a.data))){var e,f=a.jsonpCallback=c.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,g=q[f],h=a.url,i=a.data,k="$1"+f+"$2";if(a.jsonp!==false){h=h.replace(ta,k);if(a.url===h){b&&(i=i.replace(ta,k));a.data===i&&(h=h+((/\?/.test(h)?"&":"?")+a.jsonp+"="+f))}}a.url=h;a.data=i;q[f]=function(a){e=[a]};d.always(function(){q[f]=g;if(e&&c.isFunction(g))q[f](e[0])});a.converters["script json"]=function(){e||c.error(f+" was not called");
return e[0]};a.dataTypes[0]="json";return"script"}});c.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){c.globalEval(a);return a}}});c.ajaxPrefilter("script",function(a){if(a.cache===void 0)a.cache=false;if(a.crossDomain){a.type="GET";a.global=false}});c.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=l.head||l.getElementsByTagName("head")[0]||
l.documentElement;return{send:function(e,f){b=l.createElement("script");b.async="async";if(a.scriptCharset)b.charset=a.scriptCharset;b.src=a.url;b.onload=b.onreadystatechange=function(a,e){if(e||!b.readyState||/loaded|complete/.test(b.readyState)){b.onload=b.onreadystatechange=null;c&&b.parentNode&&c.removeChild(b);b=void 0;e||f(200,"success")}};c.insertBefore(b,c.firstChild)},abort:function(){if(b)b.onload(0,1)}}}});var Oa=q.ActiveXObject?function(){for(var a in W)W[a](0,1)}:!1,gd=0,W;c.ajaxSettings.xhr=
q.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&bb()))a:{try{a=new q.ActiveXObject("Microsoft.XMLHTTP");break a}catch(b){}a=void 0}return a}:bb;var Pa=c.ajaxSettings.xhr();c.extend(c.support,{ajax:!!Pa,cors:!!Pa&&"withCredentials"in Pa});c.support.ajax&&c.ajaxTransport(function(a){if(!a.crossDomain||c.support.cors){var b;return{send:function(d,e){var f=a.xhr(),g,h;a.username?f.open(a.type,a.url,a.async,a.username,a.password):f.open(a.type,a.url,a.async);if(a.xhrFields)for(h in a.xhrFields)f[h]=
a.xhrFields[h];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType);!a.crossDomain&&!d["X-Requested-With"]&&(d["X-Requested-With"]="XMLHttpRequest");try{for(h in d)f.setRequestHeader(h,d[h])}catch(i){}f.send(a.hasContent&&a.data||null);b=function(d,h){var i,j,l,n,o;try{if(b&&(h||f.readyState===4)){b=void 0;if(g){f.onreadystatechange=c.noop;Oa&&delete W[g]}if(h)f.readyState!==4&&f.abort();else{i=f.status;l=f.getAllResponseHeaders();n={};if((o=f.responseXML)&&o.documentElement)n.xml=o;try{n.text=
f.responseText}catch(p){}try{j=f.statusText}catch(q){j=""}!i&&a.isLocal&&!a.crossDomain?i=n.text?200:404:i===1223&&(i=204)}}}catch(r){h||e(-1,r)}n&&e(i,j,n,l)};if(!a.async||f.readyState===4)b();else{g=++gd;if(Oa){if(!W){W={};c(q).unload(Oa)}W[g]=b}f.onreadystatechange=b}},abort:function(){b&&b(0,1)}}}});var za={},v,L,hd=/^(?:toggle|show|hide)$/,id=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,ua,ea=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft",
"paddingRight"],["opacity"]],da;c.fn.extend({show:function(a,b,d){if(a||a===0)return this.animate(E("show",3),a,b,d);for(var d=0,e=this.length;d<e;d++){a=this[d];if(a.style){b=a.style.display;if(!c._data(a,"olddisplay")&&b==="none")b=a.style.display="";(b===""&&c.css(a,"display")==="none"||!c.contains(a.ownerDocument.documentElement,a))&&c._data(a,"olddisplay",db(a.nodeName))}}for(d=0;d<e;d++){a=this[d];if(a.style){b=a.style.display;if(b===""||b==="none")a.style.display=c._data(a,"olddisplay")||""}}return this},
hide:function(a,b,d){if(a||a===0)return this.animate(E("hide",3),a,b,d);for(var d=0,e=this.length;d<e;d++){a=this[d];if(a.style){b=c.css(a,"display");b!=="none"&&!c._data(a,"olddisplay")&&c._data(a,"olddisplay",b)}}for(d=0;d<e;d++)if(this[d].style)this[d].style.display="none";return this},_toggle:c.fn.toggle,toggle:function(a,b,d){var e=typeof a==="boolean";c.isFunction(a)&&c.isFunction(b)?this._toggle.apply(this,arguments):a==null||e?this.each(function(){var b=e?a:c(this).is(":hidden");c(this)[b?
"show":"hide"]()}):this.animate(E("toggle",3),a,b,d);return this},fadeTo:function(a,b,c,e){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,e)},animate:function(a,b,d,e){function f(){g.queue===false&&c._mark(this);var b=c.extend({},g),d=this.nodeType===1,e=d&&c(this).is(":hidden"),f,j,l,n,o;b.animatedProperties={};for(l in a){f=c.camelCase(l);if(l!==f){a[f]=a[l];delete a[l]}if((j=c.cssHooks[f])&&"expand"in j){n=j.expand(a[f]);delete a[f];for(l in n)l in a||(a[l]=
n[l])}}for(f in a){j=a[f];if(c.isArray(j)){b.animatedProperties[f]=j[1];j=a[f]=j[0]}else b.animatedProperties[f]=b.specialEasing&&b.specialEasing[f]||b.easing||"swing";if(j==="hide"&&e||j==="show"&&!e)return b.complete.call(this);if(d&&(f==="height"||f==="width")){b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(c.css(this,"display")==="inline"&&c.css(this,"float")==="none")!c.support.inlineBlockNeedsLayout||db(this.nodeName)==="inline"?this.style.display="inline-block":
this.style.zoom=1}}if(b.overflow!=null)this.style.overflow="hidden";for(l in a){d=new c.fx(this,b,l);j=a[l];if(hd.test(j))if(f=c._data(this,"toggle"+l)||(j==="toggle"?e?"show":"hide":0)){c._data(this,"toggle"+l,f==="show"?"hide":"show");d[f]()}else d[j]();else{f=id.exec(j);n=d.cur();if(f){j=parseFloat(f[2]);o=f[3]||(c.cssNumber[l]?"":"px");if(o!=="px"){c.style(this,l,(j||1)+o);n=(j||1)/d.cur()*n;c.style(this,l,n+o)}f[1]&&(j=(f[1]==="-="?-1:1)*j+n);d.custom(n,j,o)}else d.custom(n,j,"")}}return true}
var g=c.speed(b,d,e);if(c.isEmptyObject(a))return this.each(g.complete,[false]);a=c.extend({},a);return g.queue===false?this.each(f):this.queue(g.queue,f)},stop:function(a,b,d){if(typeof a!=="string"){d=b;b=a;a=void 0}b&&a!==false&&this.queue(a||"fx",[]);return this.each(function(){var b,f=false,g=c.timers,h=c._data(this);d||c._unmark(true,this);if(a==null)for(b in h){if(h[b]&&h[b].stop&&b.indexOf(".run")===b.length-4){var i=h[b];c.removeData(this,b,true);i.stop(d)}}else if(h[b=a+".run"]&&h[b].stop){h=
h[b];c.removeData(this,b,true);h.stop(d)}for(b=g.length;b--;)if(g[b].elem===this&&(a==null||g[b].queue===a)){if(d)g[b](true);else g[b].saveState();f=true;g.splice(b,1)}(!d||!f)&&c.dequeue(this,a)})}});c.each({slideDown:E("show",1),slideUp:E("hide",1),slideToggle:E("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){c.fn[a]=function(a,c,f){return this.animate(b,a,c,f)}});c.extend({speed:function(a,b,d){var e=a&&typeof a==="object"?c.extend({},a):
{complete:d||!d&&b||c.isFunction(a)&&a,duration:a,easing:d&&b||b&&!c.isFunction(b)&&b};e.duration=c.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in c.fx.speeds?c.fx.speeds[e.duration]:c.fx.speeds._default;if(e.queue==null||e.queue===true)e.queue="fx";e.old=e.complete;e.complete=function(a){c.isFunction(e.old)&&e.old.call(this);e.queue?c.dequeue(this,e.queue):a!==false&&c._unmark(this)};return e},easing:{linear:function(a){return a},swing:function(a){return-Math.cos(a*Math.PI)/2+0.5}},
timers:[],fx:function(a,b,c){this.options=b;this.elem=a;this.prop=c;b.orig=b.orig||{}}});c.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(c.fx.step[this.prop]||c.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a,b=c.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a},custom:function(a,b,d){function e(a){return f.step(a)}
var f=this,g=c.fx;this.startTime=da||cb();this.end=b;this.now=this.start=a;this.pos=this.state=0;this.unit=d||this.unit||(c.cssNumber[this.prop]?"":"px");e.queue=this.options.queue;e.elem=this.elem;e.saveState=function(){c._data(f.elem,"fxshow"+f.prop)===void 0&&(f.options.hide?c._data(f.elem,"fxshow"+f.prop,f.start):f.options.show&&c._data(f.elem,"fxshow"+f.prop,f.end))};e()&&(c.timers.push(e)&&!ua)&&(ua=setInterval(g.tick,g.interval))},show:function(){var a=c._data(this.elem,"fxshow"+this.prop);
this.options.orig[this.prop]=a||c.style(this.elem,this.prop);this.options.show=true;a!==void 0?this.custom(this.cur(),a):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());c(this.elem).show()},hide:function(){this.options.orig[this.prop]=c._data(this.elem,"fxshow"+this.prop)||c.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(a){var b,d=da||cb(),e=true,f=this.elem,g=this.options;if(a||d>=g.duration+this.startTime){this.now=this.end;this.pos=
this.state=1;this.update();g.animatedProperties[this.prop]=true;for(b in g.animatedProperties)g.animatedProperties[b]!==true&&(e=false);if(e){g.overflow!=null&&!c.support.shrinkWrapBlocks&&c.each(["","X","Y"],function(a,b){f.style["overflow"+b]=g.overflow[a]});g.hide&&c(f).hide();if(g.hide||g.show)for(b in g.animatedProperties){c.style(f,b,g.orig[b]);c.removeData(f,"fxshow"+b,true);c.removeData(f,"toggle"+b,true)}if(a=g.complete){g.complete=false;a.call(f)}}return false}if(g.duration==Infinity)this.now=
d;else{a=d-this.startTime;this.state=a/g.duration;this.pos=c.easing[g.animatedProperties[this.prop]](this.state,a,0,1,g.duration);this.now=this.start+(this.end-this.start)*this.pos}this.update();return true}};c.extend(c.fx,{tick:function(){for(var a,b=c.timers,d=0;d<b.length;d++){a=b[d];!a()&&b[d]===a&&b.splice(d--,1)}b.length||c.fx.stop()},interval:13,stop:function(){clearInterval(ua);ua=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){c.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&
a.elem.style[a.prop]!=null?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}});c.each(ea.concat.apply([],ea),function(a,b){b.indexOf("margin")&&(c.fx.step[b]=function(a){c.style(a.elem,b,Math.max(0,a.now)+a.unit)})});c.expr&&c.expr.filters&&(c.expr.filters.animated=function(a){return c.grep(c.timers,function(b){return a===b.elem}).length});var Ub,jd=/^t(?:able|d|h)$/i,Vb=/^(?:body|html)$/i;Ub="getBoundingClientRect"in l.documentElement?function(a,b,d,e){try{e=a.getBoundingClientRect()}catch(f){}if(!e||
!c.contains(d,a))return e?{top:e.top,left:e.left}:{top:0,left:0};a=b.body;b=eb(b);return{top:e.top+(b.pageYOffset||c.support.boxModel&&d.scrollTop||a.scrollTop)-(d.clientTop||a.clientTop||0),left:e.left+(b.pageXOffset||c.support.boxModel&&d.scrollLeft||a.scrollLeft)-(d.clientLeft||a.clientLeft||0)}}:function(a,b,d){var e,f=a.offsetParent,g=b.body;e=(b=b.defaultView)?b.getComputedStyle(a,null):a.currentStyle;for(var h=a.offsetTop,i=a.offsetLeft;(a=a.parentNode)&&a!==g&&a!==d;){if(c.support.fixedPosition&&
e.position==="fixed")break;e=b?b.getComputedStyle(a,null):a.currentStyle;h=h-a.scrollTop;i=i-a.scrollLeft;if(a===f){h=h+a.offsetTop;i=i+a.offsetLeft;if(c.support.doesNotAddBorder&&(!c.support.doesAddBorderForTableAndCells||!jd.test(a.nodeName))){h=h+(parseFloat(e.borderTopWidth)||0);i=i+(parseFloat(e.borderLeftWidth)||0)}f=a.offsetParent}if(c.support.subtractsBorderForOverflowNotVisible&&e.overflow!=="visible"){h=h+(parseFloat(e.borderTopWidth)||0);i=i+(parseFloat(e.borderLeftWidth)||0)}}if(e.position===
"relative"||e.position==="static"){h=h+g.offsetTop;i=i+g.offsetLeft}if(c.support.fixedPosition&&e.position==="fixed"){h=h+Math.max(d.scrollTop,g.scrollTop);i=i+Math.max(d.scrollLeft,g.scrollLeft)}return{top:h,left:i}};c.fn.offset=function(a){if(arguments.length)return a===void 0?this:this.each(function(b){c.offset.setOffset(this,a,b)});var b=this[0],d=b&&b.ownerDocument;return!d?null:b===d.body?c.offset.bodyOffset(b):Ub(b,d,d.documentElement)};c.offset={bodyOffset:function(a){var b=a.offsetTop,d=
a.offsetLeft;if(c.support.doesNotIncludeMarginInBodyOffset){b=b+(parseFloat(c.css(a,"marginTop"))||0);d=d+(parseFloat(c.css(a,"marginLeft"))||0)}return{top:b,left:d}},setOffset:function(a,b,d){var e=c.css(a,"position");if(e==="static")a.style.position="relative";var f=c(a),g=f.offset(),h=c.css(a,"top"),i=c.css(a,"left"),j={},l={};if((e==="absolute"||e==="fixed")&&c.inArray("auto",[h,i])>-1){l=f.position();e=l.top;i=l.left}else{e=parseFloat(h)||0;i=parseFloat(i)||0}c.isFunction(b)&&(b=b.call(a,d,g));
if(b.top!=null)j.top=b.top-g.top+e;if(b.left!=null)j.left=b.left-g.left+i;"using"in b?b.using.call(a,j):f.css(j)}};c.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),d=this.offset(),e=Vb.test(b[0].nodeName)?{top:0,left:0}:b.offset();d.top=d.top-(parseFloat(c.css(a,"marginTop"))||0);d.left=d.left-(parseFloat(c.css(a,"marginLeft"))||0);e.top=e.top+(parseFloat(c.css(b[0],"borderTopWidth"))||0);e.left=e.left+(parseFloat(c.css(b[0],"borderLeftWidth"))||0);return{top:d.top-
e.top,left:d.left-e.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||l.body;a&&!Vb.test(a.nodeName)&&c.css(a,"position")==="static";)a=a.offsetParent;return a})}});c.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var d=/Y/.test(b);c.fn[a]=function(e){return c.access(this,function(a,e,h){var i=eb(a);if(h===void 0)return i?b in i?i[b]:c.support.boxModel&&i.document.documentElement[e]||i.document.body[e]:a[e];i?i.scrollTo(!d?h:c(i).scrollLeft(),
d?h:c(i).scrollTop()):a[e]=h},a,e,arguments.length,null)}});c.each({Height:"height",Width:"width"},function(a,b){var d="client"+a,e="scroll"+a,f="offset"+a;c.fn["inner"+a]=function(){var a=this[0];return a?a.style?parseFloat(c.css(a,b,"padding")):this[b]():null};c.fn["outer"+a]=function(a){var d=this[0];return d?d.style?parseFloat(c.css(d,b,a?"margin":"border")):this[b]():null};c.fn[b]=function(a){return c.access(this,function(a,b,g){if(c.isWindow(a)){b=a.document;a=b.documentElement[d];return c.support.boxModel&&
a||b.body&&b.body[d]||a}if(a.nodeType===9){b=a.documentElement;return b[d]>=b[e]?b[d]:Math.max(a.body[e],b[e],a.body[f],b[f])}if(g===void 0){a=c.css(a,b);b=parseFloat(a);return c.isNumeric(b)?b:a}c(a).css(b,g)},b,a,arguments.length,null)}});q.jQuery=q.$=c;"function"===typeof define&&(define.amd&&define.amd.jQuery)&&define("jquery",[],function(){return c})})(window);;
;
/* module-key = 'jira.webresources:almond-analytics', location = '/static/lib/almond-analytics.js' */
(function(){var events=[];var oldFn;var path=(function(){var path=window.location.pathname;path=path.replace(/(projects?|issues?|browse)\/[A-Z][A-Z0-9]+\-\d+(.*|$)/ig,"$1/ISSUEKEY$2");path=path.replace(/(projects?|issues?|browse)\/[A-Z][A-Z0-9](\/|$)/ig,"$1/PROJECTKEY$2");return path})();if(typeof require.analytics!=="function"){return }var darkFeatures=document.querySelector("meta[name=ajs-enabled-dark-features]");darkFeatures=darkFeatures&&darkFeatures.getAttribute("content")||"";if(!darkFeatures||darkFeatures.indexOf("amd.loader.analytics.enabled")===-1){return }oldFn=require.analytics;require.analytics=function(action,moduleName,deps){var props={path:path,moduleName:moduleName,deps:deps,afterDomReady:jQuery.isReady};events.push({name:"amd.loader."+action,properties:props})};setTimeout(function(){if(AJS&&typeof AJS.EventQueue!=="undefined"){for(var i=0,ii=events.length;i<ii;i++){AJS.EventQueue.push(events[i])}events=AJS.EventQueue}else{events.length=0;require.analytics=oldFn}},5000)})();;
;
/* module-key = 'com.atlassian.plugins.atlassian-plugins-webresource-plugin:data', location = 'js/data/data.js' */
window.WRM=window.WRM||{};window.WRM._createDataImpl=function(i){i._unparsedData=i._unparsedData||{};i._unparsedErrors=i._unparsedErrors||{};function g(k){if(!k){return k}return JSON.parse(k)}function j(l,k){return Object.prototype.hasOwnProperty.call(l,k)}var b={};var c={};function h(l,k,m){if(!k){return}if(j(m,l)){return}m[l]=k}function d(l,k){var o=k[l];try{var m=g(o);delete k[l];return m}catch(n){console&&console.log&&console.log("JSON Error parsing data with key "+l+": "+n);return undefined}}function a(n,m,k){var l=function(){try{n(m)}catch(o){console&&console.log&&console.log("Excpetion calling bigpipe callback for "+k+": "+o)}};setTimeout(l,0)}function f(m,o,n){for(var l in m){if(j(m,l)){if(j(o,l)){var q=o[l];var p=d(l,m);if(typeof p==="undefined"){q=n[l]}delete o[l];delete n[l];if(q){a(q,p,l)}}}}}i._dataArrived=function(){f(i._unparsedData,b,c);f(i._unparsedData,c,c)};var e={};e.claim=function(l,k,m){if(!k&&!m){if(i._unparsedData&&j(i._unparsedData,l)){return d(l,i._unparsedData)}}else{h(l,k,b);h(l,m,c);i._dataArrived()}};return e};WRM.data=WRM._createDataImpl(WRM);if(typeof define==="function"){define("wrm/data",[],function(){return WRM.data})};;
;
/* module-key = 'com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path', location = 'js/data/context-path.js' */
(function(){var a=null;(window.AJS||(window.AJS={}));AJS.contextPath=function(){if(a===null){a=WRM.data.claim("com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path")}return a};AJS.contextPath._reset=function(){a=null};if(typeof define==="function"){define("wrm/context-path",[],function(){return AJS.contextPath})}}());;
;
/* module-key = 'com.atlassian.auiplugin:jquery-compatibility', location = 'js-vendor/jquery/jquery-compatibility.js' */
jQuery.noConflict();;
;
/* module-key = 'com.atlassian.auiplugin:aui-deprecation', location = 'js/aui/internal/console.js' */
window.AJS=window.AJS||{};(function(){if(typeof window.console==="undefined"){window.console={messages:[],log:function(B){this.messages.push(B)},show:function(){alert(this.messages.join("\n"));this.messages=[]}}}else{window.console.show=function(){}}function A(B){return function(){if(typeof console!=="undefined"&&console[B]){Function.prototype.apply.call(console[B],console,arguments)}}}AJS.log=A("log");AJS.warn=A("warn");AJS.error=A("error")})();;
;
/* module-key = 'com.atlassian.auiplugin:aui-deprecation', location = 'js/aui/internal/deprecation.js' */
window.AJS=window.AJS||{};window.AJS.deprecate={};(function(G,F){var N=Object.prototype.hasOwnProperty;var B=Object.prototype.toString;function J(O){O+="";if(!O){return""}return O.charAt(0).toUpperCase()+O.substring(1)}var H=[];function M(O,P){if(typeof O==="function"){return O}var Q=false;P=P||{};return function(R){var T=F.__getDeprecatedLocation(R?R:1)||"";if(!Q||H.indexOf(T)===-1){Q=true;var S="DEPRECATED - "+J(O)+" has been deprecated"+(P.sinceVersion?" since "+P.sinceVersion:"")+" and will be removed in "+(P.removeInVersion||"a future release")+".";if(P.alternativeName){S+=" Use "+P.alternativeName+" instead. "}if(P.extraInfo){S+=" "+P.extraInfo}if(T===""){F.__logger(S+" \n No stack trace of the deprecated usage is available in your current browser.")}else{F.__logger(S+" \n "+T)}H.push(T)}}}F.__logger=function(){return AJS.warn.apply(undefined,arguments)};F.__getDeprecatedLocation=function(P){var Q=new Error();var O=Q.stack||Q.stacktrace;var R=(O&&O.replace(/^Error\n/,""))||"";if(R){R=R.split("\n");return R[P+2]}return R};function D(R,P,Q){var O=M(P||R.name||"this function",Q);return function(){O();return R.apply(this,arguments)}}function L(Q,O,P){var R=D(Q,O,P);R.prototype=Q.prototype;G.extend(R,Q);return R}var E=false;try{if(Object.defineProperty){Object.defineProperty({},"blam",{get:function(){},set:function(){}});E=true}}catch(I){}function K(R,T,Q){if(E){var P=R[T];Q=Q||{};var S=Q.displayName||T;var O=M(S,Q);Object.defineProperty(R,T,{get:function(){O();return P},set:function(U){P=U;O();return U}})}else{}}function A(P,R,O){if(typeof P[R]==="function"){O=O||{};var Q=O.displayName||R;P[R]=D(P[R],Q,O)}else{K(P,R,O)}}function C(R,P,Q){Q=Q||{};for(var O in R){if(N.call(R,O)){Q.displayName=P+O;Q.alternativeName=Q.alternativeNamePrefix&&(Q.alternativeNamePrefix+O);A(R,O,G.extend({},Q))}}}F.fn=D;F.construct=L;F.prop=A;F.obj=C;F.propertyDeprecationSupported=E;F.getMessageLogger=M})(jQuery||Zepto,window.AJS.deprecate);;
;
/* module-key = 'com.atlassian.auiplugin:aui-core', location = 'js/polyfills/custom-event.js' */
(function(){if(window.CustomEvent){try{new A()}catch(B){return }}function A(D,E){E=E||{bubbles:false,cancelable:false,detail:undefined};var C=document.createEvent("CustomEvent");C.initCustomEvent(D,E.bubbles,E.cancelable,E.detail);return C}A.prototype=window.Event.prototype;window.CustomEvent=A}());;
;
/* module-key = 'com.atlassian.auiplugin:aui-core', location = 'skate/dist/skate.js' */
(function(){function D(s,r){if(W(s,r.id+".initialised")){return }Z(s,r.id+".initialised",true);A(s,r,function(){l(s,r)})}function A(u,t,r){var s=/^[^(]+\([^,)]+,/;r=r||function(){};if(W(u,t.id+".ready-called")){return r()}Z(u,t.id+".ready-called",true);if(t.template){t.template(u)}S(u,t.prototype);Y(u,t);if(t.ready&&s.test(t.ready)){t.ready(u,r)}else{if(t.ready){t.ready(u);r()}else{r()}}}function l(s,r){if(!s.parentNode){return }if(W(s,r.id+".insert-called")){return }Z(s,r.id+".insert-called",true);b(s,r.classname);if(r.insert){r.insert(s)}H(s,r)}function E(s,r){if(W(s,r.id+".remove-called")){return }Z(s,r.id+".remove-called",true);if(r.remove){r.remove(s)}}function H(y,v){function x(AB,AA,AC,z){var AD;if(v.attributes&&v.attributes[AA]&&typeof v.attributes[AA][AB]==="function"){AD=v.attributes[AA][AB]}else{if(v.attributes&&typeof v.attributes[AA]==="function"){AD=v.attributes[AA]}else{if(typeof v.attributes==="function"){AD=v.attributes}}}if(AD){AD(y,{type:AB,name:AA,newValue:AC,oldValue:z})}}var u=y.attributes;var w=u.length;var t=new d(function(z){z.forEach(function(AB){var AD;var AC=AB.attributeName;var AA=u[AC];if(AA&&AB.oldValue===null){AD="insert"}else{if(AA&&AB.oldValue!==null){AD="update"}else{if(!AA){AD="remove"}}}x(AD,AC,AA?(AA.value||AA.nodeValue):undefined,AB.oldValue)})});t.observe(y,{attributes:true,attributeOldValue:true});for(var s=0;s<w;s++){var r=u[s];if(r){x("insert",r.nodeName,(r.value||r.nodeValue))}}}function Y(t,s){if(typeof s.events!=="object"){return }function r(v,u){return function(w){if(!u||G.call(w.target,u)){v(t,w)}}}f(s.events,function(w,v){var u=i(v);t.addEventListener(u.name,r(w,u.delegate))})}function i(s){var r=s.split(" ");return{name:r.shift(),delegate:r.join(" ")}}function W(s,r){if(s.__SKATE_DATA){return s.__SKATE_DATA[r]}}function Z(s,r,t){if(!s.__SKATE_DATA){s.__SKATE_DATA={}}s.__SKATE_DATA[r]=t}function b(r,s){if(r.classList){r.classList.add(s)}else{r.className+=r.className?" "+s:s}}function F(s){var t=s.classList;if(t){return t}var r=s.attributes;return(r["class"]&&r["class"].nodeValue.split(/\s+/))||[]}function S(s,r){f(r,function(u,t){if(s[t]===undefined){s[t]=u}});return s}function I(s,r){return Object.prototype.hasOwnProperty.call(s,r)}function f(t,s){for(var r in t){if(I(t,r)){s(t[r],r)}}}function L(r){function s(){var t=document.createElement(r.id);r.prototype=s.prototype;A(t,r);return t}s.prototype=r.prototype;return s}function V(r){var s=r;while(s&&s!==document&&!(s instanceof DocumentFragment)){if(s.hasAttribute(q)){return s}s=s.parentNode}}function U(x,t,v){var u=t.indexOf(O.types.TAG)>-1;var r=t.indexOf(O.types.ATTR)>-1;var w=t.indexOf(O.types.CLASS)>-1;var s=[];v=v?":not("+v+")":"";if(u){s.push(x+v);s.push("[is="+x+"]"+v)}if(r){s.push("["+x+"]"+v)}if(w){s.push("."+x+v)}return s.join(",")}function p(s,r){return I(o,s)&&o[s].type.indexOf(r)>-1}function n(v,r){if(r){var x=v.querySelectorAll(r);var t=x.length;var u=[];for(var s=0;s<t;s++){var w=x[s];if(w.parentNode===v){u.push(w)}}return u}return v.childNodes||[]}function m(t){var s={caption:"table",dd:"dl",dt:"dl",li:"ul",tbody:"table",td:"tr",thead:"table",tr:"tbody"};var r=t.match(/\s*<([^\s>]+)/);var v=document.createDocumentFragment();var u=document.createElement(r&&s[r[1]]||"div");u.innerHTML=t;c(v,u.childNodes);return v}function c(w,u){var s=u.length;if(u&&s){for(var t=s-1;t>=0;t--){var v=u[t];var r=w.childNodes[0];if(r){w.insertBefore(v,r)}else{w.appendChild(v)}}}}function Q(u,t){var r=t.length;if(t&&r){for(var s=0;s<r;s++){var v=t[s];u.removeChild(v)}}}function e(r,s){if(r.nodeType!==1){return false}return r.contains?r.contains(s):B.call(r,s)}function k(v){if(v.nodeType!==1||v.attributes[q]){return }var r=document.createTreeWalker(v,NodeFilter.SHOW_ELEMENT,M,true);var y=O.components(v);var s=y.length;for(var x=0;x<s;x++){D(v,y[x])}while(r.nextNode()){var t=r.currentNode;var u=O.components(t);var z=u.length;for(var w=0;w<z;w++){D(t,u[w])}}}function a(t){var r=t.length;for(var s=0;s<r;s++){k(t[s])}}function P(u){var r=u.length;for(var s=0;s<r;s++){var t=u[s];if(t.nodeType!==1){continue}var v=t.childNodes;P(v);O.components(t).forEach(K(t))}}function K(r){return function(s){E(r,s)}}function J(r){var s=false;return function(){if(!s){s=true;setTimeout(function(){s=false;r()},1)}}}function M(s){var r=s.attributes;return r&&r[q]?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}var X=J(function(){k(document.getElementsByTagName("html")[0])});var N="data-skate-content";var q="data-skate-ignore";var R=/^[\s\r\n]*$/;var C=window.HTMLElement.prototype;var B=C.contains;var G=(C.matches||C.msMatchesSelector||C.webkitMatchesSelector||C.mozMatchesSelector||C.oMatchesSelector);var j;var T=false;var h=document.createElement("style");var o={};var d=window.MutationObserver||window.WebkitMutationObserver||window.MozMutationObserver;if(!d){d=function(r){this.callback=r;this.elements=[]};d.prototype={observe:function(y,AG){function s(AH){AF.push(AH);r()}function AE(AJ){var AI=AJ.target;if(!AI){return }var AH=AI.parentNode;if(!z(AH)){return }if(AD&&e(AD,AI)){return }if(!AB){AA.push(AB=g(AH))}if(AH){if(!AB.addedNodes){AB.addedNodes=[]}AB.addedNodes.push(AI)}else{if(!AB.removedNodes){AB.removedNodes=[]}AB.removedNodes.push(AI)}AD=AI}function x(AH){return AH===y}function z(AH){return AG.childList&&(AG.subtree||AH===y)}var v=this;var AD;var AB;var AF=[];var AA=[];var r=J(function(){var AH=AF.length;for(var AI=0;AI<AH;AI++){AE(AF[AI])}v.callback(AA);AF=[];AA=[];AD=undefined;AB=undefined});var AC={};var u=[];var w=J(function(){var AH=u.length;v.callback(u);u.splice(0,AH)});var t={target:y,options:AG,insertHandler:s,removeHandler:s,attributeHandler:function(AM){var AK=AM.target;if(!x(AK)){return }var AI=AM.attrName;var AJ=AM.prevValue;var AL=AM.newValue;var AH=g(AK,"attributes");AH.attributeName=AI;if(AG.attributeOldValue){AH.oldValue=AC[AI]||AJ||null}u.push(AH);if(AG.attributeOldValue){AC[AI]=AL}w()}};this.elements.push(t);if(AG.childList){y.addEventListener("DOMNodeInserted",t.insertHandler);y.addEventListener("DOMNodeRemoved",t.removeHandler)}if(AG.attributes){y.addEventListener("DOMAttrModified",t.attributeHandler)}return this},disconnect:function(){f(this.elements,function(r){r.target.removeEventListener("DOMNodeInserted",r.insertHandler);r.target.removeEventListener("DOMNodeRemoved",r.removeHandler);r.target.removeEventListener("DOMAttrModified",r.attributeHandler)});this.elements=[];return this}}}function g(s,r){return{addedNodes:null,attributeName:null,attributeNamespace:null,nextSibling:null,oldValue:null,previousSibling:null,removedNodes:null,target:s,type:r||"childList"}}function O(s,r){r=S(r||{},O.defaults);r.id=s;if(I(o,r.id)){throw new Error('A component of type "'+r.type+'" with the ID of "'+s+'" already exists.')}if(r.template&&typeof r.template==="string"){r.template=O.template.html(r.template)}if(r.ready||r.template){h.sheet.insertRule(U(r.id,r.type,"."+r.classname)+"{display:none}",h.sheet.cssRules.length)}o[r.id]=r;if(T){X()}if(r.type.indexOf(O.types.TAG)>-1){return L(r)}}O.components=function(u){var AB=u.attributes;var AA=AB.length;var v=[];var s=AB.is;var AC=s&&(s.value||s.nodeValue)||u.tagName.toLowerCase();if(p(AC,O.types.TAG)){v.push(o[AC])}for(var z=0;z<AA;z++){var w=AB[z].nodeName;if(p(w,O.types.ATTR)){v.push(o[w])}}var r=F(u);var t=r.length;for(var y=0;y<t;y++){var x=r[y];if(p(x,O.types.CLASS)){v.push(o[x])}}return v};O.destroy=function(){o={};return O};O.init=function(r){if(typeof r.length==="undefined"){r=[r]}a(r);return arguments[0]};O.template={};O.template.html=function(u){var s=m(u);var t=false;var r=new d(function(w){if(t){t=false;return }t=true;for(var v=0;v<w.length;v++){var x=w[v];var z=x.target;var y=W(z,"default-content");if(x.addedNodes){Q(z,y)}if(x.removedNodes&&z.innerHTML.match(R)){z.innerHTML="";c(z,y)}}});return function(y){var AB=m(y.innerHTML);var w=s.cloneNode(true);var AA=w.querySelectorAll("["+N+"]");var AC=AA.length;if(AC){for(var x=0;x<AC;x++){var v=AA[x];var z=n(AB,v.getAttribute(N));Z(v,"default-content",[].slice.call(v.childNodes));if(z.length){v.innerHTML="";c(v,z)}r.observe(v,{childList:true})}}y.innerHTML="";y.appendChild(w)}};O.types={ANY:"act",ATTR:"a",CLASS:"c",NOATTR:"ct",NOCLASS:"at",NOTAG:"ac",TAG:"t"};O.unregister=function(r){delete o[r];return O};O.version="0.9.4";O.defaults={attributes:false,classname:"__skate",events:false,id:"",prototype:{},template:false,type:O.types.ANY};document.getElementsByTagName("head")[0].appendChild(h);document.addEventListener("DOMContentLoaded",function(){X();j=new d(function(t){var w=t.length;for(var s=0;s<w;s++){var u=t[s];var v=u.addedNodes;var r=u.removedNodes;if(v&&v.length&&!V(v[0].parentNode)){a(v)}if(r&&r.length){P(r)}}});j.observe(document,{childList:true,subtree:true});T=true});window.skate=O;if(typeof define==="function"&&define.amd){define("aui/internal/skate",[],function(){return O})}else{if(typeof exports==="object"){module.exports=O}}})();;
;
/* module-key = 'com.atlassian.auiplugin:aui-core', location = 'tether/tether.js' */
/* tether 0.6.5 */
(function(A){(function(){var O,G,C,U,S,P,E,H,T,R,L,B,Q,I,F,M,J,K={}.hasOwnProperty,D=[].indexOf||function(X){for(var W=0,V=this.length;W<V;W++){if(W in this&&this[W]===X){return W}}return -1},N=[].slice;if(this.Tether==null){this.Tether={modules:[]}}L=function(Y){var X,V,b,W,Z;V=getComputedStyle(Y).position;if(V==="fixed"){return Y}b=void 0;X=Y;while(X=X.parentNode){try{W=getComputedStyle(X)}catch(a){}if(W==null){return X}if(/(auto|scroll)/.test(W.overflow+W["overflow-y"]+W["overflow-x"])){if(V!=="absolute"||((Z=W.position)==="relative"||Z==="absolute"||Z==="fixed")){return X}}}return document.body};F=(function(){var V;V=0;return function(){return V++}})();J={};T=function(Z){var a,W,X,V,Y;X=Z._tetherZeroElement;if(X==null){X=Z.createElement("div");X.setAttribute("data-tether-id",F());S(X.style,{top:0,left:0,position:"absolute"});Z.body.appendChild(X);Z._tetherZeroElement=X}a=X.getAttribute("data-tether-id");if(J[a]==null){J[a]={};Y=X.getBoundingClientRect();for(W in Y){V=Y[W];J[a][W]=V}C(function(){return J[a]=void 0})}return J[a]};Q=null;E=function(Y){var Z,b,c,X,W,V,a;if(Y===document){b=document;Y=document.documentElement}else{b=Y.ownerDocument}c=b.documentElement;Z={};a=Y.getBoundingClientRect();for(X in a){V=a[X];Z[X]=V}W=T(b);Z.top-=W.top;Z.left-=W.left;if(Z.width==null){Z.width=document.body.scrollWidth-Z.left-Z.right}if(Z.height==null){Z.height=document.body.scrollHeight-Z.top-Z.bottom}Z.top=Z.top-c.clientTop;Z.left=Z.left-c.clientLeft;Z.right=b.body.clientWidth-Z.width-Z.left;Z.bottom=b.body.clientHeight-Z.height-Z.top;return Z};H=function(V){return V.offsetParent||document.documentElement};R=function(){var W,X,Y,Z,V;W=document.createElement("div");W.style.width="100%";W.style.height="200px";X=document.createElement("div");S(X.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"});X.appendChild(W);document.body.appendChild(X);Z=W.offsetWidth;X.style.overflow="scroll";V=W.offsetWidth;if(Z===V){V=X.clientWidth}document.body.removeChild(X);Y=Z-V;return{width:Y,height:Y}};S=function(X){var W,Y,b,c,a,V,Z;if(X==null){X={}}W=[];Array.prototype.push.apply(W,arguments);Z=W.slice(1);for(a=0,V=Z.length;a<V;a++){b=Z[a];if(b){for(Y in b){if(!K.call(b,Y)){continue}c=b[Y];X[Y]=c}}}return X};I=function(Z,Y){var X,b,W,a,V;if(Z.classList!=null){a=Y.split(" ");V=[];for(b=0,W=a.length;b<W;b++){X=a[b];if(X.trim()){V.push(Z.classList.remove(X))}}return V}else{return Z.className=Z.className.replace(new RegExp("(^| )"+(Y.split(" ").join("|"))+"( |$)","gi")," ")}};G=function(Z,Y){var X,b,W,a,V;if(Z.classList!=null){a=Y.split(" ");V=[];for(b=0,W=a.length;b<W;b++){X=a[b];if(X.trim()){V.push(Z.classList.add(X))}}return V}else{I(Z,Y);return Z.className+=" "+Y}};B=function(W,V){if(W.classList!=null){return W.classList.contains(V)}else{return new RegExp("(^| )"+V+"( |$)","gi").test(W.className)}};M=function(W,c,b){var d,Z,Y,a,V,X;for(Z=0,a=b.length;Z<a;Z++){d=b[Z];if(D.call(c,d)<0){if(B(W,d)){I(W,d)}}}X=[];for(Y=0,V=c.length;Y<V;Y++){d=c[Y];if(!B(W,d)){X.push(G(W,d))}else{X.push(void 0)}}return X};U=[];C=function(V){return U.push(V)};P=function(){var W,V;V=[];while(W=U.pop()){V.push(W())}return V};O=(function(){function V(){}V.prototype.on=function(a,Z,W,Y){var X;if(Y==null){Y=false}if(this.bindings==null){this.bindings={}}if((X=this.bindings)[a]==null){X[a]=[]}return this.bindings[a].push({handler:Z,ctx:W,once:Y})};V.prototype.once=function(Y,X,W){return this.on(Y,X,W,true)};V.prototype.off=function(Z,Y){var X,a,W;if(((a=this.bindings)!=null?a[Z]:void 0)==null){return }if(Y==null){return delete this.bindings[Z]}else{X=0;W=[];while(X<this.bindings[Z].length){if(this.bindings[Z][X].handler===Y){W.push(this.bindings[Z].splice(X,1))}else{W.push(X++)}}return W}};V.prototype.trigger=function(){var c,e,W,d,b,X,a,Z,Y;W=arguments[0],c=2<=arguments.length?N.call(arguments,1):[];if((a=this.bindings)!=null?a[W]:void 0){b=0;Y=[];while(b<this.bindings[W].length){Z=this.bindings[W][b],d=Z.handler,e=Z.ctx,X=Z.once;d.apply(e!=null?e:this,c);if(X){Y.push(this.bindings[W].splice(b,1))}else{Y.push(b++)}}return Y}};return V})();this.Tether.Utils={getScrollParent:L,getBounds:E,getOffsetParent:H,extend:S,addClass:G,removeClass:I,hasClass:B,updateClasses:M,defer:C,flush:P,uniqueId:F,Evented:O,getScrollBarSize:R}}).call(this);(function(){var Z,a,d,H,K,c,e,I,D,b,X,G,M,P,Y,Q,C,B,L,N,T,f,O,E,S,R,W,V,J,U=[].slice,F=function(g,h){return function(){return g.apply(h,arguments)}};if(this.Tether==null){throw new Error("You must include the utils.js file before tether.js")}H=this.Tether;J=H.Utils,Q=J.getScrollParent,C=J.getSize,P=J.getOuterSize,G=J.getBounds,M=J.getOffsetParent,b=J.extend,K=J.addClass,O=J.removeClass,R=J.updateClasses,D=J.defer,X=J.flush,Y=J.getScrollBarSize;W=function(h,g,i){if(i==null){i=1}return(h+i>=g&&g>=h-i)};S=(function(){var j,i,k,h,g;j=document.createElement("div");g=["transform","webkitTransform","OTransform","MozTransform","msTransform"];for(k=0,h=g.length;k<h;k++){i=g[k];if(j.style[i]!==void 0){return i}}})();E=[];f=function(){var h,i,g;for(i=0,g=E.length;i<g;i++){h=E[i];h.position(false)}return X()};B=function(){var g;return(g=typeof performance!=="undefined"&&performance!==null?typeof performance.now==="function"?performance.now():void 0:void 0)!=null?g:+(new Date)};(function(){var g,o,m,h,l,k,n,j,i;o=null;m=null;h=null;l=function(){if((m!=null)&&m>16){m=Math.min(m-16,250);h=setTimeout(l,250);return }if((o!=null)&&(B()-o)<10){return }if(h!=null){clearTimeout(h);h=null}o=B();f();return m=B()-o};j=["resize","scroll","touchmove"];i=[];for(k=0,n=j.length;k<n;k++){g=j[k];i.push(window.addEventListener(g,l))}return i})();Z={center:"center",left:"right",right:"left"};a={middle:"middle",top:"bottom",bottom:"top"};d={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"};I=function(j,g){var i,h;i=j.left,h=j.top;if(i==="auto"){i=Z[g.left]}if(h==="auto"){h=a[g.top]}return{left:i,top:h}};e=function(h){var g,i;return{left:(g=d[h.left])!=null?g:h.left,top:(i=d[h.top])!=null?i:h.top}};c=function(){var m,j,i,l,k,h,g;j=1<=arguments.length?U.call(arguments,0):[];i={top:0,left:0};for(k=0,h=j.length;k<h;k++){g=j[k],l=g.top,m=g.left;if(typeof l==="string"){l=parseFloat(l,10)}if(typeof m==="string"){m=parseFloat(m,10)}i.top+=l;i.left+=m}return i};L=function(h,g){if(typeof h.left==="string"&&h.left.indexOf("%")!==-1){h.left=parseFloat(h.left,10)/100*g.width}if(typeof h.top==="string"&&h.top.indexOf("%")!==-1){h.top=parseFloat(h.top,10)/100*g.height}return h};N=T=function(h){var j,i,g;g=h.split(" "),i=g[0],j=g[1];return{top:i,left:j}};V=(function(){g.modules=[];function g(j){this.position=F(this.position,this);var k,l,i,h,m;E.push(this);this.history=[];this.setOptions(j,false);h=H.modules;for(l=0,i=h.length;l<i;l++){k=h[l];if((m=k.initialize)!=null){m.call(this)}}this.position()}g.prototype.getClass=function(i){var h,j;if((h=this.options.classes)!=null?h[i]:void 0){return this.options.classes[i]}else{if(((j=this.options.classes)!=null?j[i]:void 0)!==false){if(this.options.classPrefix){return""+this.options.classPrefix+"-"+i}else{return i}}else{return""}}};g.prototype.setOptions=function(k,i){var n,l,m,j,h,o;this.options=k;if(i==null){i=true}n={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"};this.options=b(n,this.options);h=this.options,this.element=h.element,this.target=h.target,this.targetModifier=h.targetModifier;if(this.target==="viewport"){this.target=document.body;this.targetModifier="visible"}else{if(this.target==="scroll-handle"){this.target=document.body;this.targetModifier="scroll-handle"}}o=["element","target"];for(m=0,j=o.length;m<j;m++){l=o[m];if(this[l]==null){throw new Error("Tether Error: Both element and target must be defined")}if(this[l].jquery!=null){this[l]=this[l][0]}else{if(typeof this[l]==="string"){this[l]=document.querySelector(this[l])}}}K(this.element,this.getClass("element"));K(this.target,this.getClass("target"));if(!this.options.attachment){throw new Error("Tether Error: You must provide an attachment")}this.targetAttachment=N(this.options.targetAttachment);this.attachment=N(this.options.attachment);this.offset=T(this.options.offset);this.targetOffset=T(this.options.targetOffset);if(this.scrollParent!=null){this.disable()}if(this.targetModifier==="scroll-handle"){this.scrollParent=this.target}else{this.scrollParent=Q(this.target)}if(this.options.enabled!==false){return this.enable(i)}};g.prototype.getTargetBounds=function(){var h,n,k,p,l,j,o,i,m;if(this.targetModifier!=null){switch(this.targetModifier){case"visible":if(this.target===document.body){return{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth}}else{h=G(this.target);l={height:h.height,width:h.width,top:h.top,left:h.left};l.height=Math.min(l.height,h.height-(pageYOffset-h.top));l.height=Math.min(l.height,h.height-((h.top+h.height)-(pageYOffset+innerHeight)));l.height=Math.min(innerHeight,l.height);l.height-=2;l.width=Math.min(l.width,h.width-(pageXOffset-h.left));l.width=Math.min(l.width,h.width-((h.left+h.width)-(pageXOffset+innerWidth)));l.width=Math.min(innerWidth,l.width);l.width-=2;if(l.top<pageYOffset){l.top=pageYOffset}if(l.left<pageXOffset){l.left=pageXOffset}return l}break;case"scroll-handle":m=this.target;if(m===document.body){m=document.documentElement;h={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}}else{h=G(m)}i=getComputedStyle(m);k=m.scrollWidth>m.clientWidth||"scroll"===[i.overflow,i.overflowX]||this.target!==document.body;j=0;if(k){j=15}p=h.height-parseFloat(i.borderTopWidth)-parseFloat(i.borderBottomWidth)-j;l={width:15,height:p*0.975*(p/m.scrollHeight),left:h.left+h.width-parseFloat(i.borderLeftWidth)-15};n=0;if(p<408&&this.target===document.body){n=-0.00011*Math.pow(p,2)-0.00727*p+22.58}if(this.target!==document.body){l.height=Math.max(l.height,24)}o=this.target.scrollTop/(m.scrollHeight-p);l.top=o*(p-l.height-n)+h.top+parseFloat(i.borderTopWidth);if(this.target===document.body){l.height=Math.max(l.height,24)}return l}}else{return G(this.target)}};g.prototype.clearCache=function(){return this._cache={}};g.prototype.cache=function(i,h){if(this._cache==null){this._cache={}}if(this._cache[i]==null){this._cache[i]=h.call(this)}return this._cache[i]};g.prototype.enable=function(h){if(h==null){h=true}K(this.target,this.getClass("enabled"));K(this.element,this.getClass("enabled"));this.enabled=true;if(this.scrollParent!==document){this.scrollParent.addEventListener("scroll",this.position)}if(h){return this.position()}};g.prototype.disable=function(){O(this.target,this.getClass("enabled"));O(this.element,this.getClass("enabled"));this.enabled=false;if(this.scrollParent!=null){return this.scrollParent.removeEventListener("scroll",this.position)}};g.prototype.destroy=function(){var l,k,m,j,h;this.disable();h=[];for(l=m=0,j=E.length;m<j;l=++m){k=E[l];if(k===this){E.splice(l,1);break}else{h.push(void 0)}}return h};g.prototype.updateAttachClasses=function(k,i){var s,r,p,j,n,m,q,h,l,o=this;if(k==null){k=this.attachment}if(i==null){i=this.targetAttachment}j=["left","top","bottom","right","middle","center"];if((l=this._addAttachClasses)!=null?l.length:void 0){this._addAttachClasses.splice(0,this._addAttachClasses.length)}s=this._addAttachClasses!=null?this._addAttachClasses:this._addAttachClasses=[];if(k.top){s.push(""+(this.getClass("element-attached"))+"-"+k.top)}if(k.left){s.push(""+(this.getClass("element-attached"))+"-"+k.left)}if(i.top){s.push(""+(this.getClass("target-attached"))+"-"+i.top)}if(i.left){s.push(""+(this.getClass("target-attached"))+"-"+i.left)}r=[];for(n=0,q=j.length;n<q;n++){p=j[n];r.push(""+(this.getClass("element-attached"))+"-"+p)}for(m=0,h=j.length;m<h;m++){p=j[m];r.push(""+(this.getClass("target-attached"))+"-"+p)}return D(function(){if(o._addAttachClasses==null){return }R(o.element,o._addAttachClasses,r);R(o.target,o._addAttachClasses,r);return o._addAttachClasses=void 0})};g.prototype.position=function(AP){var o,AI,k,p,AN,AH,l,m,AL,AG,AF,z,AA,u,AJ,AE,AR,AD,AB,i,AM,AK,j,q,h,AQ,AO,AC,r,y,x,w,v,t,s,n=this;if(AP==null){AP=true}if(!this.enabled){return }this.clearCache();i=I(this.targetAttachment,this.attachment);this.updateAttachClasses(this.attachment,i);o=this.cache("element-bounds",function(){return G(n.element)});h=o.width,k=o.height;if(h===0&&k===0&&(this.lastSize!=null)){y=this.lastSize,h=y.width,k=y.height}else{this.lastSize={width:h,height:k}}j=AK=this.cache("target-bounds",function(){return n.getTargetBounds()});AL=L(e(this.attachment),{width:h,height:k});AM=L(e(i),j);AN=L(this.offset,{width:h,height:k});AH=L(this.targetOffset,j);AL=c(AL,AN);AM=c(AM,AH);p=AK.left+AM.left-AL.left;q=AK.top+AM.top-AL.top;x=H.modules;for(AQ=0,AC=x.length;AQ<AC;AQ++){l=x[AQ];AJ=l.position.call(this,{left:p,top:q,targetAttachment:i,targetPos:AK,attachment:this.attachment,elementPos:o,offset:AL,targetOffset:AM,manualOffset:AN,manualTargetOffset:AH,scrollbarSize:AD});if((AJ==null)||typeof AJ!=="object"){continue}else{if(AJ===false){return false}else{q=AJ.top,p=AJ.left}}}m={page:{top:q,left:p},viewport:{top:q-pageYOffset,bottom:pageYOffset-q-k+innerHeight,left:p-pageXOffset,right:pageXOffset-p-h+innerWidth}};if(document.body.scrollWidth>window.innerWidth){AD=this.cache("scrollbar-size",Y);m.viewport.bottom-=AD.height}if(document.body.scrollHeight>window.innerHeight){AD=this.cache("scrollbar-size",Y);m.viewport.right-=AD.width}if(((w=document.body.style.position)!==""&&w!=="static")||((v=document.body.parentElement.style.position)!==""&&v!=="static")){m.page.bottom=document.body.scrollHeight-q-k;m.page.right=document.body.scrollWidth-p-h}if(((t=this.options.optimizations)!=null?t.moveElement:void 0)!==false&&(this.targetModifier==null)){AF=this.cache("target-offsetparent",function(){return M(n.target)});u=this.cache("target-offsetparent-bounds",function(){return G(AF)});AA=getComputedStyle(AF);AI=getComputedStyle(this.element);z=u;AG={};s=["Top","Left","Bottom","Right"];for(AO=0,r=s.length;AO<r;AO++){AB=s[AO];AG[AB.toLowerCase()]=parseFloat(AA["border"+AB+"Width"])}u.right=document.body.scrollWidth-u.left-z.width+AG.right;u.bottom=document.body.scrollHeight-u.top-z.height+AG.bottom;if(m.page.top>=(u.top+AG.top)&&m.page.bottom>=u.bottom){if(m.page.left>=(u.left+AG.left)&&m.page.right>=u.right){AR=AF.scrollTop;AE=AF.scrollLeft;m.offset={top:m.page.top-u.top+AR-AG.top,left:m.page.left-u.left+AE-AG.left}}}}this.move(m);this.history.unshift(m);if(this.history.length>3){this.history.pop()}if(AP){X()}return true};g.prototype.move=function(x){var n,s,o,y,m,h,r,u,q,l,z,v,p,i,w,k,j,t=this;if(this.element.parentNode==null){return }u={};for(l in x){u[l]={};for(y in x[l]){o=false;k=this.history;for(i=0,w=k.length;i<w;i++){r=k[i];if(!W((j=r[l])!=null?j[y]:void 0,x[l][y])){o=true;break}}if(!o){u[l][y]=true}}}n={top:"",left:"",right:"",bottom:""};q=function(AE,AD){var AC,AA,AB;if(((AB=t.options.optimizations)!=null?AB.gpu:void 0)!==false){if(AE.top){n.top=0;AA=AD.top}else{n.bottom=0;AA=-AD.bottom}if(AE.left){n.left=0;AC=AD.left}else{n.right=0;AC=-AD.right}n[S]="translateX("+(Math.round(AC))+"px) translateY("+(Math.round(AA))+"px)";if(S!=="msTransform"){return n[S]+=" translateZ(0)"}}else{if(AE.top){n.top=""+AD.top+"px"}else{n.bottom=""+AD.bottom+"px"}if(AE.left){return n.left=""+AD.left+"px"}else{return n.right=""+AD.right+"px"}}};m=false;if((u.page.top||u.page.bottom)&&(u.page.left||u.page.right)){n.position="absolute";q(u.page,x.page)}else{if((u.viewport.top||u.viewport.bottom)&&(u.viewport.left||u.viewport.right)){n.position="fixed";q(u.viewport,x.viewport)}else{if((u.offset!=null)&&u.offset.top&&u.offset.left){n.position="absolute";h=this.cache("target-offsetparent",function(){return M(t.target)});if(M(this.element)!==h){D(function(){t.element.parentNode.removeChild(t.element);return h.appendChild(t.element)})}q(u.offset,x.offset);m=true}else{n.position="absolute";q({top:true,left:true},x.page)}}}if(!m&&this.element.parentNode.tagName!=="BODY"){this.element.parentNode.removeChild(this.element);document.body.appendChild(this.element)}p={};v=false;for(y in n){z=n[y];s=this.element.style[y];if(s!==""&&z!==""&&(y==="top"||y==="left"||y==="bottom"||y==="right")){s=parseFloat(s);z=parseFloat(z)}if(s!==z){v=true;p[y]=n[y]}}if(v){return D(function(){return b(t.element.style,p)})}};return g})();H.position=f;this.Tether=b(V,H)}).call(this);(function(){var F,C,B,H,J,G,I,L,E,D,K=[].indexOf||function(O){for(var N=0,M=this.length;N<M;N++){if(N in this&&this[N]===O){return N}}return -1};D=this.Tether.Utils,I=D.getOuterSize,G=D.getBounds,L=D.getSize,H=D.extend,E=D.updateClasses,B=D.defer;C={left:"right",right:"left",top:"bottom",bottom:"top",middle:"middle"};F=["left","top","right","bottom"];J=function(M,T){var P,R,Q,U,N,O,S;if(T==="scrollParent"){T=M.scrollParent}else{if(T==="window"){T=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]}}if(T===document){T=T.documentElement}if(T.nodeType!=null){R=U=G(T);N=getComputedStyle(T);T=[R.left,R.top,U.width+R.left,U.height+R.top];for(P=O=0,S=F.length;O<S;P=++O){Q=F[P];Q=Q[0].toUpperCase()+Q.substr(1);if(Q==="Top"||Q==="Left"){T[P]+=parseFloat(N["border"+Q+"Width"])}else{T[P]-=parseFloat(N["border"+Q+"Width"])}}}return T};this.Tether.modules.push({position:function(t){var x,y,r,w,Z,X,R,AI,AH,P,U,AF,u,z,v,s,Q,l,n,q,N,T,O,m,AJ,V,M,AG,AE,AD,AC,o,d,b,a,Y,W,AB,AA,k,j,i,h,g,f,e,c,S=this;V=t.top,U=t.left,N=t.targetAttachment;if(!this.options.constraints){return true}l=function(AN){var AL,AM,AK,p;S.removeClass(AN);p=[];for(AM=0,AK=F.length;AM<AK;AM++){AL=F[AM];p.push(S.removeClass(""+AN+"-"+AL))}return p};k=this.cache("element-bounds",function(){return G(S.element)}),P=k.height,M=k.width;if(M===0&&P===0&&(this.lastSize!=null)){j=this.lastSize,M=j.width,P=j.height}O=this.cache("target-bounds",function(){return S.getTargetBounds()});T=O.height;m=O.width;q={};AH={};y=[this.getClass("pinned"),this.getClass("out-of-bounds")];i=this.options.constraints;for(AG=0,o=i.length;AG<o;AG++){AI=i[AG];if(AI.outOfBoundsClass){y.push(AI.outOfBoundsClass)}if(AI.pinnedClass){y.push(AI.pinnedClass)}}for(AE=0,d=y.length;AE<d;AE++){R=y[AE];h=["left","top","right","bottom"];for(AD=0,b=h.length;AD<b;AD++){n=h[AD];y.push(""+R+"-"+n)}}x=[];q=H({},N);AH=H({},this.attachment);g=this.options.constraints;for(AC=0,a=g.length;AC<a;AC++){AI=g[AC];AJ=AI.to,r=AI.attachment,v=AI.pin;if(r==null){r=""}if(K.call(r," ")>=0){f=r.split(" "),X=f[0],Z=f[1]}else{Z=X=r}w=J(this,AJ);if(X==="target"||X==="both"){if(V<w[1]&&q.top==="top"){V+=T;q.top="bottom"}if(V+P>w[3]&&q.top==="bottom"){V-=T;q.top="top"}}if(X==="together"){if(V<w[1]&&q.top==="top"){if(AH.top==="bottom"){V+=T;q.top="bottom";V+=P;AH.top="top"}else{if(AH.top==="top"){V+=T;q.top="bottom";V-=P;AH.top="bottom"}}}if(V+P>w[3]&&q.top==="bottom"){if(AH.top==="top"){V-=T;q.top="top";V-=P;AH.top="bottom"}else{if(AH.top==="bottom"){V-=T;q.top="top";V+=P;AH.top="top"}}}if(q.top==="middle"){if(V+P>w[3]&&AH.top==="top"){V-=P;AH.top="bottom"}else{if(V<w[1]&&AH.top==="bottom"){V+=P;AH.top="top"}}}}if(Z==="target"||Z==="both"){if(U<w[0]&&q.left==="left"){U+=m;q.left="right"}if(U+M>w[2]&&q.left==="right"){U-=m;q.left="left"}}if(Z==="together"){if(U<w[0]&&q.left==="left"){if(AH.left==="right"){U+=m;q.left="right";U+=M;AH.left="left"}else{if(AH.left==="left"){U+=m;q.left="right";U-=M;AH.left="right"}}}else{if(U+M>w[2]&&q.left==="right"){if(AH.left==="left"){U-=m;q.left="left";U-=M;AH.left="right"}else{if(AH.left==="right"){U-=m;q.left="left";U+=M;AH.left="left"}}}else{if(q.left==="center"){if(U+M>w[2]&&AH.left==="left"){U-=M;AH.left="right"}else{if(U<w[0]&&AH.left==="right"){U+=M;AH.left="left"}}}}}}if(X==="element"||X==="both"){if(V<w[1]&&AH.top==="bottom"){V+=P;AH.top="top"}if(V+P>w[3]&&AH.top==="top"){V-=P;AH.top="bottom"}}if(Z==="element"||Z==="both"){if(U<w[0]&&AH.left==="right"){U+=M;AH.left="left"}if(U+M>w[2]&&AH.left==="left"){U-=M;AH.left="right"}}if(typeof v==="string"){v=(function(){var AM,AK,AL,p;AL=v.split(",");p=[];for(AK=0,AM=AL.length;AK<AM;AK++){z=AL[AK];p.push(z.trim())}return p})()}else{if(v===true){v=["top","left","right","bottom"]}}v||(v=[]);s=[];AF=[];if(V<w[1]){if(K.call(v,"top")>=0){V=w[1];s.push("top")}else{AF.push("top")}}if(V+P>w[3]){if(K.call(v,"bottom")>=0){V=w[3]-P;s.push("bottom")}else{AF.push("bottom")}}if(U<w[0]){if(K.call(v,"left")>=0){U=w[0];s.push("left")}else{AF.push("left")}}if(U+M>w[2]){if(K.call(v,"right")>=0){U=w[2]-M;s.push("right")}else{AF.push("right")}}if(s.length){Q=(e=this.options.pinnedClass)!=null?e:this.getClass("pinned");x.push(Q);for(AB=0,Y=s.length;AB<Y;AB++){n=s[AB];x.push(""+Q+"-"+n)}}if(AF.length){u=(c=this.options.outOfBoundsClass)!=null?c:this.getClass("out-of-bounds");x.push(u);for(AA=0,W=AF.length;AA<W;AA++){n=AF[AA];x.push(""+u+"-"+n)}}if(K.call(s,"left")>=0||K.call(s,"right")>=0){AH.left=q.left=false}if(K.call(s,"top")>=0||K.call(s,"bottom")>=0){AH.top=q.top=false}if(q.top!==N.top||q.left!==N.left||AH.top!==this.attachment.top||AH.left!==this.attachment.left){this.updateAttachClasses(AH,q)}}B(function(){E(S.target,x,y);return E(S.element,x,y)});return{top:V,left:U}}})}).call(this);(function(){var E,C,B,D;D=this.Tether.Utils,C=D.getBounds,B=D.updateClasses,E=D.defer;this.Tether.modules.push({position:function(T){var V,P,f,S,W,R,a,L,Z,Q,U,X,M,J,H,F,c,e,d,b,O,N,K,I,G,Y=this;U=T.top,R=T.left;O=this.cache("element-bounds",function(){return C(Y.element)}),W=O.height,X=O.width;Q=this.getTargetBounds();S=U+W;a=R+X;V=[];if(U<=Q.bottom&&S>=Q.top){N=["left","right"];for(M=0,c=N.length;M<c;M++){L=N[M];if((K=Q[L])===R||K===a){V.push(L)}}}if(R<=Q.right&&a>=Q.left){I=["top","bottom"];for(J=0,e=I.length;J<e;J++){L=I[J];if((G=Q[L])===U||G===S){V.push(L)}}}f=[];P=[];Z=["left","top","right","bottom"];f.push(this.getClass("abutted"));for(H=0,d=Z.length;H<d;H++){L=Z[H];f.push(""+(this.getClass("abutted"))+"-"+L)}if(V.length){P.push(this.getClass("abutted"))}for(F=0,b=V.length;F<b;F++){L=V[F];P.push(""+(this.getClass("abutted"))+"-"+L)}E(function(){B(Y.target,P,f);return B(Y.element,P,f)});return true}})}).call(this);(function(){this.Tether.modules.push({position:function(D){var H,B,C,I,G,F,E;F=D.top,H=D.left;if(!this.options.shift){return }B=function(J){if(typeof J==="function"){return J.call(this,{top:F,left:H})}else{return J}};C=B(this.options.shift);if(typeof C==="string"){C=C.split(" ");C[1]||(C[1]=C[0]);G=C[0],I=C[1];G=parseFloat(G,10);I=parseFloat(I,10)}else{E=[C.top,C.left],G=E[0],I=E[1]}F+=G;H+=I;return{top:F,left:H}}})}).call(this);A.Tether=this.Tether;if(typeof define==="function"){define("aui/internal/tether",[],function(){return A.Tether})}else{if(typeof exports==="object"){module.exports=A.Tether}}}(this));;
;
/* module-key = 'com.atlassian.auiplugin:aui-core', location = 'js/aui.js' */
/* Atlassian UI and the Atlassian Design Guidelines are created by Atlassian. See https://developer.atlassian.com/display/AUI/ for API documentation and https://developer.atlassian.com/design/ for license details. */
(function(){if(!window.jQuery&&!window.Zepto){throw new Error("either jQuery or Zepto is required for AJS to function.")}window.AJS=(function(){var F=[];var A;var E;var H=0;function D(L){var K={"<":"&lt;",">":"&gt;","&":"&amp;","'":"&#39;","`":"&#96;"};if(typeof K[L]==="string"){return K[L]}return"&quot;"}var I=/[&"'<>`]/g;var G={version:"5.7.46",params:{},$:window.jQuery||window.Zepto,preventDefault:function(K){K.preventDefault()},stopEvent:function(K){K.stopPropagation();return false},include:function(K){if(!this.contains(F,K)){F.push(K);var L=document.createElement("script");L.src=K;this.$("body").append(L)}},toggleClassName:function(K,L){if(!(K=this.$(K))){return }K.toggleClass(L)},setVisible:function(L,K){if(!(L=this.$(L))){return }var M=this.$;M(L).each(function(){var N=M(this).hasClass("hidden");if(N&&K){M(this).removeClass("hidden")}else{if(!N&&!K){M(this).addClass("hidden")}}})},setCurrent:function(K,L){if(!(K=this.$(K))){return }if(L){K.addClass("current")}else{K.removeClass("current")}},isVisible:function(K){return !this.$(K).hasClass("hidden")},isClipped:function(K){K=AJS.$(K);return(K.prop("scrollWidth")>K.prop("clientWidth"))},populateParameters:function(L){if(!L){L=this.params}var K=this;this.$(".parameters input").each(function(){var M=this.value,N=this.title||this.id;if(K.$(this).hasClass("list")){if(L[N]){L[N].push(M)}else{L[N]=[M]}}else{L[N]=(M.match(/^(tru|fals)e$/i)?M.toLowerCase()==="true":M)}})},toInit:function(L){var K=this;this.$(function(){try{L.apply(this,arguments)}catch(M){K.log("Failed to run init function: "+M+"\n"+L.toString())}});return this},indexOf:function(O,N,L){var M=O.length;if(!L){L=0}else{if(L<0){L=Math.max(0,M+L)}}for(var K=L;K<M;K++){if(O[K]===N){return K}}return -1},contains:function(L,K){return this.indexOf(L,K)>-1},firebug:function(){var K=this.$(document.createElement("script"));K.attr("src","https://getfirebug.com/releases/lite/1.2/firebug-lite-compressed.js");this.$("head").append(K);(function(){if(window.firebug){firebug.init()}else{setTimeout(AJS.firebug,0)}})()},clone:function(K){return AJS.$(K).clone().removeAttr("id")},alphanum:function(R,Q){R=(R+"").toLowerCase();Q=(Q+"").toLowerCase();var M=/(\d+|\D+)/g;var N=R.match(M);var K=Q.match(M);var P=Math.max(N.length,K.length);for(var L=0;L<P;L++){if(L===N.length){return -1}if(L===K.length){return 1}var S=parseInt(N[L],10)+"";var O=parseInt(K[L],10)+"";if(S===N[L]&&O===K[L]&&S!==O){return(S-O)/Math.abs(S-O)}if((S!==N[L]||O!==K[L])&&N[L]!==K[L]){return N[L]<K[L]?-1:1}}return 0},onTextResize:function(L){if(typeof L==="function"){if(AJS.onTextResize["on-text-resize"]){AJS.onTextResize["on-text-resize"].push(function(M){L(M)})}else{var K=AJS("div");K.css({width:"1em",height:"1em",position:"absolute",top:"-9999em",left:"-9999em"});this.$("body").append(K);K.size=K.width();setInterval(function(){if(K.size!==K.width()){K.size=K.width();for(var M=0,N=AJS.onTextResize["on-text-resize"].length;M<N;M++){AJS.onTextResize["on-text-resize"][M](K.size)}}},0);AJS.onTextResize.em=K;AJS.onTextResize["on-text-resize"]=[function(M){L(M)}]}}},unbindTextResize:function(M){for(var K=0,L=AJS.onTextResize["on-text-resize"].length;K<L;K++){if(AJS.onTextResize["on-text-resize"][K]===M){return AJS.onTextResize["on-text-resize"].splice(K,1)}}},escape:function(K){return escape(K).replace(/%u\w{4}/gi,function(L){return unescape(L)})},escapeHtml:function(K){return K.replace(I,D)},filterBySearch:function(O,T,U){if(!T){return[]}var M=this.$;var R=(U&&U.keywordsField)||"keywords";var Q=(U&&U.ignoreForCamelCase)?"i":"";var N=(U&&U.matchBoundary)?"\\b":"";var L=(U&&U.splitRegex)||(/\s+/);var P=T.split(L);var K=[];P.forEach(function(X){var W=[new RegExp(N+X,"i")];if(/^([A-Z][a-z]*) {2,}$/.test(this)){var V=this.replace(/([A-Z][a-z]*)/g,"\\b$1[^,]*");W.push(new RegExp(V,Q))}K.push(W)});var S=[];O.forEach(function(Y){for(var X=0;X<K.length;X++){var V=false;for(var W=0;W<K[X].length;W++){if(K[X][W].test(Y[R])){V=true;break}}if(!V){return }}S.push(Y)});return S},drawLogo:function(T){var M=T.scaleFactor||1;var R=T.fill||"#fff";var S=T.stroke||"#000";var K=400*M;var P=40*M;var O=T.strokeWidth||1;var Q=T.containerID||".aui-logo";if(!AJS.$(".aui-logo").length){AJS.$("body").append('<div id="aui-logo" class="aui-logo"><div>')}var N=Raphael(Q,K+50*M,P+100*M);var L=N.path("M 0,0 c 3.5433333,-4.7243333 7.0866667,-9.4486667 10.63,-14.173 -14.173,0 -28.346,0 -42.519,0 C -35.432667,-9.4486667 -38.976333,-4.7243333 -42.52,0 -28.346667,0 -14.173333,0 0,0 z m 277.031,28.346 c -14.17367,0 -28.34733,0 -42.521,0 C 245.14,14.173 255.77,0 266.4,-14.173 c -14.17267,0 -28.34533,0 -42.518,0 C 213.25167,0 202.62133,14.173 191.991,28.346 c -14.17333,0 -28.34667,0 -42.52,0 14.17333,-18.8976667 28.34667,-37.7953333 42.52,-56.693 -7.08667,-9.448667 -14.17333,-18.897333 -21.26,-28.346 -14.173,0 -28.346,0 -42.519,0 7.08667,9.448667 14.17333,18.897333 21.26,28.346 -14.17333,18.8976667 -28.34667,37.7953333 -42.52,56.693 -14.173333,0 -28.346667,0 -42.52,0 10.63,-14.173 21.26,-28.346 31.89,-42.519 -14.390333,0 -28.780667,0 -43.171,0 C 42.520733,1.330715e-4 31.889933,14.174867 21.26,28.347 c -42.520624,6.24e-4 -85.039187,-8.13e-4 -127.559,-0.001 11.220667,-14.961 22.441333,-29.922 33.662,-44.883 -6.496,-8.661 -12.992,-17.322 -19.488,-25.983 5.905333,0 11.810667,0 17.716,0 -10.63,-14.173333 -21.26,-28.346667 -31.89,-42.52 14.173333,0 28.346667,0 42.52,0 10.63,14.173333 21.26,28.346667 31.89,42.52 14.173333,0 28.3466667,0 42.52,0 -10.63,-14.173333 -21.26,-28.346667 -31.89,-42.52 14.1733333,0 28.3466667,0 42.52,0 10.63,14.173333 21.26,28.346667 31.89,42.52 14.390333,0 28.780667,0 43.171,0 -10.63,-14.173333 -21.26,-28.346667 -31.89,-42.52 42.51967,0 85.03933,0 127.559,0 10.63033,14.173333 21.26067,28.346667 31.891,42.52 14.17267,0 28.34533,0 42.518,0 -10.63,-14.173333 -21.26,-28.346667 -31.89,-42.52 14.17367,0 28.34733,0 42.521,0 14.17333,18.897667 28.34667,37.795333 42.52,56.693 -14.17333,18.8976667 -28.34667,37.7953333 -42.52,56.693 z");L.scale(M,-M,0,0);L.translate(120*M,P);L.attr("fill",R);L.attr("stroke",S);L.attr("stroke-width",O)},debounce:function(L,N){var M;var K;return function(){var P=arguments;var Q=this;var O=function(){K=L.apply(Q,P);Q=P=null};clearTimeout(M);M=setTimeout(O,N);return K}},debounceImmediate:function(L,N){var M=null;var K;return function(){var Q=this;var P=arguments;var O=function(){M=Q=P=null};if(M===null){K=L.apply(Q,P)}clearTimeout(M);M=setTimeout(O,N);return K}},id:function(K){A=H+++"";E=K?K+A:"aui-uid-"+A;if(!document.getElementById(E)){return E}else{E=E+"-"+new Date().getTime();if(!document.getElementById(E)){return E}else{throw new Error("ERROR: timestamped fallback ID "+E+" exists. AJS.id stopped.")}}},_addID:function(L,M){var K=AJS.$(L);var N=M||false;K.each(function(){var O=AJS.$(this);if(!O.attr("id")){O.attr("id",AJS.id(N))}})},enable:function(M,K){var L=AJS.$(M);if(typeof K==="undefined"){K=true}return L.each(function(){this.disabled=!K})}};if(typeof AJS!=="undefined"){for(var C in AJS){G[C]=AJS[C]}}var J=function(){var K=null;if(arguments.length&&typeof arguments[0]==="string"){K=AJS.$(document.createElement(arguments[0]));if(arguments.length===2){K.html(arguments[1])}}return K};for(var B in G){J[B]=G[B]}return J})();AJS.$(function(){var A=AJS.$("body");if(!A.data("auiVersion")){A.attr("data-aui-version",AJS.version)}AJS.populateParameters()});AJS.$.ajaxSettings.traditional=true;AJS.deprecate.prop(AJS,"firebug");AJS.deprecate.prop(AJS,"stopEvent",{alternativeName:"AJS.preventDefault()"});AJS.deprecate.prop(AJS,"drawLogo");AJS.deprecate.prop(AJS,"toggleClassName")})();;
;
/* module-key = 'com.atlassian.auiplugin:aui-core', location = 'js/format.js' */
AJS.format=function(I){var B=/'(?!')/g,H=/^\d+$/,E=/^(\d+),number$/,C=/^(\d+)\,choice\,(.+)/,G=/^(\d+)([#<])(.+)/;var F=function(R,P){var O="",M;if(M=R.match(H)){O=P.length>++R?P[R]:""}else{if(M=R.match(E)){O=P.length>++M[1]?P[M[1]]:""}else{if(M=R.match(C)){var S=(P.length>++M[1]?P[M[1]]:null);if(S!==null){var T=M[2].split("|");var N=null;for(var L=0;L<T.length;L++){var K=T[L].match(G);var Q=parseInt(K[1],10);if(S<Q){if(N){O=N;break}else{O=K[3];break}}if(S==Q&&K[2]=="#"){O=K[3];break}else{}if(L==T.length-1){O=K[3]}N=K[3]}var J=[O].concat(Array.prototype.slice.call(P,1));O=AJS.format.apply(AJS,J)}}}}return O};var D=function(O){var M=false,J=-1,N=0;for(var L=0;L<O.length;L++){var P=O.charAt(L);if(P=="'"){M=!M}if(M){continue}if(P==="{"){if(N===0){J=L}N++}else{if(P==="}"){if(N>0){N--;if(N===0){var K=[];K.push(O.substring(0,L+1));K.push(O.substring(0,J));K.push(O.substring(J+1,L));return K}}}}}return null};var A=function(M){var K=arguments,L="",J=D(M);while(J){M=M.substring(J[0].length);L+=J[1].replace(B,"");L+=F(J[2],K);J=D(M)}L+=M.replace(B,"");return L};return A.apply(AJS,arguments)};AJS.I18n={getText:function(A){var B=Array.prototype.slice.call(arguments,1);if(AJS.I18n.keys&&Object.prototype.hasOwnProperty.call(AJS.I18n.keys,A)){return AJS.format.apply(null,[AJS.I18n.keys[A]].concat(B))}return A}};;
;
/* module-key = 'com.atlassian.auiplugin:aui-core', location = 'js/blanket.js' */
(function(D){var B;var A=[];AJS.dim=function(H,I){function F(J){return J.getAttribute("aria-hidden")?true:false}function E(J){return J.className.match(/\baui-layer\b/)?true:false}A=[];Array.prototype.forEach.call(document.body.children,function(J){if(!F(J)&&!E(J)){J.setAttribute("aria-hidden","true");A.push(J)}});if(!B){B=D(document.body)}if(H===true){C()}var G=(!!AJS.dim.$dim)&&AJS.dim.$dim.attr("aria-hidden")==="false";if(!!AJS.dim.$dim){AJS.dim.$dim.remove();AJS.dim.$dim=null}AJS.dim.$dim=AJS("div").addClass("aui-blanket");AJS.dim.$dim.attr("tabindex","0");AJS.dim.$dim.appendTo(document.body);if(!G){AJS._internal.animation.recomputeStyle(AJS.dim.$dim);AJS.dim.cachedOverflow=B.css("overflow");B.css("overflow","hidden")}AJS.dim.$dim.attr("aria-hidden","false");if(I){AJS.dim.$dim.css({zIndex:I})}return AJS.dim.$dim};AJS.undim=function(){A.forEach(function(E){E.removeAttribute("aria-hidden")});if(AJS.dim.$dim){AJS.dim.$dim.attr("aria-hidden","true");B&&B.css("overflow",AJS.dim.cachedOverflow)}};var C=AJS.deprecate.getMessageLogger("useShim",{extraInfo:"useShim has no alternative as it is now calculated by dim()."})}(AJS.$));;
;
/* module-key = 'com.atlassian.auiplugin:ajs-gadgets-base', location = 'js-vendor/jquery/plugins/jquery.aop.js' */
(function(){var _after=1;var _afterThrow=2;var _afterFinally=3;var _before=4;var _around=5;var _intro=6;var _regexEnabled=true;var _arguments="arguments";var _undef="undefined";var getType=(function(){var toString=Object.prototype.toString,toStrings={},nodeTypes={1:"element",3:"textnode",9:"document",11:"fragment"},types="Arguments Array Boolean Date Document Element Error Fragment Function NodeList Null Number Object RegExp String TextNode Undefined Window".split(" ");for(var i=types.length;i--;){var type=types[i],constructor=window[type];if(constructor){try{toStrings[toString.call(new constructor)]=type.toLowerCase()}catch(e){}}}return function(item){return item==null&&(item===undefined?_undef:"null")||item.nodeType&&nodeTypes[item.nodeType]||typeof item.length=="number"&&(item.callee&&_arguments||item.alert&&"window"||item.item&&"nodelist")||toStrings[toString.call(item)]}})();var isFunc=function(obj){return getType(obj)=="function"};var weaveOne=function(source,method,advice){var old=source[method];if(advice.type!=_intro&&!isFunc(old)){var oldObject=old;old=function(){var code=arguments.length>0?_arguments+"[0]":"";for(var i=1;i<arguments.length;i++){code+=","+_arguments+"["+i+"]"}return eval("oldObject("+code+");")}}var aspect;if(advice.type==_after||advice.type==_afterThrow||advice.type==_afterFinally){aspect=function(){var returnValue,exceptionThrown=null;try{returnValue=old.apply(this,arguments)}catch(e){exceptionThrown=e}if(advice.type==_after){if(exceptionThrown==null){returnValue=advice.value.apply(this,[returnValue,method])}else{throw exceptionThrown}}else{if(advice.type==_afterThrow&&exceptionThrown!=null){returnValue=advice.value.apply(this,[exceptionThrown,method])}else{if(advice.type==_afterFinally){returnValue=advice.value.apply(this,[returnValue,exceptionThrown,method])}}}return returnValue}}else{if(advice.type==_before){aspect=function(){advice.value.apply(this,[arguments,method]);return old.apply(this,arguments)}}else{if(advice.type==_intro){aspect=function(){return advice.value.apply(this,arguments)}}else{if(advice.type==_around){aspect=function(){var invocation={object:this,args:Array.prototype.slice.call(arguments)};return advice.value.apply(invocation.object,[{arguments:invocation.args,method:method,proceed:function(){return old.apply(invocation.object,invocation.args)}}])}}}}}aspect.unweave=function(){source[method]=old;pointcut=source=aspect=old=null};source[method]=aspect;return aspect};var search=function(source,pointcut,advice){var methods=[];for(var method in source){var item=null;try{item=source[method]}catch(e){}if(item!=null&&method.match(pointcut.method)&&isFunc(item)){methods[methods.length]={source:source,method:method,advice:advice}}}return methods};var weave=function(pointcut,advice){var source=typeof (pointcut.target.prototype)!=_undef?pointcut.target.prototype:pointcut.target;var advices=[];if(advice.type!=_intro&&typeof (source[pointcut.method])==_undef){var methods=search(pointcut.target,pointcut,advice);if(methods.length==0){methods=search(source,pointcut,advice)}for(var i in methods){advices[advices.length]=weaveOne(methods[i].source,methods[i].method,methods[i].advice)}}else{advices[0]=weaveOne(source,pointcut.method,advice)}return _regexEnabled?advices:advices[0]};jQuery.aop={after:function(pointcut,advice){return weave(pointcut,{type:_after,value:advice})},afterThrow:function(pointcut,advice){return weave(pointcut,{type:_afterThrow,value:advice})},afterFinally:function(pointcut,advice){return weave(pointcut,{type:_afterFinally,value:advice})},before:function(pointcut,advice){return weave(pointcut,{type:_before,value:advice})},around:function(pointcut,advice){return weave(pointcut,{type:_around,value:advice})},introduction:function(pointcut,advice){return weave(pointcut,{type:_intro,value:advice})},setup:function(settings){_regexEnabled=settings.regexMatch}}})();;
;
/* module-key = 'com.atlassian.auiplugin:ajs-gadgets-base', location = 'js/dropdown.js' */
AJS.dropDown=function(L,E){var U=null,I=[],Q=false,H=AJS.$(document),C={item:"li:has(a)",activeClass:"active",alignment:"right",displayHandler:function(W){return W.name},escapeHandler:function(){this.hide("escape");return false},hideHandler:function(){},moveHandler:function(X,W){},useDisabled:false};AJS.$.extend(C,E);C.alignment={left:"left",right:"right"}[C.alignment.toLowerCase()]||"left";if(L&&L.jquery){U=L}else{if(typeof L=="string"){U=AJS.$(L)}else{if(L&&L.constructor==Array){U=AJS("div").addClass("aui-dropdown").toggleClass("hidden",!!C.isHiddenByDefault);for(var P=0,K=L.length;P<K;P++){var J=AJS("ol");for(var O=0,S=L[P].length;O<S;O++){var M=AJS("li");var G=L[P][O];if(G.href){M.append(AJS("a").html("<span>"+C.displayHandler(G)+"</span>").attr({href:G.href}).addClass(G.className));AJS.$.data(AJS.$("a > span",M)[0],"properties",G)}else{M.html(G.html).addClass(G.className)}if(G.icon){M.prepend(AJS("img").attr("src",G.icon))}if(G.insideSpanIcon){M.children("a").prepend(AJS("span").attr("class","icon"))}AJS.$.data(M[0],"properties",G);J.append(M)}if(P==K-1){J.addClass("last")}U.append(J)}AJS.$("body").append(U)}else{throw new Error("AJS.dropDown function was called with illegal parameter. Should be AJS.$ object, AJS.$ selector or array.")}}}var F=function(){N(+1)};var T=function(){N(-1)};var N=function(Z){var Y=!Q,W=AJS.dropDown.current.$[0],X=AJS.dropDown.current.links,a=W.focused;Q=true;if(X.length===0){return }W.focused=(typeof a==="number")?a:-1;if(!AJS.dropDown.current){AJS.log("move - not current, aborting");return true}W.focused+=Z;if(W.focused<0){W.focused=X.length-1}else{if(W.focused>=X.length){W.focused=0}}C.moveHandler(AJS.$(X[W.focused]),Z<0?"up":"down");if(Y&&X.length){AJS.$(X[W.focused]).addClass(C.activeClass);Q=false}else{if(!X.length){Q=false}}};var V=function(Y){if(!AJS.dropDown.current){return true}var Z=Y.which,W=AJS.dropDown.current.$[0],X=AJS.dropDown.current.links;AJS.dropDown.current.cleanActive();switch(Z){case 40:F();break;case 38:T();break;case 27:return C.escapeHandler.call(AJS.dropDown.current,Y);case 13:if(W.focused>=0){if(!C.selectionHandler){if(AJS.$(X[W.focused]).attr("nodeName")!="a"){return AJS.$("a",X[W.focused]).trigger("focus")}else{return AJS.$(X[W.focused]).trigger("focus")}}else{return C.selectionHandler.call(AJS.dropDown.current,Y,AJS.$(X[W.focused]))}}return true;default:if(X.length){AJS.$(X[W.focused]).addClass(C.activeClass)}return true}Y.stopPropagation();Y.preventDefault();return false};var A=function(W){if(!((W&&W.which&&(W.which==3))||(W&&W.button&&(W.button==2))||false)){if(AJS.dropDown.current){AJS.dropDown.current.hide("click")}}};var D=function(W){return function(){if(!AJS.dropDown.current){return }AJS.dropDown.current.cleanFocus();this.originalClass=this.className;AJS.$(this).addClass(C.activeClass);AJS.dropDown.current.$[0].focused=W}};var R=function(W){if(W.button||W.metaKey||W.ctrlKey||W.shiftKey){return true}if(AJS.dropDown.current&&C.selectionHandler){C.selectionHandler.call(AJS.dropDown.current,W,AJS.$(this))}};var B=function(X){var W=false;if(X.data("events")){AJS.$.each(X.data("events"),function(Y,Z){AJS.$.each(Z,function(b,a){if(R===a){W=true;return false}})})}return W};U.each(function(){var W=this,Y=AJS.$(this),Z={};var X={reset:function(){Z=AJS.$.extend(Z,{$:Y,links:AJS.$(C.item||"li:has(a)",W),cleanActive:function(){if(W.focused+1&&Z.links.length){AJS.$(Z.links[W.focused]).removeClass(C.activeClass)}},cleanFocus:function(){Z.cleanActive();W.focused=-1},moveDown:F,moveUp:T,moveFocus:V,getFocusIndex:function(){return(typeof W.focused=="number")?W.focused:-1}});Z.links.each(function(b){var c=AJS.$(this);if(!B(c)){c.hover(D(b),Z.cleanFocus);c.click(R)}})},appear:function(b){if(b){Y.removeClass("hidden");Y.addClass("aui-dropdown-"+C.alignment)}else{Y.addClass("hidden")}},fade:function(b){if(b){Y.fadeIn("fast")}else{Y.fadeOut("fast")}},scroll:function(b){if(b){Y.slideDown("fast")}else{Y.slideUp("fast")}}};Z.reset=X.reset;Z.reset();Z.addControlProcess=function(c,b){AJS.$.aop.around({target:this,method:c},b)};Z.addCallback=function(c,b){return AJS.$.aop.after({target:this,method:c},b)};Z.show=function(b){if(C.useDisabled&&this.$.closest(".aui-dd-parent").hasClass("disabled")){return }this.alignment=C.alignment;A();AJS.dropDown.current=this;this.method=b||this.method||"appear";this.timer=setTimeout(function(){H.click(A)},0);H.keydown(V);if(C.firstSelected&&this.links[0]){D(0).call(this.links[0])}AJS.$(W.offsetParent).css({zIndex:2000});X[this.method](true);AJS.$(document).trigger("showLayer",["dropdown",AJS.dropDown.current])};Z.hide=function(b){this.method=this.method||"appear";AJS.$(Y.get(0).offsetParent).css({zIndex:""});this.cleanFocus();X[this.method](false);H.unbind("click",A).unbind("keydown",V);AJS.$(document).trigger("hideLayer",["dropdown",AJS.dropDown.current]);AJS.dropDown.current=null;return b};Z.addCallback("reset",function(){if(C.firstSelected&&this.links[0]){D(0).call(this.links[0])}});if(!AJS.dropDown.iframes){AJS.dropDown.iframes=[]}AJS.dropDown.createShims=function a(){AJS.$("iframe").each(function(b){var c=this;if(!c.shim){c.shim=AJS.$("<div />").addClass("shim hidden").appendTo("body");AJS.dropDown.iframes.push(c)}});return a}();Z.addCallback("show",function(){AJS.$(AJS.dropDown.iframes).each(function(){var b=AJS.$(this);if(b.is(":visible")){var c=b.offset();c.height=b.height();c.width=b.width();this.shim.css({left:c.left+"px",top:c.top+"px",height:c.height+"px",width:c.width+"px"}).removeClass("hidden")}})});Z.addCallback("hide",function(){AJS.$(AJS.dropDown.iframes).each(function(){this.shim.addClass("hidden")});C.hideHandler()});I.push(Z)});return I};AJS.dropDown.getAdditionalPropertyValue=function(D,A){var C=D[0];if(!C||(typeof C.tagName!="string")||C.tagName.toLowerCase()!="li"){AJS.log("AJS.dropDown.getAdditionalPropertyValue : item passed in should be an LI element wrapped by jQuery")}var B=AJS.$.data(C,"properties");return B?B[A]:null};AJS.dropDown.removeAllAdditionalProperties=function(A){};AJS.dropDown.Standard=function(H){var C=[],G,B={selector:".aui-dd-parent",dropDown:".aui-dropdown",trigger:".aui-dd-trigger"};AJS.$.extend(B,H);var F=function(I,L,K,J){AJS.$.extend(J,{trigger:I});L.addClass("dd-allocated");K.addClass("hidden");if(B.isHiddenByDefault==false){J.show()}J.addCallback("show",function(){L.addClass("active")});J.addCallback("hide",function(){L.removeClass("active")})};var A=function(K,I,L,J){if(J!=AJS.dropDown.current){L.css({top:I.outerHeight()});J.show();K.stopImmediatePropagation()}K.preventDefault()};if(B.useLiveEvents){var D=[];var E=[];AJS.$(B.trigger).live("click",function(L){var I=AJS.$(this);var N,M,J;var K;if((K=AJS.$.inArray(this,D))>=0){var O=E[K];N=O.parent;M=O.dropdown;J=O.ddcontrol}else{N=I.closest(B.selector);M=N.find(B.dropDown);if(M.length===0){return }J=AJS.dropDown(M,B)[0];if(!J){return }D.push(this);O={parent:N,dropdown:M,ddcontrol:J};F(I,N,M,J);E.push(O)}A(L,I,M,J)})}else{if(this instanceof AJS.$){G=this}else{G=AJS.$(B.selector)}G=G.not(".dd-allocated").filter(":has("+B.dropDown+")").filter(":has("+B.trigger+")");G.each(function(){var L=AJS.$(this),K=AJS.$(B.dropDown,this),I=AJS.$(B.trigger,this),J=AJS.dropDown(K,B)[0];AJS.$.extend(J,{trigger:I});F(I,L,K,J);I.click(function(M){A(M,I,K,J)});C.push(J)})}return C};AJS.dropDown.Ajax=function(C){var B,A={cache:true};AJS.$.extend(A,C||{});B=AJS.dropDown.Standard.call(this,A);AJS.$(B).each(function(){var D=this;AJS.$.extend(D,{getAjaxOptions:function(E){var F=function(G){if(A.formatResults){G=A.formatResults(G)}if(A.cache){D.cache.set(D.getAjaxOptions(),G)}D.refreshSuccess(G)};if(A.ajaxOptions){if(AJS.$.isFunction(A.ajaxOptions)){return AJS.$.extend(A.ajaxOptions.call(D),{success:F})}else{return AJS.$.extend(A.ajaxOptions,{success:F})}}return AJS.$.extend(E,{success:F})},refreshSuccess:function(E){this.$.html(E)},cache:function(){var E={};return{get:function(F){var G=F.data||"";return E[(F.url+G).replace(/[\?\&]/gi,"")]},set:function(F,G){var H=F.data||"";E[(F.url+H).replace(/[\?\&]/gi,"")]=G},reset:function(){E={}}}}(),show:function(E){return function(F){if(A.cache&&!!D.cache.get(D.getAjaxOptions())){D.refreshSuccess(D.cache.get(D.getAjaxOptions()));E.call(D)}else{AJS.$(AJS.$.ajax(D.getAjaxOptions())).throbber({target:D.$,end:function(){D.reset()}});E.call(D);if(D.iframeShim){D.iframeShim.hide()}}}}(D.show),resetCache:function(){D.cache.reset()}});D.addCallback("refreshSuccess",function(){D.reset()})});return B};AJS.$.fn.dropDown=function(B,A){B=(B||"Standard").replace(/^([a-z])/,function(C){return C.toUpperCase()});return AJS.dropDown[B].call(this,A)};AJS.$.fn.dropDown=AJS.deprecate.construct(AJS.$.fn.dropDown,"Dropdown constructor",{alternativeName:"Dropdown2"});;
;
/* module-key = 'com.atlassian.soy.soy-template-plugin:soy-deps', location = 'js/soyutils.js' */
/*!
 * Copyright 2008 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var goog=goog||{};goog.global=this;COMPILED=true;goog.global.CLOSURE_UNCOMPILED_DEFINES;goog.global.CLOSURE_DEFINES;goog.isDef=function(a){return a!==void 0};goog.exportPath_=function(c,a,f){var d=c.split(".");var e=f||goog.global;if(!(d[0] in e)&&e.execScript){e.execScript("var "+d[0])}for(var b;d.length&&(b=d.shift());){if(!d.length&&goog.isDef(a)){e[b]=a}else{if(e[b]){e=e[b]}else{e=e[b]={}}}}};goog.define=function(b,a){var c=a;if(!COMPILED){if(goog.global.CLOSURE_UNCOMPILED_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,b)){c=goog.global.CLOSURE_UNCOMPILED_DEFINES[b]}else{if(goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,b)){c=goog.global.CLOSURE_DEFINES[b]}}}goog.exportPath_(b,c)};goog.DEBUG=true;goog.define("goog.LOCALE","en");goog.define("goog.TRUSTED_SITE",true);goog.define("goog.STRICT_MODE_COMPATIBLE",false);goog.define("goog.DISALLOW_TEST_ONLY_CODE",COMPILED&&!goog.DEBUG);goog.provide=function(a){if(!COMPILED){if(goog.isProvided_(a)){throw Error('Namespace "'+a+'" already declared.')}}goog.constructNamespace_(a)};goog.constructNamespace_=function(a,c){if(!COMPILED){delete goog.implicitNamespaces_[a];var b=a;while((b=b.substring(0,b.lastIndexOf(".")))){if(goog.getObjectByName(b)){break}goog.implicitNamespaces_[b]=true}}goog.exportPath_(a,c)};goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/;goog.module=function(a){if(!goog.isString(a)||!a||a.search(goog.VALID_MODULE_RE_)==-1){throw Error("Invalid module identifier")}if(!goog.isInModuleLoader_()){throw Error("Module "+a+" has been loaded incorrectly.")}if(goog.moduleLoaderState_.moduleName){throw Error("goog.module may only be called once per module.")}goog.moduleLoaderState_.moduleName=a;if(!COMPILED){if(goog.isProvided_(a)){throw Error('Namespace "'+a+'" already declared.')}delete goog.implicitNamespaces_[a]}};goog.module.get=function(a){return goog.module.getInternal_(a)};goog.module.getInternal_=function(a){if(!COMPILED){if(goog.isProvided_(a)){return a in goog.loadedModules_?goog.loadedModules_[a]:goog.getObjectByName(a)}else{return null}}};goog.moduleLoaderState_=null;goog.isInModuleLoader_=function(){return goog.moduleLoaderState_!=null};goog.module.declareTestMethods=function(){if(!goog.isInModuleLoader_()){throw new Error("goog.module.declareTestMethods must be called from within a goog.module")}goog.moduleLoaderState_.declareTestMethods=true};goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_()){throw new Error("goog.module.declareLegacyNamespace must be called from within a goog.module")}if(!COMPILED&&!goog.moduleLoaderState_.moduleName){throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.")}goog.moduleLoaderState_.declareLegacyNamespace=true};goog.setTestOnly=function(a){if(goog.DISALLOW_TEST_ONLY_CODE){a=a||"";throw Error("Importing test-only code into non-debug environment"+(a?": "+a:"."))}};goog.forwardDeclare=function(a){};if(!COMPILED){goog.isProvided_=function(a){return(a in goog.loadedModules_)||(!goog.implicitNamespaces_[a]&&goog.isDefAndNotNull(goog.getObjectByName(a)))};goog.implicitNamespaces_={"goog.module":true}}goog.getObjectByName=function(b,c){var d=b.split(".");var e=c||goog.global;for(var a;a=d.shift();){if(goog.isDefAndNotNull(e[a])){e=e[a]}else{return null}}return e};goog.globalize=function(d,b){var c=b||goog.global;for(var a in d){c[a]=d[a]}};goog.addDependency=function(f,e,l,d){if(goog.DEPENDENCIES_ENABLED){var g,a;var k=f.replace(/\\/g,"/");var h=goog.dependencies_;for(var c=0;g=e[c];c++){h.nameToPath[g]=k;h.pathIsModule[k]=!!d}for(var b=0;a=l[b];b++){if(!(k in h.requires)){h.requires[k]={}}h.requires[k][a]=true}}};goog.define("goog.ENABLE_DEBUG_LOADER",true);goog.logToConsole_=function(a){if(goog.global.console){goog.global.console.error(a)}};goog.require=function(b){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.IS_OLD_IE_){goog.maybeProcessDeferredDep_(b)}if(goog.isProvided_(b)){if(goog.isInModuleLoader_()){return goog.module.getInternal_(b)}else{return null}}if(goog.ENABLE_DEBUG_LOADER){var c=goog.getPathFromDeps_(b);if(c){goog.included_[c]=true;goog.writeScripts_();return null}}var a="goog.require could not find: "+b;goog.logToConsole_(a);throw Error(a)}};goog.basePath="";goog.global.CLOSURE_BASE_PATH;goog.global.CLOSURE_NO_DEPS;goog.global.CLOSURE_IMPORT_SCRIPT;goog.nullFunction=function(){};goog.identityFunction=function(b,a){return b};goog.abstractMethod=function(){throw Error("unimplemented abstract method")};goog.addSingletonGetter=function(a){a.getInstance=function(){if(a.instance_){return a.instance_}if(goog.DEBUG){goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=a}return a.instance_=new a}};goog.instantiatedSingletons_=[];goog.define("goog.LOAD_MODULE_USING_EVAL",true);goog.define("goog.SEAL_MODULE_EXPORTS",goog.DEBUG);goog.loadedModules_={};goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER;if(goog.DEPENDENCIES_ENABLED){goog.included_={};goog.dependencies_={pathIsModule:{},nameToPath:{},requires:{},visited:{},written:{},deferred:{}};goog.inHtmlDocument_=function(){var a=goog.global.document;return typeof a!="undefined"&&"write" in a};goog.findBasePath_=function(){if(goog.global.CLOSURE_BASE_PATH){goog.basePath=goog.global.CLOSURE_BASE_PATH;return}else{if(!goog.inHtmlDocument_()){return}}var f=goog.global.document;var a=f.getElementsByTagName("script");for(var d=a.length-1;d>=0;--d){var c=(a[d]);var g=c.src;var e=g.lastIndexOf("?");var b=e==-1?g.length:e;if(g.substr(b-7,7)=="base.js"){goog.basePath=g.substr(0,b-7);return}}};goog.importScript_=function(c,a){var b=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;if(b(c,a)){goog.dependencies_.written[c]=true}};goog.IS_OLD_IE_=goog.global.document&&goog.global.document.all&&!goog.global.atob;goog.importModule_=function(b){var a='goog.retrieveAndExecModule_("'+b+'");';if(goog.importScript_("",a)){goog.dependencies_.written[b]=true}};goog.queuedModules_=[];goog.wrapModule_=function(b,a){if(!goog.LOAD_MODULE_USING_EVAL||!goog.isDef(goog.global.JSON)){return'goog.loadModule(function(exports) {"use strict";'+a+"\n;return exports});\n//# sourceURL="+b+"\n"}else{return"goog.loadModule("+goog.global.JSON.stringify(a+"\n//# sourceURL="+b+"\n")+");"}};goog.loadQueuedModules_=function(){var c=goog.queuedModules_.length;if(c>0){var a=goog.queuedModules_;goog.queuedModules_=[];for(var b=0;b<c;b++){var d=a[b];goog.maybeProcessDeferredPath_(d)}}};goog.maybeProcessDeferredDep_=function(a){if(goog.isDeferredModule_(a)&&goog.allDepsAreAvailable_(a)){var b=goog.getPathFromDeps_(a);goog.maybeProcessDeferredPath_(goog.basePath+b)}};goog.isDeferredModule_=function(a){var c=goog.getPathFromDeps_(a);if(c&&goog.dependencies_.pathIsModule[c]){var b=goog.basePath+c;return(b) in goog.dependencies_.deferred}return false};goog.allDepsAreAvailable_=function(a){var b=goog.getPathFromDeps_(a);if(b&&(b in goog.dependencies_.requires)){for(var c in goog.dependencies_.requires[b]){if(!goog.isProvided_(c)&&!goog.isDeferredModule_(c)){return false}}}return true};goog.maybeProcessDeferredPath_=function(a){if(a in goog.dependencies_.deferred){var b=goog.dependencies_.deferred[a];delete goog.dependencies_.deferred[a];goog.globalEval(b)}};goog.loadModule=function(d){var a=goog.moduleLoaderState_;try{goog.moduleLoaderState_={moduleName:undefined,declareTestMethods:false};var b;if(goog.isFunction(d)){b=d.call(goog.global,{})}else{if(goog.isString(d)){b=goog.loadModuleFromSource_.call(goog.global,d)}else{throw Error("Invalid module definition")}}var c=goog.moduleLoaderState_.moduleName;if(!goog.isString(c)||!c){throw Error('Invalid module name "'+c+'"')}if(goog.moduleLoaderState_.declareLegacyNamespace){goog.constructNamespace_(c,b)}else{if(goog.SEAL_MODULE_EXPORTS&&Object.seal){Object.seal(b)}}goog.loadedModules_[c]=b;if(goog.moduleLoaderState_.declareTestMethods){for(var e in b){if(e.indexOf("test",0)===0||e=="tearDown"||e=="setUp"||e=="setUpPage"||e=="tearDownPage"){goog.global[e]=b[e]}}}}finally{goog.moduleLoaderState_=a}};goog.loadModuleFromSource_=function(source){var exports={};eval(arguments[0]);return exports};goog.writeScriptTag_=function(e,b){if(goog.inHtmlDocument_()){var c=goog.global.document;if(c.readyState=="complete"){var f=/\bdeps.js$/.test(e);if(f){return false}else{throw Error('Cannot write "'+e+'" after document load')}}var d=goog.IS_OLD_IE_;if(b===undefined){if(!d){c.write('<script type="text/javascript" src="'+e+'"><\/script>')}else{var a=" onreadystatechange='goog.onScriptLoad_(this, "+ ++goog.lastNonModuleScriptIndex_+")' ";c.write('<script type="text/javascript" src="'+e+'"'+a+"><\/script>")}}else{c.write('<script type="text/javascript">'+b+"<\/script>")}return true}else{return false}};goog.lastNonModuleScriptIndex_=0;goog.onScriptLoad_=function(a,b){if(a.readyState=="complete"&&goog.lastNonModuleScriptIndex_==b){goog.loadQueuedModules_()}return true};goog.writeScripts_=function(){var a=[];var b={};var g=goog.dependencies_;function e(i){if(i in g.written){return}if(i in g.visited){if(!(i in b)){b[i]=true;a.push(i)}return}g.visited[i]=true;if(i in g.requires){for(var j in g.requires[i]){if(!goog.isProvided_(j)){if(j in g.nameToPath){e(g.nameToPath[j])}else{throw Error("Undefined nameToPath for "+j)}}}}if(!(i in b)){b[i]=true;a.push(i)}}for(var d in goog.included_){if(!g.written[d]){e(d)}}for(var c=0;c<a.length;c++){var d=a[c];goog.dependencies_.written[d]=true}var h=goog.moduleLoaderState_;goog.moduleLoaderState_=null;var f=false;for(var c=0;c<a.length;c++){var d=a[c];if(d){if(!g.pathIsModule[d]){goog.importScript_(goog.basePath+d)}else{f=true;goog.importModule_(goog.basePath+d)}}else{goog.moduleLoaderState_=h;throw Error("Undefined script input")}}goog.moduleLoaderState_=h};goog.getPathFromDeps_=function(a){if(a in goog.dependencies_.nameToPath){return goog.dependencies_.nameToPath[a]}else{return null}};goog.findBasePath_();if(!goog.global.CLOSURE_NO_DEPS){goog.importScript_(goog.basePath+"deps.js")}}goog.normalizePath_=function(c){var b=c.split("/");var a=0;while(a<b.length){if(b[a]=="."){b.splice(a,1)}else{if(a&&b[a]==".."&&b[a-1]&&b[a-1]!=".."){b.splice(--a,2)}else{a++}}}return b.join("/")};goog.retrieveAndExecModule_=function(g){if(!COMPILED){var d=g;g=goog.normalizePath_(g);var c=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;var b=null;var f=new goog.global.XMLHttpRequest();f.onload=function(){b=this.responseText};f.open("get",g,false);f.send();b=f.responseText;if(b!=null){var a=goog.wrapModule_(g,b);var e=goog.IS_OLD_IE_;if(e){goog.dependencies_.deferred[d]=a;goog.queuedModules_.push(d)}else{c(g,a)}}else{throw new Error("load of "+g+"failed")}}};goog.typeOf=function(c){var b=typeof c;if(b=="object"){if(c){if(c instanceof Array){return"array"}else{if(c instanceof Object){return b}}var a=Object.prototype.toString.call((c));if(a=="[object Window]"){return"object"}if((a=="[object Array]"||typeof c.length=="number"&&typeof c.splice!="undefined"&&typeof c.propertyIsEnumerable!="undefined"&&!c.propertyIsEnumerable("splice"))){return"array"}if((a=="[object Function]"||typeof c.call!="undefined"&&typeof c.propertyIsEnumerable!="undefined"&&!c.propertyIsEnumerable("call"))){return"function"}}else{return"null"}}else{if(b=="function"&&typeof c.call=="undefined"){return"object"}}return b};goog.isNull=function(a){return a===null};goog.isDefAndNotNull=function(a){return a!=null};goog.isArray=function(a){return goog.typeOf(a)=="array"};goog.isArrayLike=function(b){var a=goog.typeOf(b);return a=="array"||a=="object"&&typeof b.length=="number"};goog.isDateLike=function(a){return goog.isObject(a)&&typeof a.getFullYear=="function"};goog.isString=function(a){return typeof a=="string"};goog.isBoolean=function(a){return typeof a=="boolean"};goog.isNumber=function(a){return typeof a=="number"};goog.isFunction=function(a){return goog.typeOf(a)=="function"};goog.isObject=function(b){var a=typeof b;return a=="object"&&b!=null||a=="function"};goog.getUid=function(a){return a[goog.UID_PROPERTY_]||(a[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.hasUid=function(a){return !!a[goog.UID_PROPERTY_]};goog.removeUid=function(b){if("removeAttribute" in b){b.removeAttribute(goog.UID_PROPERTY_)}try{delete b[goog.UID_PROPERTY_]}catch(a){}};goog.UID_PROPERTY_="closure_uid_"+((Math.random()*1000000000)>>>0);goog.uidCounter_=0;goog.getHashCode=goog.getUid;goog.removeHashCode=goog.removeUid;goog.cloneObject=function(c){var b=goog.typeOf(c);if(b=="object"||b=="array"){if(c.clone){return c.clone()}var d=b=="array"?[]:{};for(var a in c){d[a]=goog.cloneObject(c[a])}return d}return c};goog.bindNative_=function(a,c,b){return(a.call.apply(a.bind,arguments))};goog.bindJs_=function(a,d,b){if(!a){throw new Error()}if(arguments.length>2){var c=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,c);return a.apply(d,e)}}else{return function(){return a.apply(d,arguments)}}};goog.bind=function(a,c,b){if(Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1){goog.bind=goog.bindNative_}else{goog.bind=goog.bindJs_}return goog.bind.apply(null,arguments)};goog.partial=function(b,c){var a=Array.prototype.slice.call(arguments,1);return function(){var d=a.slice();d.push.apply(d,arguments);return b.apply(this,d)}};goog.mixin=function(c,b){for(var a in b){c[a]=b[a]}};goog.now=(goog.TRUSTED_SITE&&Date.now)||(function(){return +new Date()});goog.globalEval=function(script){if(goog.global.execScript){goog.global.execScript(script,"JavaScript")}else{if(goog.global.eval){if(goog.evalWorksForGlobals_==null){goog.global.eval("var _et_ = 1;");if(typeof goog.global._et_!="undefined"){delete goog.global._et_;goog.evalWorksForGlobals_=true}else{goog.evalWorksForGlobals_=false}}if(goog.evalWorksForGlobals_){goog.global.eval(script)}else{var doc=goog.global.document;var scriptElt=doc.createElement("script");scriptElt.type="text/javascript";scriptElt.defer=false;scriptElt.appendChild(doc.createTextNode(script));doc.body.appendChild(scriptElt);doc.body.removeChild(scriptElt)}}else{throw Error("goog.globalEval not available")}}};goog.evalWorksForGlobals_=null;goog.cssNameMapping_;goog.cssNameMappingStyle_;goog.getCssName=function(e,c){var d=function(f){return goog.cssNameMapping_[f]||f};var b=function(j){var h=j.split("-");var f=[];for(var g=0;g<h.length;g++){f.push(d(h[g]))}return f.join("-")};var a;if(goog.cssNameMapping_){a=goog.cssNameMappingStyle_=="BY_WHOLE"?d:b}else{a=function(f){return f}}if(c){return e+"-"+a(c)}else{return a(e)}};goog.setCssNameMapping=function(b,a){goog.cssNameMapping_=b;goog.cssNameMappingStyle_=a};goog.global.CLOSURE_CSS_NAME_MAPPING;if(!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING){goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING}goog.getMsg=function(a,b){if(b){a=a.replace(/\{\$([^}]+)}/g,function(c,d){return d in b?b[d]:c})}return a};goog.getMsgWithFallback=function(d,c){return d};goog.exportSymbol=function(b,a,c){goog.exportPath_(b,a,c)};goog.exportProperty=function(b,a,c){b[a]=c};goog.inherits=function(b,a){function c(){}c.prototype=a.prototype;b.superClass_=a.prototype;b.prototype=new c();b.prototype.constructor=b;b.base=function(g,d,h){var e=new Array(arguments.length-2);for(var f=2;f<arguments.length;f++){e[f-2]=arguments[f]}return a.prototype[d].apply(g,e)}};goog.base=function(g,c,j){var a=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||(goog.DEBUG&&!a)){throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C")}if(a.superClass_){var b=new Array(arguments.length-1);for(var e=1;e<arguments.length;e++){b[e-1]=arguments[e]}return a.superClass_.constructor.apply(g,b)}var f=new Array(arguments.length-2);for(var e=2;e<arguments.length;e++){f[e-2]=arguments[e]}var d=false;for(var h=g.constructor;h;h=h.superClass_&&h.superClass_.constructor){if(h.prototype[c]===a){d=true}else{if(d){return h.prototype[c].apply(g,f)}}}if(g[c]===a){return g.constructor.prototype[c].apply(g,f)}else{throw Error("goog.base called from a method of one name to a method of a different name")}};goog.scope=function(a){a.call(goog.global)};if(!COMPILED){goog.global.COMPILED=COMPILED}goog.defineClass=function(c,d){var b=d.constructor;var e=d.statics;if(!b||b==Object.prototype.constructor){b=function(){throw Error("cannot instantiate an interface (no constructor defined).")}}var a=goog.defineClass.createSealingConstructor_(b,c);if(c){goog.inherits(a,c)}delete d.constructor;delete d.statics;goog.defineClass.applyProperties_(a.prototype,d);if(e!=null){if(e instanceof Function){e(a)}else{goog.defineClass.applyProperties_(a,e)}}return a};goog.defineClass.ClassDescriptor;goog.define("goog.defineClass.SEAL_CLASS_INSTANCES",goog.DEBUG);goog.defineClass.createSealingConstructor_=function(c,b){if(goog.defineClass.SEAL_CLASS_INSTANCES&&Object.seal instanceof Function){if(b&&b.prototype&&b.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]){return c}var a=function(){var d=c.apply(this,arguments)||this;d[goog.UID_PROPERTY_]=d[goog.UID_PROPERTY_];if(this.constructor===a){Object.seal(d)}return d};return a}return c};goog.defineClass.OBJECT_PROTOTYPE_FIELDS_=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];goog.defineClass.applyProperties_=function(d,c){var b;for(b in c){if(Object.prototype.hasOwnProperty.call(c,b)){d[b]=c[b]}}for(var a=0;a<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;a++){b=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[a];if(Object.prototype.hasOwnProperty.call(c,b)){d[b]=c[b]}}};goog.tagUnsealableClass=function(a){if(!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES){a.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=true}};goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable";goog.DEBUG=false;goog.inherits=function(b,a){function c(){}c.prototype=a.prototype;b.superClass_=a.prototype;b.prototype=new c();b.prototype.constructor=b;b.base=function(f,d,g){var e=Array.prototype.slice.call(arguments,2);return a.prototype[d].apply(f,e)}};if(!goog.userAgent){goog.userAgent=(function(){var b="";if("undefined"!==typeof navigator&&navigator&&"string"==typeof navigator.userAgent){b=navigator.userAgent}var a=b.indexOf("Opera")==0;return{jscript:{HAS_JSCRIPT:"ScriptEngine" in this},OPERA:a,IE:!a&&b.indexOf("MSIE")!=-1,WEBKIT:!a&&b.indexOf("WebKit")!=-1}})()}if(!goog.asserts){goog.asserts={assert:function(a){if(!a){throw Error("Assertion error")}},fail:function(a){}}}if(!goog.dom){goog.dom={};goog.dom.DomHelper=function(a){this.document_=a||document};goog.dom.DomHelper.prototype.getDocument=function(){return this.document_};goog.dom.DomHelper.prototype.createElement=function(a){return this.document_.createElement(a)};goog.dom.DomHelper.prototype.createDocumentFragment=function(){return this.document_.createDocumentFragment()}}if(!goog.format){goog.format={insertWordBreaks:function(j,a){j=String(j);var f=[];var h=0;var b=false;var k=false;var g=0;var d=0;for(var e=0,c=j.length;e<c;++e){var l=j.charCodeAt(e);if(g>=a&&l!=32){f[h++]=j.substring(d,e);d=e;f[h++]=goog.format.WORD_BREAK;g=0}if(b){if(l==62){b=false}}else{if(k){switch(l){case 59:k=false;++g;break;case 60:k=false;b=true;break;case 32:k=false;g=0;break}}else{switch(l){case 60:b=true;break;case 38:k=true;break;case 32:g=0;break;default:++g;break}}}}f[h++]=j.substring(d);return f.join("")},WORD_BREAK:goog.userAgent.WEBKIT?"<wbr></wbr>":goog.userAgent.OPERA?"&shy;":goog.userAgent.IE?"&#8203;":"<wbr>"}}if(!goog.i18n){goog.i18n={bidi:{}}}goog.i18n.bidi.IS_RTL=false;goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0,UNKNOWN:0};goog.i18n.bidi.toDir=function(b,a){if(typeof b=="number"){return b>0?goog.i18n.bidi.Dir.LTR:b<0?goog.i18n.bidi.Dir.RTL:a?null:goog.i18n.bidi.Dir.NEUTRAL}else{if(b==null){return null}else{return b?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR}}};goog.i18n.bidi.estimateDirection=function(h,c){var d=0;var a=0;var b=false;var g=soyshim.$$bidiStripHtmlIfNecessary_(h,c).split(soyshim.$$bidiWordSeparatorRe_);for(var f=0;f<g.length;f++){var e=g[f];if(soyshim.$$bidiRtlDirCheckRe_.test(e)){d++;a++}else{if(soyshim.$$bidiIsRequiredLtrRe_.test(e)){b=true}else{if(soyshim.$$bidiLtrCharRe_.test(e)){a++}else{if(soyshim.$$bidiHasNumeralsRe_.test(e)){b=true}}}}}return a==0?(b?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL):(d/a>soyshim.$$bidiRtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR)};goog.i18n.BidiFormatter=function(a){this.dir_=goog.i18n.bidi.toDir(a,true)};goog.i18n.BidiFormatter.prototype.getContextDir=function(){return this.dir_};goog.i18n.BidiFormatter.prototype.knownDirAttr=function(a){return !a||a==this.dir_?"":a<0?'dir="rtl"':'dir="ltr"'};goog.i18n.BidiFormatter.prototype.endEdge=function(){return this.dir_<0?"left":"right"};goog.i18n.BidiFormatter.prototype.mark=function(){return((this.dir_>0)?"\u200E":(this.dir_<0)?"\u200F":"")};goog.i18n.BidiFormatter.prototype.markAfterKnownDir=function(b,c,a){if(b==null){b=goog.i18n.bidi.estimateDirection(c,a)}return(this.dir_>0&&(b<0||soyshim.$$bidiIsRtlExitText_(c,a))?"\u200E":this.dir_<0&&(b>0||soyshim.$$bidiIsLtrExitText_(c,a))?"\u200F":"")};goog.i18n.BidiFormatter.prototype.spanWrapWithKnownDir=function(b,d,c){if(b==null){b=goog.i18n.bidi.estimateDirection(d,true)}var a=this.markAfterKnownDir(b,d,true);if(b>0&&this.dir_<=0){d='<span dir="ltr">'+d+"</span>"}else{if(b<0&&this.dir_>=0){d='<span dir="rtl">'+d+"</span>"}}return d+a};goog.i18n.BidiFormatter.prototype.startEdge=function(){return this.dir_<0?"right":"left"};goog.i18n.BidiFormatter.prototype.unicodeWrapWithKnownDir=function(c,d,a){if(c==null){c=goog.i18n.bidi.estimateDirection(d,a)}var b=this.markAfterKnownDir(c,d,a);if(c>0&&this.dir_<=0){d="\u202A"+d+"\u202C"}else{if(c<0&&this.dir_>=0){d="\u202B"+d+"\u202C"}}return d+b};if(!goog.string){goog.string={newLineToBr:function(b,a){b=String(b);if(!goog.string.NEWLINE_TO_BR_RE_.test(b)){return b}return b.replace(/(\r\n|\r|\n)/g,a?"<br />":"<br>")},urlEncode:encodeURIComponent,NEWLINE_TO_BR_RE_:/[\r\n]/}}goog.string.StringBuffer=function(a,b){this.buffer_=goog.userAgent.jscript.HAS_JSCRIPT?[]:"";if(a!=null){this.append.apply(this,arguments)}};goog.string.StringBuffer.prototype.bufferLength_=0;goog.string.StringBuffer.prototype.append=function(c,b,e){if(goog.userAgent.jscript.HAS_JSCRIPT){if(b==null){this.buffer_[this.bufferLength_++]=c}else{var a=(this.buffer_);a.push.apply(a,arguments);this.bufferLength_=this.buffer_.length}}else{this.buffer_+=c;if(b!=null){for(var d=1;d<arguments.length;d++){this.buffer_+=arguments[d]}}}return this};goog.string.StringBuffer.prototype.clear=function(){if(goog.userAgent.jscript.HAS_JSCRIPT){this.buffer_.length=0;this.bufferLength_=0}else{this.buffer_=""}};goog.string.StringBuffer.prototype.toString=function(){if(goog.userAgent.jscript.HAS_JSCRIPT){var a=this.buffer_.join("");this.clear();if(a){this.append(a)}return a}else{return(this.buffer_)}};if(!goog.soy){goog.soy={renderAsElement:function(c,a,b,d){return(soyshim.$$renderWithWrapper_(c,a,d,true,b))},renderAsFragment:function(c,a,b,d){return soyshim.$$renderWithWrapper_(c,a,d,false,b)},renderElement:function(c,d,a,b){c.innerHTML=d(a,null,b)},data:{}}}goog.soy.data.SanitizedContentKind={HTML:goog.DEBUG?{sanitizedContentKindHtml:true}:{},JS:goog.DEBUG?{sanitizedContentJsChars:true}:{},JS_STR_CHARS:goog.DEBUG?{sanitizedContentJsStrChars:true}:{},URI:goog.DEBUG?{sanitizedContentUri:true}:{},ATTRIBUTES:goog.DEBUG?{sanitizedContentHtmlAttribute:true}:{},CSS:goog.DEBUG?{sanitizedContentCss:true}:{},TEXT:goog.DEBUG?{sanitizedContentKindText:true}:{}};goog.soy.data.SanitizedContent=function(){throw Error("Do not instantiate directly")};goog.soy.data.SanitizedContent.prototype.contentKind;goog.soy.data.SanitizedContent.prototype.contentDir=null;goog.soy.data.SanitizedContent.prototype.content;goog.soy.data.SanitizedContent.prototype.toString=function(){return this.content};var soy={esc:{}};var soydata={};soydata.VERY_UNSAFE={};var soyshim={$$DEFAULT_TEMPLATE_DATA_:{}};soyshim.$$renderWithWrapper_=function(h,f,b,c,i){var d=b||document;var a=d.createElement("div");a.innerHTML=h(f||soyshim.$$DEFAULT_TEMPLATE_DATA_,undefined,i);if(a.childNodes.length==1){var g=a.firstChild;if(!c||g.nodeType==1){return(g)}}if(c){return a}var e=d.createDocumentFragment();while(a.firstChild){e.appendChild(a.firstChild)}return e};soyshim.$$bidiStripHtmlIfNecessary_=function(b,a){return a?b.replace(soyshim.$$BIDI_HTML_SKIP_RE_,""):b};soyshim.$$BIDI_HTML_SKIP_RE_=/<[^>]*>|&[^;]+;/g;soyshim.$$bidiLtrChars_="A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02B8\u0300-\u0590\u0800-\u1FFF\u200E\u2C00-\uFB1C\uFE00-\uFE6F\uFEFD-\uFFFF";soyshim.$$bidiRtlChars_="\u0591-\u07FF\u200F\uFB1D-\uFDFF\uFE70-\uFEFC";soyshim.$$bidiRtlDirCheckRe_=new RegExp("^[^"+soyshim.$$bidiLtrChars_+"]*["+soyshim.$$bidiRtlChars_+"]");soyshim.$$bidiLtrCharRe_=new RegExp("["+soyshim.$$bidiLtrChars_+"]");soyshim.$$bidiIsRequiredLtrRe_=/^http:\/\/.*/;soyshim.$$bidiHasNumeralsRe_=/\d/;soyshim.$$bidiWordSeparatorRe_=/\s+/;soyshim.$$bidiRtlDetectionThreshold_=0.4;soyshim.$$bidiLtrExitDirCheckRe_=new RegExp("["+soyshim.$$bidiLtrChars_+"][^"+soyshim.$$bidiRtlChars_+"]*$");soyshim.$$bidiRtlExitDirCheckRe_=new RegExp("["+soyshim.$$bidiRtlChars_+"][^"+soyshim.$$bidiLtrChars_+"]*$");soyshim.$$bidiIsLtrExitText_=function(b,a){b=soyshim.$$bidiStripHtmlIfNecessary_(b,a);return soyshim.$$bidiLtrExitDirCheckRe_.test(b)};soyshim.$$bidiIsRtlExitText_=function(b,a){b=soyshim.$$bidiStripHtmlIfNecessary_(b,a);return soyshim.$$bidiRtlExitDirCheckRe_.test(b)};soy.StringBuilder=goog.string.StringBuffer;soydata.SanitizedContentKind=goog.soy.data.SanitizedContentKind;soydata.isContentKind=function(a,b){return a!=null&&a.contentKind===b};soydata.getContentDir=function(a){if(a!=null){switch(a.contentDir){case goog.i18n.bidi.Dir.LTR:return goog.i18n.bidi.Dir.LTR;case goog.i18n.bidi.Dir.RTL:return goog.i18n.bidi.Dir.RTL;case goog.i18n.bidi.Dir.NEUTRAL:return goog.i18n.bidi.Dir.NEUTRAL}}return null};soydata.SanitizedHtml=function(){goog.soy.data.SanitizedContent.call(this)};goog.inherits(soydata.SanitizedHtml,goog.soy.data.SanitizedContent);soydata.SanitizedHtml.prototype.contentKind=soydata.SanitizedContentKind.HTML;soydata.SanitizedHtml.from=function(a){if(a!=null&&a.contentKind===soydata.SanitizedContentKind.HTML){goog.asserts.assert(a.constructor===soydata.SanitizedHtml);return(a)}return soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.esc.$$escapeHtmlHelper(String(a)),soydata.getContentDir(a))};soydata.SanitizedJs=function(){goog.soy.data.SanitizedContent.call(this)};goog.inherits(soydata.SanitizedJs,goog.soy.data.SanitizedContent);soydata.SanitizedJs.prototype.contentKind=soydata.SanitizedContentKind.JS;soydata.SanitizedJs.prototype.contentDir=goog.i18n.bidi.Dir.LTR;soydata.SanitizedJsStrChars=function(){goog.soy.data.SanitizedContent.call(this)};goog.inherits(soydata.SanitizedJsStrChars,goog.soy.data.SanitizedContent);soydata.SanitizedJsStrChars.prototype.contentKind=soydata.SanitizedContentKind.JS_STR_CHARS;soydata.SanitizedUri=function(){goog.soy.data.SanitizedContent.call(this)};goog.inherits(soydata.SanitizedUri,goog.soy.data.SanitizedContent);soydata.SanitizedUri.prototype.contentKind=soydata.SanitizedContentKind.URI;soydata.SanitizedUri.prototype.contentDir=goog.i18n.bidi.Dir.LTR;soydata.SanitizedHtmlAttribute=function(){goog.soy.data.SanitizedContent.call(this)};goog.inherits(soydata.SanitizedHtmlAttribute,goog.soy.data.SanitizedContent);soydata.SanitizedHtmlAttribute.prototype.contentKind=soydata.SanitizedContentKind.ATTRIBUTES;soydata.SanitizedHtmlAttribute.prototype.contentDir=goog.i18n.bidi.Dir.LTR;soydata.SanitizedCss=function(){goog.soy.data.SanitizedContent.call(this)};goog.inherits(soydata.SanitizedCss,goog.soy.data.SanitizedContent);soydata.SanitizedCss.prototype.contentKind=soydata.SanitizedContentKind.CSS;soydata.SanitizedCss.prototype.contentDir=goog.i18n.bidi.Dir.LTR;soydata.UnsanitizedText=function(a,b){this.content=String(a);this.contentDir=b!=null?b:null};goog.inherits(soydata.UnsanitizedText,goog.soy.data.SanitizedContent);soydata.UnsanitizedText.prototype.contentKind=soydata.SanitizedContentKind.TEXT;soydata.$$EMPTY_STRING_={VALUE:""};soydata.$$makeSanitizedContentFactory_=function(b){function a(){}a.prototype=b.prototype;function c(e,f){var d=new a();d.content=String(e);if(f!==undefined){d.contentDir=f}return d}return c};soydata.$$makeSanitizedContentFactoryWithDefaultDirOnly_=function(b){function a(){}a.prototype=b.prototype;function c(e){var d=new a();d.content=String(e);return d}return c};soydata.markUnsanitizedText=function(a,b){return new soydata.UnsanitizedText(a,b)};soydata.VERY_UNSAFE.ordainSanitizedHtml=soydata.$$makeSanitizedContentFactory_(soydata.SanitizedHtml);soydata.VERY_UNSAFE.ordainSanitizedJs=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnly_(soydata.SanitizedJs);soydata.VERY_UNSAFE.ordainSanitizedJsStrChars=soydata.$$makeSanitizedContentFactory_(soydata.SanitizedJsStrChars);soydata.VERY_UNSAFE.ordainSanitizedUri=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnly_(soydata.SanitizedUri);soydata.VERY_UNSAFE.ordainSanitizedHtmlAttribute=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnly_(soydata.SanitizedHtmlAttribute);soydata.VERY_UNSAFE.ordainSanitizedCss=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnly_(soydata.SanitizedCss);soy.renderElement=goog.soy.renderElement;soy.renderAsFragment=function(d,b,a,c){return goog.soy.renderAsFragment(d,b,c,new goog.dom.DomHelper(a))};soy.renderAsElement=function(d,b,a,c){return goog.soy.renderAsElement(d,b,c,new goog.dom.DomHelper(a))};soy.$$IS_LOCALE_RTL=goog.i18n.bidi.IS_RTL;soy.$$augmentMap=function(a,d){function e(){}e.prototype=a;var b=new e();for(var c in d){b[c]=d[c]}return b};soy.$$checkMapKey=function(a){if((typeof a)!="string"){throw Error("Map literal's key expression must evaluate to string (encountered type \""+(typeof a)+'").')}return a};soy.$$getMapKeys=function(c){var b=[];for(var a in c){b.push(a)}return b};soy.$$getDelTemplateId=function(a){return a};soy.$$DELEGATE_REGISTRY_PRIORITIES_={};soy.$$DELEGATE_REGISTRY_FUNCTIONS_={};soy.$$registerDelegateFn=function(f,c,d,b){var e="key_"+f+":"+c;var a=soy.$$DELEGATE_REGISTRY_PRIORITIES_[e];if(a===undefined||d>a){soy.$$DELEGATE_REGISTRY_PRIORITIES_[e]=d;soy.$$DELEGATE_REGISTRY_FUNCTIONS_[e]=b}else{if(d==a){throw Error('Encountered two active delegates with the same priority ("'+f+":"+c+'").')}else{}}};soy.$$getDelegateFn=function(c,b,d){var a=soy.$$DELEGATE_REGISTRY_FUNCTIONS_["key_"+c+":"+b];if(!a&&b!=""){a=soy.$$DELEGATE_REGISTRY_FUNCTIONS_["key_"+c+":"]}if(a){return a}else{if(d){return soy.$$EMPTY_TEMPLATE_FN_}else{throw Error('Found no active impl for delegate call to "'+c+":"+b+'" (and not allowemptydefault="true").')}}};soy.$$EMPTY_TEMPLATE_FN_=function(a,c,b){return""};soydata.$$makeSanitizedContentFactoryForInternalBlocks_=function(b){function a(){}a.prototype=b.prototype;function c(e,f){var g=String(e);if(!g){return soydata.$$EMPTY_STRING_.VALUE}var d=new a();d.content=String(e);if(f!==undefined){d.contentDir=f}return d}return c};soydata.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_=function(b){function a(){}a.prototype=b.prototype;function c(e){var f=String(e);if(!f){return soydata.$$EMPTY_STRING_.VALUE}var d=new a();d.content=String(e);return d}return c};soydata.$$markUnsanitizedTextForInternalBlocks=function(a,b){var c=String(a);if(!c){return soydata.$$EMPTY_STRING_.VALUE}return new soydata.UnsanitizedText(c,b)};soydata.VERY_UNSAFE.$$ordainSanitizedHtmlForInternalBlocks=soydata.$$makeSanitizedContentFactoryForInternalBlocks_(soydata.SanitizedHtml);soydata.VERY_UNSAFE.$$ordainSanitizedJsForInternalBlocks=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_(soydata.SanitizedJs);soydata.VERY_UNSAFE.$$ordainSanitizedUriForInternalBlocks=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_(soydata.SanitizedUri);soydata.VERY_UNSAFE.$$ordainSanitizedAttributesForInternalBlocks=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_(soydata.SanitizedHtmlAttribute);soydata.VERY_UNSAFE.$$ordainSanitizedCssForInternalBlocks=soydata.$$makeSanitizedContentFactoryWithDefaultDirOnlyForInternalBlocks_(soydata.SanitizedCss);soy.$$escapeHtml=function(a){return soydata.SanitizedHtml.from(a)};soy.$$cleanHtml=function(a){if(soydata.isContentKind(a,soydata.SanitizedContentKind.HTML)){goog.asserts.assert(a.constructor===soydata.SanitizedHtml);return(a)}return soydata.VERY_UNSAFE.ordainSanitizedHtml(soy.$$stripHtmlTags(a,soy.esc.$$SAFE_TAG_WHITELIST_),soydata.getContentDir(a))};soy.$$escapeHtmlRcdata=function(a){if(soydata.isContentKind(a,soydata.SanitizedContentKind.HTML)){goog.asserts.assert(a.constructor===soydata.SanitizedHtml);return soy.esc.$$normalizeHtmlHelper(a.content)}return soy.esc.$$escapeHtmlHelper(a)};soy.$$HTML5_VOID_ELEMENTS_=new RegExp("^<(?:area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)\\b");soy.$$stripHtmlTags=function(d,c){if(!c){return String(d).replace(soy.esc.$$HTML_TAG_REGEX_,"").replace(soy.esc.$$LT_REGEX_,"&lt;")}var b=String(d).replace(/\[/g,"&#91;");var a=[];b=b.replace(soy.esc.$$HTML_TAG_REGEX_,function(f,h){if(h){h=h.toLowerCase();if(c.hasOwnProperty(h)&&c[h]){var i=f.charAt(1)==="/"?"</":"<";var g=a.length;a[g]=i+h+">";return"["+g+"]"}}return""});b=soy.esc.$$normalizeHtmlHelper(b);var e=soy.$$balanceTags_(a);b=b.replace(/\[(\d+)\]/g,function(g,f){return a[f]});return b+e};soy.$$balanceTags_=function(c){var b=[];for(var d=0,f=c.length;d<f;++d){var a=c[d];if(a.charAt(1)==="/"){var e=b.length-1;while(e>=0&&b[e]!=a){e--}if(e<0){c[d]=""}else{c[d]=b.slice(e).reverse().join("");b.length=e}}else{if(!soy.$$HTML5_VOID_ELEMENTS_.test(a)){b.push("</"+a.substring(1))}}}return b.reverse().join("")};soy.$$escapeHtmlAttribute=function(a){if(soydata.isContentKind(a,soydata.SanitizedContentKind.HTML)){goog.asserts.assert(a.constructor===soydata.SanitizedHtml);return soy.esc.$$normalizeHtmlHelper(soy.$$stripHtmlTags(a.content))}return soy.esc.$$escapeHtmlHelper(a)};soy.$$escapeHtmlAttributeNospace=function(a){if(soydata.isContentKind(a,soydata.SanitizedContentKind.HTML)){goog.asserts.assert(a.constructor===soydata.SanitizedHtml);return soy.esc.$$normalizeHtmlNospaceHelper(soy.$$stripHtmlTags(a.content))}return soy.esc.$$escapeHtmlNospaceHelper(a)};soy.$$filterHtmlAttributes=function(a){if(soydata.isContentKind(a,soydata.SanitizedContentKind.ATTRIBUTES)){goog.asserts.assert(a.constructor===soydata.SanitizedHtmlAttribute);return a.content.replace(/([^"'\s])$/,"$1 ")}return soy.esc.$$filterHtmlAttributesHelper(a)};soy.$$filterHtmlElementName=function(a){return soy.esc.$$filterHtmlElementNameHelper(a)};soy.$$escapeJs=function(a){return soy.$$escapeJsString(a)};soy.$$escapeJsString=function(a){if(soydata.isContentKind(a,soydata.SanitizedContentKind.JS_STR_CHARS)){goog.asserts.assert(a.constructor===soydata.SanitizedJsStrChars);return a.content}return soy.esc.$$escapeJsStringHelper(a)};soy.$$escapeJsValue=function(a){if(a==null){return" null "}if(soydata.isContentKind(a,soydata.SanitizedContentKind.JS)){goog.asserts.assert(a.constructor===soydata.SanitizedJs);return a.content}switch(typeof a){case"boolean":case"number":return" "+a+" ";default:return"'"+soy.esc.$$escapeJsStringHelper(String(a))+"'"}};soy.$$escapeJsRegex=function(a){return soy.esc.$$escapeJsRegexHelper(a)};soy.$$problematicUriMarks_=/['()]/g;soy.$$pctEncode_=function(a){return"%"+a.charCodeAt(0).toString(16)};soy.$$escapeUri=function(a){if(soydata.isContentKind(a,soydata.SanitizedContentKind.URI)){goog.asserts.assert(a.constructor===soydata.SanitizedUri);return soy.$$normalizeUri(a)}var b=soy.esc.$$escapeUriHelper(a);soy.$$problematicUriMarks_.lastIndex=0;if(soy.$$problematicUriMarks_.test(b)){return b.replace(soy.$$problematicUriMarks_,soy.$$pctEncode_)}return b};soy.$$normalizeUri=function(a){return soy.esc.$$normalizeUriHelper(a)};soy.$$filterNormalizeUri=function(a){if(soydata.isContentKind(a,soydata.SanitizedContentKind.URI)){goog.asserts.assert(a.constructor===soydata.SanitizedUri);return soy.$$normalizeUri(a)}return soy.esc.$$filterNormalizeUriHelper(a)};soy.$$filterImageDataUri=function(a){return soydata.VERY_UNSAFE.ordainSanitizedUri(soy.esc.$$filterImageDataUriHelper(a))};soy.$$escapeCssString=function(a){return soy.esc.$$escapeCssStringHelper(a)};soy.$$filterCssValue=function(a){if(soydata.isContentKind(a,soydata.SanitizedContentKind.CSS)){goog.asserts.assert(a.constructor===soydata.SanitizedCss);return a.content}if(a==null){return""}return soy.esc.$$filterCssValueHelper(a)};soy.$$filterNoAutoescape=function(a){if(soydata.isContentKind(a,soydata.SanitizedContentKind.TEXT)){goog.asserts.fail("Tainted SanitizedContentKind.TEXT for |noAutoescape: `%s`",[a.content]);return"zSoyz"}return a};soy.$$changeNewlineToBr=function(b){var a=goog.string.newLineToBr(String(b),false);if(soydata.isContentKind(b,soydata.SanitizedContentKind.HTML)){return soydata.VERY_UNSAFE.ordainSanitizedHtml(a,soydata.getContentDir(b))}return a};soy.$$insertWordBreaks=function(c,b){var a=goog.format.insertWordBreaks(String(c),b);if(soydata.isContentKind(c,soydata.SanitizedContentKind.HTML)){return soydata.VERY_UNSAFE.ordainSanitizedHtml(a,soydata.getContentDir(c))}return a};soy.$$truncate=function(c,a,b){c=String(c);if(c.length<=a){return c}if(b){if(a>3){a-=3}else{b=false}}if(soy.$$isHighSurrogate_(c.charAt(a-1))&&soy.$$isLowSurrogate_(c.charAt(a))){a-=1}c=c.substring(0,a);if(b){c+="..."}return c};soy.$$isHighSurrogate_=function(a){return 55296<=a&&a<=56319};soy.$$isLowSurrogate_=function(a){return 56320<=a&&a<=57343};soy.$$bidiFormatterCache_={};soy.$$getBidiFormatterInstance_=function(a){return soy.$$bidiFormatterCache_[a]||(soy.$$bidiFormatterCache_[a]=new goog.i18n.BidiFormatter(a))};soy.$$bidiTextDir=function(d,a){var c=soydata.getContentDir(d);if(c!=null){return c}var b=a||soydata.isContentKind(d,soydata.SanitizedContentKind.HTML);return goog.i18n.bidi.estimateDirection(d+"",b)};soy.$$bidiDirAttr=function(b,f,a){var c=soy.$$getBidiFormatterInstance_(b);var e=soydata.getContentDir(f);if(e==null){var d=a||soydata.isContentKind(f,soydata.SanitizedContentKind.HTML);e=goog.i18n.bidi.estimateDirection(f+"",d)}return soydata.VERY_UNSAFE.ordainSanitizedHtmlAttribute(c.knownDirAttr(e))};soy.$$bidiMarkAfter=function(b,e,a){var c=soy.$$getBidiFormatterInstance_(b);var d=a||soydata.isContentKind(e,soydata.SanitizedContentKind.HTML);return c.markAfterKnownDir(soydata.getContentDir(e),e+"",d)};soy.$$bidiSpanWrap=function(a,d){var c=soy.$$getBidiFormatterInstance_(a);var b=c.spanWrapWithKnownDir(soydata.getContentDir(d),d+"",true);return b};soy.$$bidiUnicodeWrap=function(a,f){var c=soy.$$getBidiFormatterInstance_(a);var d=soydata.isContentKind(f,soydata.SanitizedContentKind.HTML);var b=c.unicodeWrapWithKnownDir(soydata.getContentDir(f),f+"",d);var e=c.getContextDir();if(soydata.isContentKind(f,soydata.SanitizedContentKind.TEXT)){return new soydata.UnsanitizedText(b,e)}if(d){return soydata.VERY_UNSAFE.ordainSanitizedHtml(b,e)}if(soydata.isContentKind(f,soydata.SanitizedContentKind.JS_STR_CHARS)){return soydata.VERY_UNSAFE.ordainSanitizedJsStrChars(b,e)}return b};soy.esc.$$escapeUriHelper=function(a){return encodeURIComponent(String(a))};soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_={"\x00":"\x26#0;","\x22":"\x26quot;","\x26":"\x26amp;","\x27":"\x26#39;","\x3c":"\x26lt;","\x3e":"\x26gt;","\x09":"\x26#9;","\x0a":"\x26#10;","\x0b":"\x26#11;","\x0c":"\x26#12;","\x0d":"\x26#13;"," ":"\x26#32;","-":"\x26#45;","/":"\x26#47;","\x3d":"\x26#61;","`":"\x26#96;","\x85":"\x26#133;","\xa0":"\x26#160;","\u2028":"\x26#8232;","\u2029":"\x26#8233;"};soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_=function(a){return soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_[a]};soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_={"\x00":"\\x00","\x08":"\\x08","\x09":"\\t","\x0a":"\\n","\x0b":"\\x0b","\x0c":"\\f","\x0d":"\\r","\x22":"\\x22","\x26":"\\x26","\x27":"\\x27","/":"\\/","\x3c":"\\x3c","\x3d":"\\x3d","\x3e":"\\x3e","\\":"\\\\","\x85":"\\x85","\u2028":"\\u2028","\u2029":"\\u2029","$":"\\x24","(":"\\x28",")":"\\x29","*":"\\x2a","+":"\\x2b",",":"\\x2c","-":"\\x2d",".":"\\x2e",":":"\\x3a","?":"\\x3f","[":"\\x5b","]":"\\x5d","^":"\\x5e","{":"\\x7b","|":"\\x7c","}":"\\x7d"};soy.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_=function(a){return soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_[a]};soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_CSS_STRING_={"\x00":"\\0 ","\x08":"\\8 ","\x09":"\\9 ","\x0a":"\\a ","\x0b":"\\b ","\x0c":"\\c ","\x0d":"\\d ","\x22":"\\22 ","\x26":"\\26 ","\x27":"\\27 ","(":"\\28 ",")":"\\29 ","*":"\\2a ","/":"\\2f ",":":"\\3a ",";":"\\3b ","\x3c":"\\3c ","\x3d":"\\3d ","\x3e":"\\3e ","@":"\\40 ","\\":"\\5c ","{":"\\7b ","}":"\\7d ","\x85":"\\85 ","\xa0":"\\a0 ","\u2028":"\\2028 ","\u2029":"\\2029 "};soy.esc.$$REPLACER_FOR_ESCAPE_CSS_STRING_=function(a){return soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_CSS_STRING_[a]};soy.esc.$$ESCAPE_MAP_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_={"\x00":"%00","\x01":"%01","\x02":"%02","\x03":"%03","\x04":"%04","\x05":"%05","\x06":"%06","\x07":"%07","\x08":"%08","\x09":"%09","\x0a":"%0A","\x0b":"%0B","\x0c":"%0C","\x0d":"%0D","\x0e":"%0E","\x0f":"%0F","\x10":"%10","\x11":"%11","\x12":"%12","\x13":"%13","\x14":"%14","\x15":"%15","\x16":"%16","\x17":"%17","\x18":"%18","\x19":"%19","\x1a":"%1A","\x1b":"%1B","\x1c":"%1C","\x1d":"%1D","\x1e":"%1E","\x1f":"%1F"," ":"%20","\x22":"%22","\x27":"%27","(":"%28",")":"%29","\x3c":"%3C","\x3e":"%3E","\\":"%5C","{":"%7B","}":"%7D","\x7f":"%7F","\x85":"%C2%85","\xa0":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","\uff01":"%EF%BC%81","\uff03":"%EF%BC%83","\uff04":"%EF%BC%84","\uff06":"%EF%BC%86","\uff07":"%EF%BC%87","\uff08":"%EF%BC%88","\uff09":"%EF%BC%89","\uff0a":"%EF%BC%8A","\uff0b":"%EF%BC%8B","\uff0c":"%EF%BC%8C","\uff0f":"%EF%BC%8F","\uff1a":"%EF%BC%9A","\uff1b":"%EF%BC%9B","\uff1d":"%EF%BC%9D","\uff1f":"%EF%BC%9F","\uff20":"%EF%BC%A0","\uff3b":"%EF%BC%BB","\uff3d":"%EF%BC%BD"};soy.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_=function(a){return soy.esc.$$ESCAPE_MAP_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_[a]};soy.esc.$$MATCHER_FOR_ESCAPE_HTML_=/[\x00\x22\x26\x27\x3c\x3e]/g;soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_=/[\x00\x22\x27\x3c\x3e]/g;soy.esc.$$MATCHER_FOR_ESCAPE_HTML_NOSPACE_=/[\x00\x09-\x0d \x22\x26\x27\x2d\/\x3c-\x3e`\x85\xa0\u2028\u2029]/g;soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_NOSPACE_=/[\x00\x09-\x0d \x22\x27\x2d\/\x3c-\x3e`\x85\xa0\u2028\u2029]/g;soy.esc.$$MATCHER_FOR_ESCAPE_JS_STRING_=/[\x00\x08-\x0d\x22\x26\x27\/\x3c-\x3e\\\x85\u2028\u2029]/g;soy.esc.$$MATCHER_FOR_ESCAPE_JS_REGEX_=/[\x00\x08-\x0d\x22\x24\x26-\/\x3a\x3c-\x3f\x5b-\x5e\x7b-\x7d\x85\u2028\u2029]/g;soy.esc.$$MATCHER_FOR_ESCAPE_CSS_STRING_=/[\x00\x08-\x0d\x22\x26-\x2a\/\x3a-\x3e@\\\x7b\x7d\x85\xa0\u2028\u2029]/g;soy.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g;soy.esc.$$FILTER_FOR_FILTER_CSS_VALUE_=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i;soy.esc.$$FILTER_FOR_FILTER_NORMALIZE_URI_=/^(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i;soy.esc.$$FILTER_FOR_FILTER_IMAGE_DATA_URI_=/^data:image\/(?:bmp|gif|jpe?g|png|tiff|webp);base64,[a-z0-9+\/]+=*$/i;soy.esc.$$FILTER_FOR_FILTER_HTML_ATTRIBUTES_=/^(?!style|on|action|archive|background|cite|classid|codebase|data|dsync|href|longdesc|src|usemap)(?:[a-z0-9_$:-]*)$/i;soy.esc.$$FILTER_FOR_FILTER_HTML_ELEMENT_NAME_=/^(?!script|style|title|textarea|xmp|no)[a-z0-9_$:-]*$/i;soy.esc.$$escapeHtmlHelper=function(a){var b=String(a);return b.replace(soy.esc.$$MATCHER_FOR_ESCAPE_HTML_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)};soy.esc.$$normalizeHtmlHelper=function(a){var b=String(a);return b.replace(soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)};soy.esc.$$escapeHtmlNospaceHelper=function(a){var b=String(a);return b.replace(soy.esc.$$MATCHER_FOR_ESCAPE_HTML_NOSPACE_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)};soy.esc.$$normalizeHtmlNospaceHelper=function(a){var b=String(a);return b.replace(soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_NOSPACE_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)};soy.esc.$$escapeJsStringHelper=function(a){var b=String(a);return b.replace(soy.esc.$$MATCHER_FOR_ESCAPE_JS_STRING_,soy.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_)};soy.esc.$$escapeJsRegexHelper=function(a){var b=String(a);return b.replace(soy.esc.$$MATCHER_FOR_ESCAPE_JS_REGEX_,soy.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_)};soy.esc.$$escapeCssStringHelper=function(a){var b=String(a);return b.replace(soy.esc.$$MATCHER_FOR_ESCAPE_CSS_STRING_,soy.esc.$$REPLACER_FOR_ESCAPE_CSS_STRING_)};soy.esc.$$filterCssValueHelper=function(a){var b=String(a);if(!soy.esc.$$FILTER_FOR_FILTER_CSS_VALUE_.test(b)){return"zSoyz"}return b};soy.esc.$$normalizeUriHelper=function(a){var b=String(a);return b.replace(soy.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_,soy.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_)};soy.esc.$$filterNormalizeUriHelper=function(a){var b=String(a);if(!soy.esc.$$FILTER_FOR_FILTER_NORMALIZE_URI_.test(b)){return"#zSoyz"}return b.replace(soy.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_,soy.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_)};soy.esc.$$filterImageDataUriHelper=function(a){var b=String(a);if(!soy.esc.$$FILTER_FOR_FILTER_IMAGE_DATA_URI_.test(b)){return"data:image/gif;base64,zSoyz"}return b};soy.esc.$$filterHtmlAttributesHelper=function(a){var b=String(a);if(!soy.esc.$$FILTER_FOR_FILTER_HTML_ATTRIBUTES_.test(b)){return"zSoyz"}return b};soy.esc.$$filterHtmlElementNameHelper=function(a){var b=String(a);if(!soy.esc.$$FILTER_FOR_FILTER_HTML_ELEMENT_NAME_.test(b)){return"zSoyz"}return b};soy.esc.$$HTML_TAG_REGEX_=/<(?:!|\/?([a-zA-Z][a-zA-Z0-9:\-]*))(?:[^>'"]|"[^"]*"|'[^']*')*>/g;soy.esc.$$LT_REGEX_=/</g;soy.esc.$$SAFE_TAG_WHITELIST_={b:1,br:1,em:1,i:1,s:1,sub:1,sup:1,u:1};;
;
/* module-key = 'com.atlassian.soy.soy-template-plugin:soy-deps', location = 'js/atlassian-deps.js' */
window.atl_soy=window.atl_soy||{};atl_soy.concat=function(d,c){if(d.concat){return d.concat(c)}var e={};for(var f in d){if(d.hasOwnProperty(f)){e[f]=d[f]}}for(var f in c){if(c.hasOwnProperty(f)){e[f]=c[f]}}return e};;
;
/* module-key = 'com.atlassian.auiplugin:internal-aui-widget', location = 'js/aui/internal/widget.js' */
(function(A){AJS._internal=AJS._internal||{};AJS._internal.widget=A(AJS.$)})(function(B){return function A(D,C){var E="_aui-widget-"+D;return function(K,I){var F;var G;if(B.isPlainObject(K)){G=K}else{F=K;G=I}var H=F&&B(F);var J;if(!H||!H.data(E)){J=new C(H,G||{});H=J.$el;H.data(E,J)}else{J=H.data(E)}return J}}});;
;
/* module-key = 'com.atlassian.auiplugin:aui-navigation', location = 'js/aui-navigation.js' */
(function(A){AJS.navigation=A(AJS.$,window.skate,AJS._internal.widget)})(function(E,A,D){function C(F){this.$el=E(F).closest(".aui-nav");if(this.$el.length>1){return this.$el.map(function(H,I){return new C(I)})[0]}if(this.$el.data("aui-navigation")){return this.$el.data("aui-navigation")}this.$el.data("aui-navigation",this);this.$treeParent=this.$el.parent("li[aria-expanded]");this.$subtreeToggleIcon=this.$treeParent.children(".aui-nav-subtree-toggle").children("span.aui-icon");this.hideMoreItems();this.$el.children("li:has(.aui-nav-selected)").addClass("aui-nav-child-selected");var G=this.$el.children(".aui-nav-selected");G.parents(".aui-nav > [aria-expanded=false]").add(G.filter("[aria-expanded=false]")).each(function(){var H=B(E(this).children(".aui-nav"));H.expand()});this.$el.find("> li[aria-expanded] > .aui-nav-subtree-toggle").on("click",function(){var H=B(E(this).siblings(".aui-nav"));H.toggle()});return this}C.prototype.isNested=function(){return this.$treeParent.length===1};C.prototype.isCollapsed=function(){return this.$treeParent.attr("aria-expanded")==="false"};C.prototype.expand=function(){this.$treeParent.attr("aria-expanded","true");this.$subtreeToggleIcon.removeClass("aui-iconfont-collapsed").addClass("aui-iconfont-expanded");this.hideMoreItems();return this};C.prototype.collapse=function(){this.$treeParent.attr("aria-expanded","false");this.$subtreeToggleIcon.removeClass("aui-iconfont-expanded").addClass("aui-iconfont-collapsed");return this};C.prototype.toggle=function(){if(this.isCollapsed()){this.expand()}else{this.collapse()}return this};C.prototype.hideMoreItems=function(){if(this.$el.is(".aui-nav:not([aria-expanded=false]) [data-more]")){var I=this.$el.attr("data-more")||"More\u2026";var H=Math.abs(parseInt(this.$el.attr("data-more-limit")))||5;var J=this.$el.children("li");var G=J.length<=H+1;var K=J.filter(".aui-nav-selected").length;var F=J.filter(".aui-nav-more").length;if(G||K||F){return this}E("<li>",{"class":"aui-nav-more","aria-hidden":"true"}).append(E("<a>",{href:"#","class":"aui-nav-item",text:I,click:function(L){L.preventDefault();E(this).parent().remove()}})).insertAfter(J.eq(H-1))}return this};var B=D("navigation",C);A("aui-nav",{insert:function(F){B(F)}});return B});;
;
/* module-key = 'com.atlassian.auiplugin:aui-navigation', location = 'soy/navigation.soy' */
// This file was automatically generated from navigation.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.navigation.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.navigation == 'undefined') { aui.navigation = {}; }


aui.navigation.item = function(opt_data, opt_ignored) {
  return '<li class="' + ((opt_data.isSelected || opt_data.key && opt_data.selectedItemKey == opt_data.key) ? 'aui-nav-selected' : '') + aui.renderExtraClasses(opt_data) + '"' + ((opt_data.isCollapsible && opt_data.children && opt_data.children.length > 0) ? 'aria-expanded="' + ((opt_data.isCollapsed) ? 'false' : 'true') + '"' : '') + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.children && opt_data.children.length > 0 && opt_data.isCollapsible) ? '<a href="#" class="aui-nav-subtree-toggle">' + aui.icons.icon({icon: opt_data.isCollapsed ? 'collapsed' : 'expanded', size: 'small', useIconFont: true}) + '</a>' : '') + '<a class="aui-nav-item" href="' + soy.$$escapeHtml(opt_data.href) + '">' + ((opt_data.iconClass && ! opt_data.isChild) ? aui.icons.icon({icon: opt_data.iconClass, size: 'small', useIconFont: true}) : '') + ((opt_data.count == 0 || opt_data.count) ? '<span class="aui-badge">' + soy.$$escapeHtml(opt_data.count) + '</span>' : '') + '<span class="aui-nav-item-label">' + soy.$$escapeHtml(opt_data.label) + '</span></a>' + ((opt_data.children && opt_data.children.length > 0) ? aui.navigation.nav({items: opt_data.children, selectedItemKey: opt_data.selectedItemKey, isChild: true}) : '') + '</li>';
};
if (goog.DEBUG) {
  aui.navigation.item.soyTemplateName = 'aui.navigation.item';
}


aui.navigation.nav = function(opt_data, opt_ignored) {
  var output = '<ul class="aui-nav' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>';
  var itemList58 = opt_data.items;
  var itemListLen58 = itemList58.length;
  for (var itemIndex58 = 0; itemIndex58 < itemListLen58; itemIndex58++) {
    var itemData58 = itemList58[itemIndex58];
    output += aui.navigation.item(soy.$$augmentMap(itemData58, {isChild: opt_data.isChild, selectedItemKey: opt_data.selectedItemKey}));
  }
  output += '</ul>';
  return output;
};
if (goog.DEBUG) {
  aui.navigation.nav.soyTemplateName = 'aui.navigation.nav';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-header', location = 'js/aui-header-responsive.js' */
(function(B,A){AJS.responsiveheader={};AJS.responsiveheader.setup=function(){var D=B(".aui-header");if(!D.length){return }D.each(function(E,F){C(B(F),E)});function C(K,P){function F(b){if(!W.length){return }var Y;var Z=U();if(Z>I){O(b)}else{J(b);Y=Z-R;var a=-1;while(Y-W[a+1].outerWidth>=0){Y-=W[a+1].outerWidth;a++}if(a<G){N(G-a,b)}else{if(G<a){H(a-G,b)}}}}function U(){var Y=T.is(":visible")?T.offset().left:K.width();var Z=M.offset().left+M.outerWidth(true)+V;return Y-Z}function E(Z){var Y=B("<li>"+aui.dropdown2.trigger({menu:{id:"aui-responsive-header-dropdown-content-"+Z},text:"More",extraAttributes:{href:"#"},id:"aui-responsive-header-dropdown-trigger-"+Z})+"</li>");Y.append(aui.dropdown2.contents({id:"aui-responsive-header-dropdown-content-"+Z,extraClasses:"aui-style-default",content:aui.dropdown2.section({content:'<ul id="aui-responsive-header-dropdown-list-'+Z+'"></ul>'})}));if(V===0){Y.appendTo(S(".aui-nav"))}else{Y.insertBefore(S(".aui-nav > li > .aui-button").first().parent())}skate.init(Y);R=Y.outerWidth(true);return Y}function H(d,Y){if(d<=0){return }var f=Q.children(".aui-dropdown2-trigger");if(f.hasClass("active")){f.trigger("aui-button-invoke")}var e=G+1;var g=G+d;for(var b=e;b<=g;b++){var Z=W[b].$element;var a=Z.children("a");var c=B("#"+a.attr("aria-owns"));if(a.attr("aria-owns")){a.removeClass("aui-dropdown2-sub-trigger");c.removeClass("aui-dropdown2-sub-menu")}Z.insertBefore(Q)}G+=d}function N(d,Y){if(d<=0){return }var f=Q[0].querySelector("#aui-responsive-header-dropdown-list-"+Y);var g=G;var e=G-d+1;for(var b=g;b>=e;b--){var Z=W[b].$element;var a=Z.children("a");var c=B("#"+a.attr("aria-owns"));if(a.attr("aria-owns")){a.addClass("aui-dropdown2-sub-trigger");c.addClass("aui-dropdown2-sub-menu")}f.insertBefore(Z[0],f.firstChild)}G-=d}function O(Y){L(Y);H((W.length-1)-G,Y)}function J(Y){if(Q===undefined){Q=E(Y)}Q.css("display","")}function L(Y){if(Q!==undefined){Q.css("display","none")}}var T=K.find(".aui-header-secondary .aui-nav").first();var W=[];var I=0;var Q;var G;var M=K.find("#logo");var R=0;var V=0;var S=(function(){var Y=B(K[0].querySelector(".aui-header-primary"));return function(Z){return Y.find(Z)}})();K.attr("data-aui-responsive","true");S(".aui-button").parent("li").each(function(){V+=B(this).outerWidth(true)});S(".aui-nav > li > a:not(.aui-button)").each(function(){var Z=B(this).parent();var Y=Z.outerWidth(true);I+=Y;W.push({$element:Z,outerWidth:Y})});G=W.length-1;B(window).on("resize.aui-responsive-header",A(function(){F(P)},100));var X=M.find("img");if(X.length!==0){X.attr("data-aui-responsive-header-index",P);X.load(function(){F(P)})}F(P);S(".aui-nav").css("width","auto")}};AJS.responsiveheader.destroy=function(){B(window).off("resize.aui-responsive-header")}})(AJS.$,AJS.debounce);AJS.$(AJS.responsiveheader.setup);;
;
/* module-key = 'com.atlassian.auiplugin:aui-dropdown2', location = 'js/dropdown2.js' */
(function(H){var F=H(document);var C=null;function J(M){M.preventDefault()}function E(M){return M[0].getAttribute("aria-hidden")!=="true"&&M.is(":visible")}var B=(function(){var O=false;function M(Q){if(!O&&Q.which===1){O=true;F.bind("mouseup mouseleave",N);H(this).trigger("aui-button-invoke")}}function N(){F.unbind("mouseup mouseleave",N);setTimeout(function(){O=false},0)}function P(){if(!O){H(this).trigger("aui-button-invoke")}}if(typeof document.addEventListener==="undefined"){return{click:P,"click selectstart":J,mousedown:function(S){var T=this;var R=document.activeElement;function Q(U){switch(U.toElement){case null:case T:case document.body:case document.documentElement:U.returnValue=false}}M.call(this,S);if(R!==null){R.attachEvent("onbeforedeactivate",Q);setTimeout(function(){R.detachEvent("onbeforedeactivate",Q)},0)}}}}return{click:P,"click mousedown":J,mousedown:M}})();var A={"aui-button-invoke":function(i,S){S=H.extend({selectFirst:true},S);var P=K(this);var O=H(this).addClass("active aui-dropdown2-active");var s=O.hasClass("aui-dropdown2-sub-trigger");var n=P.parent()[0];var q=P.next()[0];var e=H(this).attr("data-dropdown2-hide-location");if(e){var a=document.getElementById(e);if(a){n=H(a);q=undefined}else{throw new Error("The specified data-dropdown2-hide-location id doesn't exist")}}var U=S.$menu||O.closest(".aui-dropdown2-trigger-group");if(s){var f=O.closest(".aui-dropdown2");P.addClass(f.attr("class")).addClass("aui-dropdown2-sub-menu")}var T={click:function(u){var t=H(this);if(!Q(t)){return }if(!t.hasClass("interactive")&&!t.hasClass("aui-dropdown2-interactive")){m()}if(W(t)){g(t,{selectFirst:false});J(u)}},mousemove:function(){var u=H(this);var t=V(u);if(t){g(u,{selectFirst:false})}}};var o={"click focusin mousedown":function(t){var u=t.target;if(document===u&&t.type==="focusin"){return }if(!D(u,P[0])&&!D(u,O[0])){m()}},keydown:function(v){var u;if(v.shiftKey&&v.keyCode==9){k(-1)}else{switch(v.keyCode){case 13:u=Z();if(W(u)){g(u)}else{L(u[0])}break;case 27:b();break;case 37:u=Z();if(W(u)){var t=K(u);if(E(t)){P.trigger("aui-dropdown2-step-out");return }}if(s){b()}else{r(-1)}break;case 38:k(-1);break;case 39:u=Z();if(W(u)){g(u)}else{r(1)}break;case 40:k(1);break;case 9:k(1);break;default:return }}J(v)}};function d(t,u){t.each(function(){var v=H(this);v.attr("role",u);if(v.hasClass("checked")||v.hasClass("aui-dropdown2-checked")){v.attr("aria-checked","true");if(u=="radio"){v.closest("ul").attr("role","radiogroup")}}else{v.attr("aria-checked","false")}})}O.attr("aria-controls",O.attr("aria-owns"));P.find(".disabled,.aui-dropdown2-disabled").attr("aria-disabled","true");P.find("li.hidden > a,li.aui-dropdown2-hidden > a").addClass("disabled aui-dropdown2-disabled").attr("aria-disabled","true");d(P.find(".aui-dropdown2-checkbox"),"checkbox");d(P.find(".aui-dropdown2-radio"),"radio");function R(){var AC=O.offset();var AG=O.outerWidth();P.css({left:0,top:0});var AF=P.outerWidth();var AB=H("body").outerWidth(true);var u=Math.max(parseInt(P.css("min-width"),10),AG);var v=O.data("container")||false;var AE="left";var w;if(!s){P.css("min-width",u+"px")}var x=AC.left,AD=AC.top+O.outerHeight();if(s){var z=3;x=AC.left+f.outerWidth()-z;AD=AC.top}if(AB<x+AF&&AF<=x+AG){x=AC.left+AG-AF;if(s){x=AC.left-AF}AE="right"}if(v){var t=O.closest(v),AA=O.offset().left+O.outerWidth(),y=AA+AF;if(u>=AF){AF=u}if(y>AA){x=AA-AF;AE="right"}}P.attr({"data-dropdown2-alignment":AE,"aria-hidden":"false"}).css({display:"block",left:x+"px",top:AD+"px"});P.appendTo(document.body)}R();if(O.hasClass("toolbar-trigger")){P.addClass("aui-dropdown2-in-toolbar")}if(O.parent().hasClass("aui-buttons")){P.addClass("aui-dropdown2-in-buttons")}if(O.parents().hasClass("aui-header")){P.addClass("aui-dropdown2-in-header")}P.trigger("aui-dropdown2-show",S);if(S.selectFirst){N()}j("on");function b(){M();j("off");setTimeout(function(){P.css("display","none").css("min-width","").insertAfter(O).attr("aria-hidden","true");if(!s){O.removeClass("active aui-dropdown2-active")}Z().removeClass("active aui-dropdown2-active");P.removeClass("aui-dropdown2-in-toolbar");P.removeClass("aui-dropdown2-in-buttons");if(q){P.insertBefore(q)}else{P.appendTo(n)}P.trigger("aui-dropdown2-hide")},0)}function m(){b();if(s){f.trigger("aui-dropdown2-hide-all")}}function h(t){if(s&&t.target===f[0]){b()}}function Q(t){return !t.is(".disabled, .aui-dropdown2-disabled, [aria-disabled=true]")}function W(t){return t.hasClass("aui-dropdown2-sub-trigger")}function g(t,u){if(!W(t)){return }u=H.extend({},u,{$menu:U});var v=K(t);if(E(v)){v.trigger("aui-dropdown2-select-first")}else{t.trigger("aui-button-invoke",u)}}function Z(){return P.find("a.active,a.aui-dropdown2-active")}var X=null;function V(t){if(X&&X[0]===t[0]){return false}X=t;Z().removeClass("active aui-dropdown2-active");if(Q(t)){t.addClass("active aui-dropdown2-active")}P.trigger("aui-dropdown2-item-selected");Y();return true}function N(){V(P.find("a:not(.disabled):not(.aui-dropdown2-disabled)").first())}function k(u){var t=P.find("> ul > li > a, > .aui-dropdown2-section > ul > li > a").not(".disabled,.aui-dropdown2-disabled");V(l(t,u,true))}function c(t){if(t.length>0){m();t.trigger("aui-button-invoke")}}function r(t){c(l(U.find(".aui-dropdown2-trigger").not(".disabled, .aui-dropdown2-disabled, [aria-disabled=true], .aui-dropdown2-sub-trigger"),t,false))}function l(v,w,u){var t=v.index(v.filter(".active,.aui-dropdown2-active"));t+=(t<0&&w<0)?1:0;t+=w;if(u){t%=v.length}else{if(t<0){t=v.length}}return v.eq(t)}function p(){c(H(this))}function M(){if(C===o){F.unbind(o);C=null}}function Y(){if(C===o){return }F.unbind(C);F.bind(o);C=o}function j(u){var v="bind";var t="delegate";if(u!=="on"){v="unbind";t="undelegate"}if(!s){U[t](".aui-dropdown2-trigger:not(.active):not(.aui-dropdown2-active)","mousemove",p);O[v]("aui-button-invoke",b)}else{f[v]("aui-dropdown2-hide aui-dropdown2-item-selected aui-dropdown2-step-out",h)}P[v]("aui-dropdown2-hide-all",m);P[t]("a",T);P[v]("aui-dropdown2-hide",Y);P[v]("aui-dropdown2-select-first",N)}},mousedown:function(M){if(M.which===1){H(this).bind(G)}}};var G={mouseleave:function(){F.bind(I)},"mouseup mouseleave":function(){H(this).unbind(G)}};var I={mouseup:function(M){var N=H(M.target).closest(".aui-dropdown2 a, .aui-dropdown2-trigger")[0];if(N){setTimeout(function(){L(N)},0)}},"mouseup mouseleave":function(){H(this).unbind(I)}};function L(M){if(M.click){M.click()}else{var N=document.createEvent("MouseEvents");N.initMouseEvent("click",true,true,window,0,0,0,0,0,false,false,false,false,0,null);M.dispatchEvent(N)}}function D(N,M){return(N===M)||H.contains(M,N)}function K(O){if(!(O instanceof AJS.$)){O=H(O)}var P=O.attr("aria-owns"),M=O.attr("aria-haspopup"),N=document.getElementById(P);if(N){return H(N)}else{if(!P){throw new Error("Dropdown 2 trigger required attribute not set: aria-owns")}if(!M){throw new Error("Dropdown 2 trigger required attribute not set: aria-haspopup")}if(!N){throw new Error("Dropdown 2 trigger aria-owns attr set to nonexistent id: "+P)}throw new Error("Dropdown 2 trigger unknown error. I don't know what you did, but there's smoke everywhere. Consult the documentation.")}}F.delegate(".aui-dropdown2-trigger",B);F.delegate(".aui-dropdown2-trigger:not(.active):not(.aui-dropdown2-active):not([aria-disabled=true]),.aui-dropdown2-sub-trigger:not([aria-disabled=true])",A);F.delegate(".aui-dropdown2-checkbox:not(.disabled):not(.aui-dropdown2-disabled)","click",function(N){if(N.isDefaultPrevented()){return }var M=H(this);if(M.hasClass("checked")||M.hasClass("aui-dropdown2-checked")){M.removeClass("checked aui-dropdown2-checked").attr("aria-checked","false");M.trigger("aui-dropdown2-item-uncheck")}else{M.addClass("checked aui-dropdown2-checked").attr("aria-checked","true");M.trigger("aui-dropdown2-item-check")}});F.delegate(".aui-dropdown2-radio:not(.checked):not(.aui-dropdown2-checked):not(.disabled):not(.aui-dropdown2-disabled)","click",function(O){if(O.isDefaultPrevented()){return }var M=H(this);var N=M.closest("ul").find(".checked,.aui-dropdown2-checked");N.removeClass("checked aui-dropdown2-checked").attr("aria-checked","false").trigger("aui-dropdown2-item-uncheck");M.addClass("checked aui-dropdown2-checked").attr("aria-checked","true").trigger("aui-dropdown2-item-check")});F.delegate(".aui-dropdown2 a.disabled,.aui-dropdown2 a.aui-dropdown2-disabled","click",function(M){J(M)})})(AJS.$);;
;
/* module-key = 'com.atlassian.auiplugin:fancy-file-input', location = 'fancy-file-input/dist/fancy-file-input.js' */
/* jQuery Fancy File Input plugin - v1.0.0 - 2014-10-22
* http://seancurtis.com/experiments/fancy-file-input/
* Copyright (c) 2014 Sean Curtis <scurtis@atlassian.com>; Licensed http://www.apache.org/licenses/LICENSE-2.0 */
(function(A,B){A.FancyFileInput=B(jQuery);if(typeof define==="function"){define("aui/internal/fancy-file-input",[],function(){return A.FancyFileInput})}}(this,function(D){var F=/^.*[\\\/]/;var B=/\{0\}/gi;var E=(function(){var G=3;var I=document.createElement("div");var H=I.getElementsByTagName("i");do{I.innerHTML="<!--[if gt IE "+(++G)+"]><i></i><![endif]-->"}while(H[0]);return G>4?G:document.documentMode}());D.fn.fancyFileInput=function(G){return this.each(function(){var H=new A(this,G);D(this).data("FancyFileInput",H)})};function A(I,H){var G=D(I).data("FancyFileInput");if(G){return G}H=D.extend({},A.defaults,H);this.el=I;this.$el=D(I);this.$label=this.createLabel(H.buttonText);this._addLabelText();this.$clearButton=D("<button>",{text:(this.$label.attr("data-ffi-clearButtonText")||H.clearButtonText),"class":"ffi-clear",type:"button",tabindex:"-1"});this.multipleFileTextPattern=this.$label.attr("data-ffi-multipleFileTextPattern")||H.multipleFileTextPattern;this._eventNamespace=".ffi";this.CLASSES={disabled:"is-disabled",focused:"is-focused",active:"is-active",valid:"is-valid",invalid:"is-invalid"};this[this.isDisabled()?"disable":"enable"]();this.isFocused=false}A.defaults={buttonText:"Browse\u2026",clearButtonText:"Clear",multipleFileTextPattern:"{0} files"};A.prototype._addLabelText=function C(){var G=D('label[for="'+this.el.id+'"]');if(G.length){this.$el.attr("aria-label",G.text())}};A.prototype.createLabel=function(H){var G=this.$el.parent(".ffi[data-ffi-button-text]");if(!G.length){G=this.$el.wrap(D("<label>",{"class":"ffi","data-ffi-button-text":H})).parent()}return G};A.prototype.isDisabled=function(){return this.$el.is(":disabled")};A.prototype.formatMultipleFileText=function(G){return this.multipleFileTextPattern.replace(B,G)};A.prototype.bindEvents=function(){this.$el.on("invalid"+this._eventNamespace,D.proxy(this.checkValidity,this)).on("change"+this._eventNamespace,D.proxy(this.change,this)).on("keydown"+this._eventNamespace,D.proxy(this.keydown,this)).on("mousedown"+this._eventNamespace,D.proxy(this.mousedown,this)).on("mouseup"+this._eventNamespace,D.proxy(this.mouseup,this)).on("focus"+this._eventNamespace,D.proxy(this.focus,this)).on("blur"+this._eventNamespace,D.proxy(this.blur,this));this.$clearButton.on("click"+this._eventNamespace,D.proxy(this.clear,this))};A.prototype.unbindEvents=function(){this.$el.off(this._eventNamespace);this.$clearButton.off(this._eventNamespace)};A.prototype.fireEvent=function(G){this.$el.trigger(G+this._eventNamespace)};A.prototype.enable=function(){this.bindEvents();this.$el.prop("disabled",false);this.$label.removeClass(this.CLASSES.disabled)};A.prototype.disable=function(){this.unbindEvents();this.$el.prop("disabled",true);this.$label.addClass(this.CLASSES.disabled)};A.prototype.clear=function(){this.$el.wrap("<form>").closest("form").get(0).reset();this.$el.unwrap();this.el.value="";this.change();return false};A.prototype.focus=function(){var G=this;this.$label.addClass(this.CLASSES.focused);if(E&&!this.isFocused){this.isFocused=true;setTimeout(function(){G.$el.blur();G.$el.focus()},0)}};A.prototype.blur=function(){if(!E||!this.isFocused){this.$label.removeClass(this.CLASSES.focused);this.isFocused=false}};A.prototype.mousedown=function(){this.$label.addClass(this.CLASSES.active)};A.prototype.mouseup=function(){this.$label.removeClass(this.CLASSES.active)};A.prototype.keydown=function(L){var K=L.which;var J=8;var H=9;var I=46;if(K===J||K===I){this.clear();L.preventDefault()}if(E&&K===H){var G=this;this.isFocused=false;this.$el.prop("disabled",true);setTimeout(function(){G.$el.prop("disabled",false).blur()},0)}};A.prototype.checkValidity=function(){if(!this.el.required){return }var G=this.$el.is(":invalid");this.$label.toggleClass(this.CLASSES.invalid,G).toggleClass(this.CLASSES.valid,!G)};A.prototype.change=function(){var G;var H="";this.checkValidity();if(this.el.multiple&&this.el.files.length>1){G=this.formatMultipleFileText(this.el.files.length)}else{G=this.el.value}if(G.length){H=G.replace(F,"");this.$clearButton.appendTo(this.$label)}else{this.$clearButton.detach()}this.$el.focus();this.setFieldText(H);this.fireEvent("value-changed")};A.prototype.setFieldText=function(H){var G="data-ffi-value";if(H.length){this.$label.attr(G,H);this.fireEvent("value-added")}else{this.$label.removeAttr(G);this.fireEvent("value-cleared")}};return A}));;
;
/* module-key = 'com.atlassian.auiplugin:hotkeys', location = 'js/jquery/jquery.hotkeys.js' */
(function(D){D.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",91:"meta",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",188:",",190:".",191:"/",224:"meta",219:"[",221:"]"},keypressKeys:["<",">","?"],shiftNums:{"`":"~","1":"!","2":"@","3":"#","4":"$","5":"%","6":"^","7":"&","8":"*","9":"(","0":")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"}};D.each(D.hotkeys.keypressKeys,function(E,F){D.hotkeys.shiftNums[F]=F});function A(E){this.num=0;this.timer=E>0?E:false}A.prototype.val=function(){return this.num};A.prototype.inc=function(){if(this.timer){clearTimeout(this.timeout);this.timeout=setTimeout(D.proxy(A.prototype.reset,this),this.timer)}this.num++};A.prototype.reset=function(){if(this.timer){clearTimeout(this.timeout)}this.num=0};function C(G){if(!(D.isPlainObject(G.data)||D.isArray(G.data)||typeof G.data==="string")){return }var F=G.handler,E={timer:700};(function(H){if(typeof H==="string"){E.combo=[H]}else{if(D.isArray(H)){E.combo=H}else{D.extend(E,H)}}E.combo=D.map(E.combo,function(I){return I.toLowerCase()})})(G.data);G.index=new A(E.timer);G.handler=function(M){if(this!==M.target&&(/textarea|select|input/i.test(M.target.nodeName))){return }var J=M.type!=="keypress"?D.hotkeys.specialKeys[M.which]:null,N=String.fromCharCode(M.which).toLowerCase(),K,L="",I={};if(M.altKey&&J!=="alt"){L+="alt+"}if(M.ctrlKey&&J!=="ctrl"){L+="ctrl+"}if(M.metaKey&&!M.ctrlKey&&J!=="meta"){L+="meta+"}if(M.shiftKey&&J!=="shift"){L+="shift+"}if(M.metaKey&&N==="["){N=null}if(J){I[L+J]=true}if(N){I[L+N]=true}if(/shift+/.test(L)){I[L.replace("shift+","")+D.hotkeys.shiftNums[(J||N)]]=true}var H=G.index,O=E.combo;if(B(O[H.val()],I)){if(H.val()===O.length-1){H.reset();return F.apply(this,arguments)}else{H.inc()}}else{H.reset();if(B(O[0],I)){H.inc()}}}}function B(H,F){var I=H.split(" ");for(var G=0,E=I.length;G<E;G++){if(F[I[G]]){return true}}return false}D.each(["keydown","keyup","keypress"],function(){D.event.special[this]={add:C}})})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:aui-focus-manager', location = 'js/focus-manager.js' */
AJS.FocusManager=(function(G){(function B(){function J(L){return(G.css(L,"visibility")==="visible")}function I(P,Q){var S=P.nodeName.toLowerCase();if(S==="area"){var M=P.parentNode;var R=M.name;var T=G("img[usemap=#"+R+"]").get();if(!P.href||!R||M.nodeName.toLowerCase()!=="map"){return false}return T&&J(T)}var O=/input|select|textarea|button|object/.test(S);var L=S==="a";var N=(P.href||Q);return(O?!P.disabled:(L?N:Q))&&J(P)}function K(N){var L=G.attr(N,"tabindex"),M=isNaN(L);var O=(M||L>=0);return O&&I(N,!M)}G.extend(G.expr[":"],{"aui-focusable":function(L){return I(L,!isNaN(G.attr(L,"tabindex")))},"aui-tabbable":K})}());var D="_aui-focus-restore";function C(){this._focusTrapStack=[];G(document).on("focusout",{focusTrapStack:this._focusTrapStack},F)}C.defaultFocusSelector=":aui-tabbable";C.prototype.enter=function(I){I.data(D,G(document.activeElement));if(I.attr("data-aui-focus")!=="false"){var J=I.attr("data-aui-focus-selector")||C.defaultFocusSelector;var K=I.is(J)?I:I.find(J);K.first().focus()}if(H(I)){E(I,this._focusTrapStack)}};function E(I,J){J.push(I)}function A(I){I.pop()}function H(I){return I.is(".aui-dialog2")}C.prototype.exit=function(I){if(H(I)){A(this._focusTrapStack)}var J=document.activeElement;if(I[0]===J||I.has(J).length){G(J).blur()}var K=I.data(D);if(K&&K.length){I.removeData(D);K.focus()}};function F(K){var O=K.data.focusTrapStack;if(!K.relatedTarget){return }if(O.length===0){return }var R=O[O.length-1];var I=K.target;var N=K.relatedTarget;var M=R.find(":aui-tabbable");var L=AJS.$(M.first());var J=AJS.$(M.last());var Q=R.has(N).length===0;var P=Q&&N;if(P){if(L.is(I)){J.focus()}else{if(J.is(I)){L.focus()}}}}C.global=new C();return C}(AJS.$));;
;
/* module-key = 'com.atlassian.auiplugin:aui-layer-manager', location = 'js/layer-manager.js' */
(function(B){function F(L,N){var M=L.length;while(M--){if(N(L[M])){return M}}return -1}function D(L,M){return F(L,function(N){return N[0]===M[0]})}function G(L){return F(L,function(M){return AJS.layer(M).isBlanketed()})}function A(M){var L;if(M.length){var N=M[M.length-1];var O=parseInt(N.css("z-index"),10);L=(isNaN(O)?0:O)+100}else{L=0}return Math.max(3000,L)}function E(L,N){var M=G(L);if(N!==M){if(M>-1){AJS.dim(false,L[M].css("z-index")-20)}else{AJS.undim()}}}function K(L,P,O){if(P<0){return }for(var N=L.length-1;N>=P;N--){var M=L[N];var Q=AJS.layer(M);if(O||!Q.isPersistent()){Q._hideLayer(true);L.splice(N,1)}}}function C(M){var L=I(M);if(L.length>0){return L.closest(".aui-layer")}}function J(L){return I(L).length>0}function I(L){return B('[aria-controls="'+L.attr("id")+'"]')}function H(){this._stack=[]}H.prototype={push:function(N){var M=(N instanceof B)?N:B(N);if(D(this._stack,M)>=0){throw new Error("The given element is already an active layer.")}this.popLayersBeside(M);var L=AJS.layer(M);var O=A(this._stack);L._showLayer(O);if(L.isBlanketed()){AJS.dim(false,O-20)}this._stack.push(M);return this},popLayersBeside:function(O){var M=(O instanceof B)?O:B(O);if(!J(M)){var L=G(this._stack);K(this._stack,++L,false);return }var P=C(M);if(P){var N=this.indexOf(P);K(this._stack,++N,false)}else{K(this._stack,0,false)}},indexOf:function(L){return D(this._stack,B(L))},item:function(L){return this._stack[L]},hideAll:function(){this._stack.reverse().forEach(function(M){var L=AJS.layer(M);if(L.isBlanketed()||L.isPersistent()){return }L.hide()});return this},getNextLowerNonPersistentOrBlanketedLayer:function(P){var O=(P instanceof B)?P:B(P);var M=D(this._stack,O);if(M<0){return null}var L;M--;while(M>=0){L=this._stack[M];var N=AJS.layer(L);if(!N.isPersistent()||N.isBlanketed()){return L}M--}return null},getNextHigherNonPeristentAndNonBlanketedLayer:function(P){var O=(P instanceof B)?P:B(P);var M=D(this._stack,O);if(M<0){return null}var L;M++;while(M<this._stack.length){L=this._stack[M];var N=AJS.layer(L);if(!(N.isPersistent()||N.isBlanketed())){return L}M++}return null},popUntil:function(O){var N=(O instanceof B)?O:B(O);var M=D(this._stack,N);if(M===-1){return null}var L=G(this._stack);K(this._stack,M+1,AJS.layer(N).isBlanketed());AJS.layer(N)._hideLayer();this._stack.splice(M,1);E(this._stack,L);return N},getTopLayer:function(){if(!this._stack.length){return null}var L=this._stack[this._stack.length-1];return L},popTopIfNonPersistent:function(){var L=this.getTopLayer();var M=AJS.layer(L);if(!L||M.isPersistent()){return null}return this.popUntil(L)},popUntilTopBlanketed:function(){var P=G(this._stack);if(P<0){return null}var M=this._stack[P];var O=AJS.layer(M);if(O.isPersistent()){var L=this.getNextHigherNonPeristentAndNonBlanketedLayer(M);if(L){var N=D(this._stack,L);K(this._stack,N,true);return L}return null}K(this._stack,P,true);E(this._stack,P);return M},popUntilTopPersistent:function(){var N=AJS.LayerManager.global.getTopLayer();if(!N){return }var L;var M=G(this._stack);var O=AJS.layer(N);if(O.isPersistent()){if(O.isBlanketed()){return }else{N=AJS.LayerManager.global.getNextLowerNonPersistentOrBlanketedLayer(N);O=AJS.layer(N);if(N&&!O.isPersistent()){L=D(this._stack,N);K(this._stack,L,true);E(this._stack,M)}else{return }}}else{L=D(this._stack,N);K(this._stack,L,true);E(this._stack,M)}}};AJS.LayerManager=H}(AJS.$));;
;
/* module-key = 'com.atlassian.auiplugin:aui-layer-manager', location = 'js/layer-manager-global.js' */
(function(C){var F=C(document);function D(){F.on("keydown",function(G){if(G.keyCode===AJS.keyCode.ESCAPE){AJS.LayerManager.global.popUntilTopPersistent();G.preventDefault()}})}function E(){F.on("click",".aui-blanket",function(G){if(AJS.LayerManager.global.popUntilTopBlanketed()){G.preventDefault()}})}function B(){F.on("click",function(K){var H=C(K.target);if(H.closest(".aui-blanket").length){return }var G=H.closest("[aria-controls]");var J=H.closest(".aui-layer");if(!J.length&&!A(G)){AJS.LayerManager.global.hideAll();return }if(A(G)){return }if(J.length){var I=AJS.LayerManager.global.getNextHigherNonPeristentAndNonBlanketedLayer(J);if(I){AJS.layer(I).hide()}}})}function A(G){if(!G.length){return false}var H=document.getElementById(G.attr("aria-controls"));return AJS.LayerManager.global.indexOf(H)>-1}D();E();B();AJS.LayerManager.global=new AJS.LayerManager()}(AJS.$));;
;
/* module-key = 'com.atlassian.auiplugin:layer', location = 'js/layer.js' */
(function(A){AJS.layer=A(AJS.$,AJS._internal.widget)})(function(H,J){var I="_aui-internal-layer-";var N="_aui-internal-layer-global-";var C="aui-layer-";var G=H(document);function A(O,Q){var P=window.getComputedStyle(O).transitionProperty;return P?P.indexOf(Q)>-1:false}function M(Q,S,R,P){function O(T){if(S!==T.propertyName){return }R.call(Q);if(P){Q.removeEventListener("transitionend",O)}}if(A(Q,S)){Q.addEventListener("transitionend",O)}else{R.call(Q)}}function L(O,Q,P){M(O,Q,P,true)}function B(O){O.attr("aria-hidden","true")}function F(O){O.attr("aria-hidden","false")}function K(R,P,Q){var T=H.Event(I+P);var S=H.Event(N+P);var O=new CustomEvent(C+Q,{bubbles:true,cancelable:true});R.trigger(T);R.trigger(S,[R]);R[0].dispatchEvent(O);return !T.isDefaultPrevented()&&!S.isDefaultPrevented()&&!O.defaultPrevented}function D(O){this.$el=H(O||'<div class="aui-layer" aria-hidden="true"></div>');this.$el.addClass("aui-layer")}D.prototype={below:function(){return AJS.LayerManager.global.item(AJS.LayerManager.global.indexOf(this.$el)-1)},above:function(){return AJS.LayerManager.global.item(AJS.LayerManager.global.indexOf(this.$el)+1)},changeSize:function(P,O){this.$el.css("width",P);this.$el.css("height",O==="content"?"":O);return this},on:function(P,O){this.$el.on(I+P,O);return this},off:function(P,O){this.$el.off(I+P,O);return this},show:function(){if(this.isVisible()){F(this.$el);return this}if(!K(this.$el,"beforeShow","show")){return this}if(this.$el.css("display")==="none"){this.$el.css("display","")}AJS.LayerManager.global.push(this.$el);return this},hide:function(){if(!this.isVisible()){B(this.$el);return this}if(!K(this.$el,"beforeHide","hide")){return this}var O=this;L(this.$el.get(0),"opacity",function(){if(!O.isVisible()){this.style.display="none"}});AJS.LayerManager.global.popUntil(this.$el);return this},isVisible:function(){return this.$el.attr("aria-hidden")==="false"},remove:function(){this.hide();this.$el.remove();this.$el=null},isBlanketed:function(){return this.$el.attr("data-aui-blanketed")==="true"},isPersistent:function(){return this.$el.attr("data-aui-persistent")==="true"||this.$el.attr("data-aui-modal")==="true"},_hideLayer:function(O){if(this.isPersistent()||this.isBlanketed()){AJS.FocusManager.global.exit(this.$el)}if(O){K(this.$el,"beforeHide","hide")}this.$el.attr("aria-hidden","true");this.$el.css("z-index",this.$el.data("_aui-layer-cached-z-index")||"");this.$el.data("_aui-layer-cached-z-index","");this.$el.trigger(I+"hide");this.$el.trigger(N+"hide",[this.$el])},_showLayer:function(O){if(!this.$el.parent().is("body")){this.$el.appendTo(document.body)}this.$el.data("_aui-layer-cached-z-index",this.$el.css("z-index"));this.$el.css("z-index",O);this.$el.attr("aria-hidden","false");if(this.isPersistent()||this.isBlanketed()){AJS.FocusManager.global.enter(this.$el)}this.$el.trigger(I+"show");this.$el.trigger(N+"show",[this.$el])}};var E=J("layer",D);E.on=function(P,O,Q){G.on(N+P,O,Q);return this};E.off=function(P,O,Q){G.off(N+P,O,Q);return this};return E});;
;
/* module-key = 'com.atlassian.auiplugin:dialog', location = 'js/dialog.js' */
AJS.popup=function(J){var D={width:800,height:600,closeOnOutsideClick:false,keypressListener:function(K){if(K.keyCode===27&&B.is(":visible")){F.hide()}}};if(typeof J!="object"){J={width:arguments[0],height:arguments[1],id:arguments[2]};J=AJS.$.extend({},J,arguments[3])}J=AJS.$.extend({},D,J);var B=AJS("div").addClass("aui-popup");if(J.id){B.attr("id",J.id)}var E=3000;AJS.$(".aui-dialog").each(function(){var K=AJS.$(this);E=(K.css("z-index")>E)?K.css("z-index"):E});var H=(function G(L,K){J.width=(L=(L||J.width));J.height=(K=(K||J.height));B.css({marginTop:-Math.round(K/2)+"px",marginLeft:-Math.round(L/2)+"px",width:L,height:K,"z-index":parseInt(E,10)+2});return G})(J.width,J.height);AJS.$("body").append(B);B.hide();AJS.enable(B);var C=AJS.$(".aui-blanket"),A=function(K,L){var M=AJS.$(K,L);if(M.length){M.focus();return true}return false},I=function(K){if(AJS.$(".dialog-page-body",K).find(":focus").length!==0){return }if(J.focusSelector){return A(J.focusSelector,K)}var L=":input:visible:enabled:first";if(A(L,AJS.$(".dialog-page-body",K))){return }if(A(L,AJS.$(".dialog-button-panel",K))){return }A(L,AJS.$(".dialog-page-menu",K))};var F={changeSize:function(K,L){if((K&&K!=J.width)||(L&&L!=J.height)){H(K,L)}this.show()},show:function(){var K=function(){AJS.$(document).off("keydown",J.keypressListener).on("keydown",J.keypressListener);AJS.dim();C=AJS.$(".aui-blanket");if(C.size()!=0&&J.closeOnOutsideClick){C.click(function(){if(B.is(":visible")){F.hide()}})}B.show();AJS.popup.current=this;I(B);AJS.$(document).trigger("showLayer",["popup",this])};K.call(this);this.show=K},hide:function(){AJS.$(document).unbind("keydown",J.keypressListener);C.unbind();this.element.hide();if(AJS.$(".aui-dialog:visible").size()==0){AJS.undim()}var K=document.activeElement;if(this.element.has(K).length){K.blur()}AJS.$(document).trigger("hideLayer",["popup",this]);AJS.popup.current=null;this.enable()},element:B,remove:function(){B.remove();this.element=null},disable:function(){if(!this.disabled){this.popupBlanket=AJS.$("<div class='dialog-blanket'> </div>").css({height:B.height(),width:B.width()});B.append(this.popupBlanket);this.disabled=true}},enable:function(){if(this.disabled){this.disabled=false;this.popupBlanket.remove();this.popupBlanket=null}}};return F};(function(){function F(N,L,K,M){if(!N.buttonpanel){N.addButtonPanel()}this.page=N;this.onclick=K;this._onclick=function(O){return K.call(this,N.dialog,N,O)===true};this.item=AJS("button",L).addClass("button-panel-button");if(M){this.item.addClass(M)}if(typeof K=="function"){this.item.click(this._onclick)}N.buttonpanel.append(this.item);this.id=N.button.length;N.button[this.id]=this}function A(O,M,L,N,K){if(!O.buttonpanel){O.addButtonPanel()}if(!K){K="#"}this.page=O;this.onclick=L;this._onclick=function(P){return L.call(this,O.dialog,O,P)===true};this.item=AJS("a",M).attr("href",K).addClass("button-panel-link");if(N){this.item.addClass(N)}if(typeof L=="function"){this.item.click(this._onclick)}O.buttonpanel.append(this.item);this.id=O.button.length;O.button[this.id]=this}function B(M,L){var K=M=="left"?-1:1;return function(Q){var O=this.page[L];if(this.id!=((K==1)?O.length-1:0)){K*=(Q||1);O[this.id+K].item[(K<0?"before":"after")](this.item);O.splice(this.id,1);O.splice(this.id+K,0,this);for(var N=0,P=O.length;N<P;N++){if(L=="panel"&&this.page.curtab==O[N].id){this.page.curtab=N}O[N].id=N}}return this}}function G(K){return function(){this.page[K].splice(this.id,1);for(var L=0,M=this.page[K].length;L<M;L++){this.page[K][L].id=L}this.item.remove()}}F.prototype.moveUp=F.prototype.moveLeft=B("left","button");F.prototype.moveDown=F.prototype.moveRight=B("right","button");F.prototype.remove=G("button");F.prototype.html=function(K){return this.item.html(K)};F.prototype.onclick=function(K){if(typeof K=="undefined"){return this.onclick}else{this.item.unbind("click",this._onclick);this._onclick=function(L){return K.call(this,page.dialog,page,L)===true};if(typeof K=="function"){this.item.click(this._onclick)}}};var D=20;var H=function(Q,R,K,P,N){if(!(K instanceof AJS.$)){K=AJS.$(K)}this.dialog=Q.dialog;this.page=Q;this.id=Q.panel.length;this.button=AJS("button").html(R).addClass("item-button");if(N){this.button[0].id=N}this.item=AJS("li").append(this.button).addClass("page-menu-item");this.body=AJS("div").append(K).addClass("dialog-panel-body").css("height",Q.dialog.height+"px");this.padding=D;if(P){this.body.addClass(P)}var M=Q.panel.length,O=this;Q.menu.append(this.item);Q.body.append(this.body);Q.panel[M]=this;var L=function(){var S;if(Q.curtab+1){S=Q.panel[Q.curtab];S.body.hide();S.item.removeClass("selected");(typeof S.onblur=="function")&&S.onblur()}Q.curtab=O.id;O.body.show();O.item.addClass("selected");(typeof O.onselect=="function")&&O.onselect();(typeof Q.ontabchange=="function")&&Q.ontabchange(O,S)};if(!this.button.click){AJS.log("atlassian-dialog:Panel:constructor - this.button.click false");this.button.onclick=L}else{this.button.click(L)}L();if(M==0){Q.menu.css("display","none")}else{Q.menu.show()}};H.prototype.select=function(){this.button.click()};H.prototype.moveUp=H.prototype.moveLeft=B("left","panel");H.prototype.moveDown=H.prototype.moveRight=B("right","panel");H.prototype.remove=G("panel");H.prototype.html=function(K){if(K){this.body.html(K);return this}else{return this.body.html()}};H.prototype.setPadding=function(K){if(!isNaN(+K)){this.body.css("padding",+K);this.padding=+K;this.page.recalcSize()}return this};var E=56;var C=51;var I=50;var J=function(K,L){this.dialog=K;this.id=K.page.length;this.element=AJS("div").addClass("dialog-components");this.body=AJS("div").addClass("dialog-page-body");this.menu=AJS("ul").addClass("dialog-page-menu").css("height",K.height+"px");this.body.append(this.menu);this.curtab;this.panel=[];this.button=[];if(L){this.body.addClass(L)}K.popup.element.append(this.element.append(this.menu).append(this.body));K.page[K.page.length]=this};J.prototype.recalcSize=function(){var K=this.header?E:0;var N=this.buttonpanel?C:0;for(var M=this.panel.length;M--;){var L=this.dialog.height-K-N;this.panel[M].body.css("height",L);this.menu.css("height",L)}};J.prototype.addButtonPanel=function(){this.buttonpanel=AJS("div").addClass("dialog-button-panel");this.element.append(this.buttonpanel)};J.prototype.addPanel=function(N,K,M,L){new H(this,N,K,M,L);this.recalcSize();return this};J.prototype.addHeader=function(L,K){if(this.header){this.header.remove()}this.header=AJS("h2").text(L||"").addClass("dialog-title");K&&this.header.addClass(K);this.element.prepend(this.header);this.recalcSize();return this};J.prototype.addButton=function(L,K,M){new F(this,L,K,M);this.recalcSize();return this};J.prototype.addLink=function(M,L,N,K){new A(this,M,L,N,K);this.recalcSize();return this};J.prototype.gotoPanel=function(K){this.panel[K.id||K].select()};J.prototype.getCurrentPanel=function(){return this.panel[this.curtab]};J.prototype.hide=function(){this.element.hide()};J.prototype.show=function(){this.element.show()};J.prototype.remove=function(){this.element.remove()};AJS.Dialog=function(M,K,N){var L={};if(!+M){L=Object(M);M=L.width;K=L.height;N=L.id}this.height=K||480;this.width=M||640;this.id=N;L=AJS.$.extend({},L,{width:this.width,height:this.height,id:this.id});this.popup=AJS.popup(L);this.popup.element.addClass("aui-dialog");this.page=[];this.curpage=0;new J(this)};AJS.Dialog.prototype.addHeader=function(L,K){this.page[this.curpage].addHeader(L,K);return this};AJS.Dialog.prototype.addButton=function(L,K,M){this.page[this.curpage].addButton(L,K,M);return this};AJS.Dialog.prototype.addLink=function(M,L,N,K){this.page[this.curpage].addLink(M,L,N,K);return this};AJS.Dialog.prototype.addSubmit=function(L,K){this.page[this.curpage].addButton(L,K,"button-panel-submit-button");return this};AJS.Dialog.prototype.addCancel=function(L,K){this.page[this.curpage].addLink(L,K,"button-panel-cancel-link");return this};AJS.Dialog.prototype.addButtonPanel=function(){this.page[this.curpage].addButtonPanel();return this};AJS.Dialog.prototype.addPanel=function(N,K,M,L){this.page[this.curpage].addPanel(N,K,M,L);return this};AJS.Dialog.prototype.addPage=function(K){new J(this,K);this.page[this.curpage].hide();this.curpage=this.page.length-1;return this};AJS.Dialog.prototype.nextPage=function(){this.page[this.curpage++].hide();if(this.curpage>=this.page.length){this.curpage=0}this.page[this.curpage].show();return this};AJS.Dialog.prototype.prevPage=function(){this.page[this.curpage--].hide();if(this.curpage<0){this.curpage=this.page.length-1}this.page[this.curpage].show();return this};AJS.Dialog.prototype.gotoPage=function(K){this.page[this.curpage].hide();this.curpage=K;if(this.curpage<0){this.curpage=this.page.length-1}else{if(this.curpage>=this.page.length){this.curpage=0}}this.page[this.curpage].show();return this};AJS.Dialog.prototype.getPanel=function(L,M){var K=(M==null)?this.curpage:L;if(M==null){M=L}return this.page[K].panel[M]};AJS.Dialog.prototype.getPage=function(K){return this.page[K]};AJS.Dialog.prototype.getCurrentPanel=function(){return this.page[this.curpage].getCurrentPanel()};AJS.Dialog.prototype.gotoPanel=function(M,L){if(L!=null){var K=M.id||M;this.gotoPage(K)}this.page[this.curpage].gotoPanel(typeof L=="undefined"?M:L)};AJS.Dialog.prototype.show=function(){this.popup.show();AJS.trigger("show.dialog",{dialog:this});return this};AJS.Dialog.prototype.hide=function(){this.popup.hide();AJS.trigger("hide.dialog",{dialog:this});return this};AJS.Dialog.prototype.remove=function(){this.popup.hide();this.popup.remove();AJS.trigger("remove.dialog",{dialog:this})};AJS.Dialog.prototype.disable=function(){this.popup.disable();return this};AJS.Dialog.prototype.enable=function(){this.popup.enable();return this};AJS.Dialog.prototype.get=function(S){var L=[],R=this;var T='#([^"][^ ]*|"[^"]*")';var U=":(\\d+)";var M="page|panel|button|header";var N="(?:("+M+")(?:"+T+"|"+U+")?|"+T+")";var P=new RegExp("(?:^|,)\\s*"+N+"(?:\\s+"+N+")?\\s*(?=,|$)","ig");(S+"").replace(P,function(f,V,e,W,c,b,Y,g,d){V=V&&V.toLowerCase();var X=[];if(V=="page"&&R.page[W]){X.push(R.page[W]);V=b;V=V&&V.toLowerCase();e=Y;W=g;c=d}else{X=R.page}e=e&&(e+"").replace(/"/g,"");Y=Y&&(Y+"").replace(/"/g,"");c=c&&(c+"").replace(/"/g,"");d=d&&(d+"").replace(/"/g,"");if(V||c){for(var a=X.length;a--;){if(c||(V=="panel"&&(e||(!e&&W==null)))){for(var Z=X[a].panel.length;Z--;){if(X[a].panel[Z].button.html()==c||X[a].panel[Z].button.html()==e||(V=="panel"&&!e&&W==null)){L.push(X[a].panel[Z])}}}if(c||(V=="button"&&(e||(!e&&W==null)))){for(var Z=X[a].button.length;Z--;){if(X[a].button[Z].item.html()==c||X[a].button[Z].item.html()==e||(V=="button"&&!e&&W==null)){L.push(X[a].button[Z])}}}if(X[a][V]&&X[a][V][W]){L.push(X[a][V][W])}if(V=="header"&&X[a].header){L.push(X[a].header)}}}else{L=L.concat(X)}});var Q={length:L.length};for(var O=L.length;O--;){Q[O]=L[O];for(var K in L[O]){if(!(K in Q)){(function(V){Q[V]=function(){for(var W=this.length;W--;){if(typeof this[W][V]=="function"){this[W][V].apply(this[W],arguments)}}}})(K)}}}return Q};AJS.Dialog.prototype.updateHeight=function(){var K=0;var M=AJS.$(window).height()-E-C-(I*2);for(var L=0;this.getPanel(L);L++){if(this.getPanel(L).body.css({height:"auto",display:"block"}).outerHeight()>K){K=Math.min(M,this.getPanel(L).body.outerHeight())}if(L!==this.page[this.curpage].curtab){this.getPanel(L).body.css({display:"none"})}}for(L=0;this.getPanel(L);L++){this.getPanel(L).body.css({height:K||this.height})}this.page[0].menu.height(K);this.height=K+E+C+1;this.popup.changeSize(undefined,this.height)};AJS.Dialog.prototype.isMaximised=function(){return this.popup.element.outerHeight()>=AJS.$(window).height()-(I*2)};AJS.Dialog.prototype.getCurPanel=function(){return this.getPanel(this.page[this.curpage].curtab)};AJS.Dialog.prototype.getCurPanelButton=function(){return this.getCurPanel().button};AJS.Dialog=AJS.deprecate.construct(AJS.Dialog,"Dialog constructor",{alternativeName:"Dialog2"});AJS.popup=AJS.deprecate.construct(AJS.popup,"Dialog popup constructor",{alternatveName:"Dialog2"})})();;
;
/* module-key = 'com.atlassian.auiplugin:internal-aui-animation', location = 'js/aui/internal/animation.js' */
window.AJS=window.AJS||{};(function(A){A._internal=A._internal||{};A._internal.animation={};A._internal.animation.recomputeStyle=function(B){B=B.length?B[0]:B;window.getComputedStyle(B,null).getPropertyValue("left")}}(AJS));;
;
/* module-key = 'com.atlassian.auiplugin:internal-ajs-no-context-path', location = 'js/jquery/jquery.os.js' */
jQuery.os={};var jQueryOSplatform=navigator.platform.toLowerCase();jQuery.os.windows=(jQueryOSplatform.indexOf("win")!=-1);jQuery.os.mac=(jQueryOSplatform.indexOf("mac")!=-1);jQuery.os.linux=(jQueryOSplatform.indexOf("linux")!=-1);;
;
/* module-key = 'com.atlassian.auiplugin:internal-ajs-no-context-path', location = 'js-vendor/jquery/jquery-ui/jquery.ui.core.js' */
/* THIS FILE HAS BEEN MODIFIED BY ATLASSIAN. Modified lines are marked below, search "ATLASSIAN" */
/*
 * jQuery UI 1.8.24
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */
(function(A,D){A.ui=A.ui||{};if(A.ui.version){return }A.extend(A.ui,{version:"1.8.24",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});A.fn.extend({propAttr:A.fn.prop||A.fn.attr,_focus:A.fn.focus,focus:function(E,F){return typeof E==="number"?this.each(function(){var G=this;setTimeout(function(){A(G).focus();if(F){F.call(G)}},E)}):this._focus.apply(this,arguments)},scrollParent:function(){var E;if((A.browser.msie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){E=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(A.curCSS(this,"position",1))&&(/(auto|scroll)/).test(A.curCSS(this,"overflow",1)+A.curCSS(this,"overflow-y",1)+A.curCSS(this,"overflow-x",1))}).eq(0)}else{E=this.parents().filter(function(){return(/(auto|scroll)/).test(A.curCSS(this,"overflow",1)+A.curCSS(this,"overflow-y",1)+A.curCSS(this,"overflow-x",1))}).eq(0)}return(/fixed/).test(this.css("position"))||!E.length?A(document):E},zIndex:function(H){if(H!==D){return this.css("zIndex",H)}if(this.length){var F=A(this[0]),E,G;while(F.length&&F[0]!==document){E=F.css("position");if(E==="absolute"||E==="relative"||E==="fixed"){G=parseInt(F.css("zIndex"),10);if(!isNaN(G)&&G!==0){return G}}F=F.parent()}}return 0},disableSelection:function(){return this.bind((A.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(E){E.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});if(A.fn.jquery.substring(0,3)==="1.7"){A.each(["Width","Height"],function(G,E){var F=E==="Width"?["Left","Right"]:["Top","Bottom"],H=E.toLowerCase(),J={innerWidth:A.fn.innerWidth,innerHeight:A.fn.innerHeight,outerWidth:A.fn.outerWidth,outerHeight:A.fn.outerHeight};function I(M,L,K,N){A.each(F,function(){L-=parseFloat(A.curCSS(M,"padding"+this,true))||0;if(K){L-=parseFloat(A.curCSS(M,"border"+this+"Width",true))||0}if(N){L-=parseFloat(A.curCSS(M,"margin"+this,true))||0}});return L}A.fn["inner"+E]=function(K){if(K===D){return J["inner"+E].call(this)}return this.each(function(){A(this).css(H,I(this,K)+"px")})};A.fn["outer"+E]=function(K,L){if(typeof K!=="number"){return J["outer"+E].call(this,K)}return this.each(function(){A(this).css(H,I(this,K,true,L)+"px")})}})}function C(G,E){var J=G.nodeName.toLowerCase();if("area"===J){var I=G.parentNode,H=I.name,F;if(!G.href||!H||I.nodeName.toLowerCase()!=="map"){return false}F=A("img[usemap=#"+H+"]")[0];return !!F&&B(F)}return(/input|select|textarea|button|object/.test(J)?!G.disabled:"a"==J?G.href||E:E)&&B(G)}function B(E){return !A(E).parents().andSelf().filter(function(){return A.curCSS(this,"visibility")==="hidden"||A.expr.filters.hidden(this)}).length}A.extend(A.expr[":"],{data:A.expr.createPseudo?A.expr.createPseudo(function(E){return function(F){return !!A.data(F,E)}}):function(G,F,E){return !!A.data(G,E[3])},focusable:function(E){return C(E,!isNaN(A.attr(E,"tabindex")))},tabbable:function(G){var E=A.attr(G,"tabindex"),F=isNaN(E);return(F||E>=0)&&C(G,!F)}});A(function(){var E=document.body,F=E.appendChild(F=document.createElement("div"));F.offsetHeight;A.extend(F.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});A.support.minHeight=F.offsetHeight===100;A.support.selectstart="onselectstart" in F;E.removeChild(F).style.display="none"});if(!A.curCSS){A.curCSS=A.css}A.extend(A.ui,{plugin:{add:function(F,G,I){var H=A.ui[F].prototype;for(var E in I){H.plugins[E]=H.plugins[E]||[];H.plugins[E].push([G,I[E]])}},call:function(E,G,F){var I=E.plugins[G];if(!I||!E.element[0].parentNode){return }for(var H=0;H<I.length;H++){if(E.options[I[H][0]]){I[H][1].apply(E.element,F)}}}},contains:function(F,E){return document.compareDocumentPosition?F.compareDocumentPosition(E)&16:F!==E&&F.contains(E)},hasScroll:function(H,F){if(A(H).css("overflow")==="hidden"){return false}var E=(F&&F==="left")?"scrollLeft":"scrollTop",G=false;if(H[E]>0){return true}H[E]=1;G=(H[E]>0);H[E]=0;return G},isOverAxis:function(F,E,G){return(F>E)&&(F<(E+G))},isOver:function(J,F,I,H,E,G){return A.ui.isOverAxis(J,I,E)&&A.ui.isOverAxis(F,H,G)}})})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:internal-ajs-no-context-path', location = 'js-vendor/jquery/jquery-ui/jquery.ui.widget.js' */
/*
 * jQuery UI Widget 1.8.24
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */
(function(B,D){if(B.cleanData){var C=B.cleanData;B.cleanData=function(E){for(var F=0,G;(G=E[F])!=null;F++){try{B(G).triggerHandler("remove")}catch(H){}}C(E)}}else{var A=B.fn.remove;B.fn.remove=function(E,F){return this.each(function(){if(!F){if(!E||B.filter(E,[this]).length){B("*",this).add([this]).each(function(){try{B(this).triggerHandler("remove")}catch(G){}})}}return A.call(B(this),E,F)})}}B.widget=function(F,H,E){var G=F.split(".")[0],J;F=F.split(".")[1];J=G+"-"+F;if(!E){E=H;H=B.Widget}B.expr[":"][J]=function(K){return !!B.data(K,F)};B[G]=B[G]||{};B[G][F]=function(K,L){if(arguments.length){this._createWidget(K,L)}};var I=new H();I.options=B.extend(true,{},I.options);B[G][F].prototype=B.extend(true,I,{namespace:G,widgetName:F,widgetEventPrefix:B[G][F].prototype.widgetEventPrefix||F,widgetBaseClass:J},E);B.widget.bridge(F,B[G][F])};B.widget.bridge=function(F,E){B.fn[F]=function(I){var G=typeof I==="string",H=Array.prototype.slice.call(arguments,1),J=this;I=!G&&H.length?B.extend.apply(null,[true,I].concat(H)):I;if(G&&I.charAt(0)==="_"){return J}if(G){this.each(function(){var K=B.data(this,F),L=K&&B.isFunction(K[I])?K[I].apply(K,H):K;if(L!==K&&L!==D){J=L;return false}})}else{this.each(function(){var K=B.data(this,F);if(K){K.option(I||{})._init()}else{B.data(this,F,new E(I,this))}})}return J}};B.Widget=function(E,F){if(arguments.length){this._createWidget(E,F)}};B.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(F,G){B.data(G,this.widgetName,this);this.element=B(G);this.options=B.extend(true,{},this.options,this._getCreateOptions(),F);var E=this;this.element.bind("remove."+this.widgetName,function(){E.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return B.metadata&&B.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(F,G){var E=F;if(arguments.length===0){return B.extend({},this.options)}if(typeof F==="string"){if(G===D){return this.options[F]}E={};E[F]=G}this._setOptions(E);return this},_setOptions:function(F){var E=this;B.each(F,function(G,H){E._setOption(G,H)});return this},_setOption:function(E,F){this.options[E]=F;if(E==="disabled"){this.widget()[F?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",F)}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(E,F,G){var J,I,H=this.options[E];G=G||{};F=B.Event(F);F.type=(E===this.widgetEventPrefix?E:this.widgetEventPrefix+E).toLowerCase();F.target=this.element[0];I=F.originalEvent;if(I){for(J in I){if(!(J in F)){F[J]=I[J]}}}this.element.trigger(F,G);return !(B.isFunction(H)&&H.call(this.element[0],F,G)===false||F.isDefaultPrevented())}}})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:internal-ajs-no-context-path', location = 'js-vendor/jquery/jquery-ui/jquery.ui.mouse.js' */
/* THIS FILE HAS BEEN MODIFIED BY ATLASSIAN. Modified lines are marked below, search "ATLASSIAN" */
/*
 * jQuery UI Mouse 1.8.24
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */
(function(B,C){var A=false;B(document).mouseup(function(D){A=false});B.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var D=this;this.element.bind("mousedown."+this.widgetName,function(E){return D._mouseDown(E)}).bind("click."+this.widgetName,function(E){if(true===B.data(E.target,D.widgetName+".preventClickEvent")){B.removeData(E.target,D.widgetName+".preventClickEvent");E.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);if(this._mouseMoveDelegate){B(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)}},_mouseDown:function(F){if(A){return }(this._mouseStarted&&this._mouseUp(F));this._mouseDownEvent=F;var E=this,G=(F.which==1),D=(typeof this.options.cancel=="string"&&F.target.nodeName?B(F.target).closest(this.options.cancel).length:false);if(!G||D||!this._mouseCapture(F)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){E.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(F)&&this._mouseDelayMet(F)){this._mouseStarted=(this._mouseStart(F)!==false);if(!this._mouseStarted){F.preventDefault();return true}}if(true===B.data(F.target,this.widgetName+".preventClickEvent")){B.removeData(F.target,this.widgetName+".preventClickEvent")}this._mouseMoveDelegate=function(H){return E._mouseMove(H)};this._mouseUpDelegate=function(H){return E._mouseUp(H)};B(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);F.preventDefault();A=true;return true},_mouseMove:function(D){if(this._mouseMoved){if(B.ui.ie&&(!document.documentMode||document.documentMode<9)&&!D.button){return this._mouseUp(D)}else{if(!D.which){return this._mouseUp(D)}}}if(D.which||D.button){this._mouseMoved=true}if(this._mouseStarted){this._mouseDrag(D);return D.preventDefault()}if(this._mouseDistanceMet(D)&&this._mouseDelayMet(D)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,D)!==false);(this._mouseStarted?this._mouseDrag(D):this._mouseUp(D))}return !this._mouseStarted},_mouseUp:function(D){B(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(D.target==this._mouseDownEvent.target){B.data(D.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(D)}return false},_mouseDistanceMet:function(D){return(Math.max(Math.abs(this._mouseDownEvent.pageX-D.pageX),Math.abs(this._mouseDownEvent.pageY-D.pageY))>=this.options.distance)},_mouseDelayMet:function(D){return this.mouseDelayMet},_mouseStart:function(D){},_mouseDrag:function(D){},_mouseStop:function(D){},_mouseCapture:function(D){return true}})})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:internal-ajs-no-context-path', location = 'js-vendor/jquery/jquery-ui/jquery.ui.draggable.js' */
/*
 * jQuery UI Draggable 1.8.24
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Draggables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
(function(A,B){A.widget("ui.draggable",A.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper=="original"&&!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative"}(this.options.addClasses&&this.element.addClass("ui-draggable"));(this.options.disabled&&this.element.addClass("ui-draggable-disabled"));this._mouseInit()},destroy:function(){if(!this.element.data("draggable")){return }this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();return this},_mouseCapture:function(C){var D=this.options;if(this.helper||D.disabled||A(C.target).is(".ui-resizable-handle")){return false}this.handle=this._getHandle(C);if(!this.handle){return false}if(D.iframeFix){A(D.iframeFix===true?"iframe":D.iframeFix).each(function(){A('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(A(this).offset()).appendTo("body")})}return true},_mouseStart:function(C){var D=this.options;this.helper=this._createHelper(C);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();if(A.ui.ddmanager){A.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};A.extend(this.offset,{click:{left:C.pageX-this.offset.left,top:C.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(C);this.originalPageX=C.pageX;this.originalPageY=C.pageY;(D.cursorAt&&this._adjustOffsetFromHelper(D.cursorAt));if(D.containment){this._setContainment()}if(this._trigger("start",C)===false){this._clear();return false}this._cacheHelperProportions();if(A.ui.ddmanager&&!D.dropBehaviour){A.ui.ddmanager.prepareOffsets(this,C)}this._mouseDrag(C,true);if(A.ui.ddmanager){A.ui.ddmanager.dragStart(this,C)}return true},_mouseDrag:function(C,E){this.position=this._generatePosition(C);this.positionAbs=this._convertPositionTo("absolute");if(!E){var D=this._uiHash();if(this._trigger("drag",C,D)===false){this._mouseUp({});return false}this.position=D.position}if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}if(A.ui.ddmanager){A.ui.ddmanager.drag(this,C)}return false},_mouseStop:function(E){var G=false;if(A.ui.ddmanager&&!this.options.dropBehaviour){G=A.ui.ddmanager.drop(this,E)}if(this.dropped){G=this.dropped;this.dropped=false}var D=this.element[0],F=false;while(D&&(D=D.parentNode)){if(D==document){F=true}}if(!F&&this.options.helper==="original"){return false}if((this.options.revert=="invalid"&&!G)||(this.options.revert=="valid"&&G)||this.options.revert===true||(A.isFunction(this.options.revert)&&this.options.revert.call(this.element,G))){var C=this;A(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(C._trigger("stop",E)!==false){C._clear()}})}else{if(this._trigger("stop",E)!==false){this._clear()}}return false},_mouseUp:function(C){A("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});if(A.ui.ddmanager){A.ui.ddmanager.dragStop(this,C)}return A.ui.mouse.prototype._mouseUp.call(this,C)},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({})}else{this._clear()}return this},_getHandle:function(C){var D=!this.options.handle||!A(this.options.handle,this.element).length?true:false;A(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==C.target){D=true}});return D},_createHelper:function(D){var E=this.options;var C=A.isFunction(E.helper)?A(E.helper.apply(this.element[0],[D])):(E.helper=="clone"?this.element.clone().removeAttr("id"):this.element);if(!C.parents("body").length){C.appendTo((E.appendTo=="parent"?this.element[0].parentNode:E.appendTo))}if(C[0]!=this.element[0]&&!(/(fixed|absolute)/).test(C.css("position"))){C.css("position","absolute")}return C},_adjustOffsetFromHelper:function(C){if(typeof C=="string"){C=C.split(" ")}if(A.isArray(C)){C={left:+C[0],top:+C[1]||0}}if("left" in C){this.offset.click.left=C.left+this.margins.left}if("right" in C){this.offset.click.left=this.helperProportions.width-C.right+this.margins.left}if("top" in C){this.offset.click.top=C.top+this.margins.top}if("bottom" in C){this.offset.click.top=this.helperProportions.height-C.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var C=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&A.ui.contains(this.scrollParent[0],this.offsetParent[0])){C.left+=this.scrollParent.scrollLeft();C.top+=this.scrollParent.scrollTop()}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&A.browser.msie)){C={top:0,left:0}}return{top:C.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:C.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var C=this.element.position();return{top:C.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:C.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0),right:(parseInt(this.element.css("marginRight"),10)||0),bottom:(parseInt(this.element.css("marginBottom"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var F=this.options;if(F.containment=="parent"){F.containment=this.helper[0].parentNode}if(F.containment=="document"||F.containment=="window"){this.containment=[F.containment=="document"?0:A(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,F.containment=="document"?0:A(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(F.containment=="document"?0:A(window).scrollLeft())+A(F.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(F.containment=="document"?0:A(window).scrollTop())+(A(F.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(F.containment)&&F.containment.constructor!=Array){var G=A(F.containment);var D=G[0];if(!D){return }var E=G.offset();var C=(A(D).css("overflow")!="hidden");this.containment=[(parseInt(A(D).css("borderLeftWidth"),10)||0)+(parseInt(A(D).css("paddingLeft"),10)||0),(parseInt(A(D).css("borderTopWidth"),10)||0)+(parseInt(A(D).css("paddingTop"),10)||0),(C?Math.max(D.scrollWidth,D.offsetWidth):D.offsetWidth)-(parseInt(A(D).css("borderLeftWidth"),10)||0)-(parseInt(A(D).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(C?Math.max(D.scrollHeight,D.offsetHeight):D.offsetHeight)-(parseInt(A(D).css("borderTopWidth"),10)||0)-(parseInt(A(D).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=G}else{if(F.containment.constructor==Array){this.containment=F.containment}}},_convertPositionTo:function(F,H){if(!H){H=this.position}var D=F=="absolute"?1:-1;var E=this.options,C=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&A.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,G=(/(html|body)/i).test(C[0].tagName);return{top:(H.top+this.offset.relative.top*D+this.offset.parent.top*D-(A.browser.safari&&A.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(G?0:C.scrollTop()))*D)),left:(H.left+this.offset.relative.left*D+this.offset.parent.left*D-(A.browser.safari&&A.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():G?0:C.scrollLeft())*D))}},_generatePosition:function(D){var E=this.options,L=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&A.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,I=(/(html|body)/i).test(L[0].tagName);var H=D.pageX;var G=D.pageY;if(this.originalPosition){var C;if(this.containment){if(this.relative_container){var K=this.relative_container.offset();C=[this.containment[0]+K.left,this.containment[1]+K.top,this.containment[2]+K.left,this.containment[3]+K.top]}else{C=this.containment}if(D.pageX-this.offset.click.left<C[0]){H=C[0]+this.offset.click.left}if(D.pageY-this.offset.click.top<C[1]){G=C[1]+this.offset.click.top}if(D.pageX-this.offset.click.left>C[2]){H=C[2]+this.offset.click.left}if(D.pageY-this.offset.click.top>C[3]){G=C[3]+this.offset.click.top}}if(E.grid){var J=E.grid[1]?this.originalPageY+Math.round((G-this.originalPageY)/E.grid[1])*E.grid[1]:this.originalPageY;G=C?(!(J-this.offset.click.top<C[1]||J-this.offset.click.top>C[3])?J:(!(J-this.offset.click.top<C[1])?J-E.grid[1]:J+E.grid[1])):J;var F=E.grid[0]?this.originalPageX+Math.round((H-this.originalPageX)/E.grid[0])*E.grid[0]:this.originalPageX;H=C?(!(F-this.offset.click.left<C[0]||F-this.offset.click.left>C[2])?F:(!(F-this.offset.click.left<C[0])?F-E.grid[0]:F+E.grid[0])):F}}return{top:(G-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(A.browser.safari&&A.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(I?0:L.scrollTop())))),left:(H-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(A.browser.safari&&A.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():I?0:L.scrollLeft())))}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false},_trigger:function(C,D,E){E=E||this._uiHash();A.ui.plugin.call(this,C,[D,E]);if(C=="drag"){this.positionAbs=this._convertPositionTo("absolute")}return A.Widget.prototype._trigger.call(this,C,D,E)},plugins:{},_uiHash:function(C){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});A.extend(A.ui.draggable,{version:"1.8.24"});A.ui.plugin.add("draggable","connectToSortable",{start:function(D,F){var E=A(this).data("draggable"),G=E.options,C=A.extend({},F,{item:E.element});E.sortables=[];A(G.connectToSortable).each(function(){var H=A.data(this,"sortable");if(H&&!H.options.disabled){E.sortables.push({instance:H,shouldRevert:H.options.revert});H.refreshPositions();H._trigger("activate",D,C)}})},stop:function(D,F){var E=A(this).data("draggable"),C=A.extend({},F,{item:E.element});A.each(E.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;E.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=true}this.instance._mouseStop(D);this.instance.options.helper=this.instance.options._helper;if(E.options.helper=="original"){this.instance.currentItem.css({top:"auto",left:"auto"})}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",D,C)}})},drag:function(D,G){var F=A(this).data("draggable"),C=this;var E=function(J){var O=this.offset.click.top,N=this.offset.click.left;var H=this.positionAbs.top,L=this.positionAbs.left;var K=J.height,M=J.width;var P=J.top,I=J.left;return A.ui.isOver(H+O,L+N,P,I,K,M)};A.each(F.sortables,function(H){this.instance.positionAbs=F.positionAbs;this.instance.helperProportions=F.helperProportions;this.instance.offset.click=F.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=A(C).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return G.helper[0]};D.target=this.instance.currentItem[0];this.instance._mouseCapture(D,true);this.instance._mouseStart(D,true,true);this.instance.offset.click.top=F.offset.click.top;this.instance.offset.click.left=F.offset.click.left;this.instance.offset.parent.left-=F.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=F.offset.parent.top-this.instance.offset.parent.top;F._trigger("toSortable",D);F.dropped=this.instance.element;F.currentItem=F.element;this.instance.fromOutside=F}if(this.instance.currentItem){this.instance._mouseDrag(D)}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",D,this.instance._uiHash(this.instance));this.instance._mouseStop(D,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove()}F._trigger("fromSortable",D);F.dropped=false}}})}});A.ui.plugin.add("draggable","cursor",{start:function(D,E){var C=A("body"),F=A(this).data("draggable").options;if(C.css("cursor")){F._cursor=C.css("cursor")}C.css("cursor",F.cursor)},stop:function(C,D){var E=A(this).data("draggable").options;if(E._cursor){A("body").css("cursor",E._cursor)}}});A.ui.plugin.add("draggable","opacity",{start:function(D,E){var C=A(E.helper),F=A(this).data("draggable").options;if(C.css("opacity")){F._opacity=C.css("opacity")}C.css("opacity",F.opacity)},stop:function(C,D){var E=A(this).data("draggable").options;if(E._opacity){A(D.helper).css("opacity",E._opacity)}}});A.ui.plugin.add("draggable","scroll",{start:function(D,E){var C=A(this).data("draggable");if(C.scrollParent[0]!=document&&C.scrollParent[0].tagName!="HTML"){C.overflowOffset=C.scrollParent.offset()}},drag:function(E,F){var D=A(this).data("draggable"),G=D.options,C=false;if(D.scrollParent[0]!=document&&D.scrollParent[0].tagName!="HTML"){if(!G.axis||G.axis!="x"){if((D.overflowOffset.top+D.scrollParent[0].offsetHeight)-E.pageY<G.scrollSensitivity){D.scrollParent[0].scrollTop=C=D.scrollParent[0].scrollTop+G.scrollSpeed}else{if(E.pageY-D.overflowOffset.top<G.scrollSensitivity){D.scrollParent[0].scrollTop=C=D.scrollParent[0].scrollTop-G.scrollSpeed}}}if(!G.axis||G.axis!="y"){if((D.overflowOffset.left+D.scrollParent[0].offsetWidth)-E.pageX<G.scrollSensitivity){D.scrollParent[0].scrollLeft=C=D.scrollParent[0].scrollLeft+G.scrollSpeed}else{if(E.pageX-D.overflowOffset.left<G.scrollSensitivity){D.scrollParent[0].scrollLeft=C=D.scrollParent[0].scrollLeft-G.scrollSpeed}}}}else{if(!G.axis||G.axis!="x"){if(E.pageY-A(document).scrollTop()<G.scrollSensitivity){C=A(document).scrollTop(A(document).scrollTop()-G.scrollSpeed)}else{if(A(window).height()-(E.pageY-A(document).scrollTop())<G.scrollSensitivity){C=A(document).scrollTop(A(document).scrollTop()+G.scrollSpeed)}}}if(!G.axis||G.axis!="y"){if(E.pageX-A(document).scrollLeft()<G.scrollSensitivity){C=A(document).scrollLeft(A(document).scrollLeft()-G.scrollSpeed)}else{if(A(window).width()-(E.pageX-A(document).scrollLeft())<G.scrollSensitivity){C=A(document).scrollLeft(A(document).scrollLeft()+G.scrollSpeed)}}}}if(C!==false&&A.ui.ddmanager&&!G.dropBehaviour){A.ui.ddmanager.prepareOffsets(D,E)}}});A.ui.plugin.add("draggable","snap",{start:function(D,E){var C=A(this).data("draggable"),F=C.options;C.snapElements=[];A(F.snap.constructor!=String?(F.snap.items||":data(draggable)"):F.snap).each(function(){var H=A(this);var G=H.offset();if(this!=C.element[0]){C.snapElements.push({item:this,width:H.outerWidth(),height:H.outerHeight(),top:G.top,left:G.left})}})},drag:function(O,L){var F=A(this).data("draggable"),M=F.options;var S=M.snapTolerance;var R=L.offset.left,Q=R+F.helperProportions.width,E=L.offset.top,D=E+F.helperProportions.height;for(var P=F.snapElements.length-1;P>=0;P--){var N=F.snapElements[P].left,K=N+F.snapElements[P].width,J=F.snapElements[P].top,U=J+F.snapElements[P].height;if(!((N-S<R&&R<K+S&&J-S<E&&E<U+S)||(N-S<R&&R<K+S&&J-S<D&&D<U+S)||(N-S<Q&&Q<K+S&&J-S<E&&E<U+S)||(N-S<Q&&Q<K+S&&J-S<D&&D<U+S))){if(F.snapElements[P].snapping){(F.options.snap.release&&F.options.snap.release.call(F.element,O,A.extend(F._uiHash(),{snapItem:F.snapElements[P].item})))}F.snapElements[P].snapping=false;continue}if(M.snapMode!="inner"){var C=Math.abs(J-D)<=S;var T=Math.abs(U-E)<=S;var H=Math.abs(N-Q)<=S;var I=Math.abs(K-R)<=S;if(C){L.position.top=F._convertPositionTo("relative",{top:J-F.helperProportions.height,left:0}).top-F.margins.top}if(T){L.position.top=F._convertPositionTo("relative",{top:U,left:0}).top-F.margins.top}if(H){L.position.left=F._convertPositionTo("relative",{top:0,left:N-F.helperProportions.width}).left-F.margins.left}if(I){L.position.left=F._convertPositionTo("relative",{top:0,left:K}).left-F.margins.left}}var G=(C||T||H||I);if(M.snapMode!="outer"){var C=Math.abs(J-E)<=S;var T=Math.abs(U-D)<=S;var H=Math.abs(N-R)<=S;var I=Math.abs(K-Q)<=S;if(C){L.position.top=F._convertPositionTo("relative",{top:J,left:0}).top-F.margins.top}if(T){L.position.top=F._convertPositionTo("relative",{top:U-F.helperProportions.height,left:0}).top-F.margins.top}if(H){L.position.left=F._convertPositionTo("relative",{top:0,left:N}).left-F.margins.left}if(I){L.position.left=F._convertPositionTo("relative",{top:0,left:K-F.helperProportions.width}).left-F.margins.left}}if(!F.snapElements[P].snapping&&(C||T||H||I||G)){(F.options.snap.snap&&F.options.snap.snap.call(F.element,O,A.extend(F._uiHash(),{snapItem:F.snapElements[P].item})))}F.snapElements[P].snapping=(C||T||H||I||G)}}});A.ui.plugin.add("draggable","stack",{start:function(D,E){var G=A(this).data("draggable").options;var F=A.makeArray(A(G.stack)).sort(function(I,H){return(parseInt(A(I).css("zIndex"),10)||0)-(parseInt(A(H).css("zIndex"),10)||0)});if(!F.length){return }var C=parseInt(F[0].style.zIndex)||0;A(F).each(function(H){this.style.zIndex=C+H});this[0].style.zIndex=C+F.length}});A.ui.plugin.add("draggable","zIndex",{start:function(D,E){var C=A(E.helper),F=A(this).data("draggable").options;if(C.css("zIndex")){F._zIndex=C.css("zIndex")}C.css("zIndex",F.zIndex)},stop:function(C,D){var E=A(this).data("draggable").options;if(E._zIndex){A(D.helper).css("zIndex",E._zIndex)}}})})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:internal-ajs-no-context-path', location = 'js-vendor/jquery/jquery-ui/jquery.ui.sortable.js' */
/*
 * jQuery UI Sortable 1.8.24
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Sortables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
(function(A,B){A.widget("ui.sortable",A.ui.mouse,{widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000},_create:function(){var C=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?C.axis==="x"||(/left|right/).test(this.items[0].item.css("float"))||(/inline|table-cell/).test(this.items[0].item.css("display")):false;this.offset=this.element.offset();this._mouseInit();this.ready=true},destroy:function(){A.Widget.prototype.destroy.call(this);this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var C=this.items.length-1;C>=0;C--){this.items[C].item.removeData(this.widgetName+"-item")}return this},_setOption:function(C,D){if(C==="disabled"){this.options[C]=D;this.widget()[D?"addClass":"removeClass"]("ui-sortable-disabled")}else{A.Widget.prototype._setOption.apply(this,arguments)}},_mouseCapture:function(G,H){var F=this;if(this.reverting){return false}if(this.options.disabled||this.options.type=="static"){return false}this._refreshItems(G);var E=null,D=this,C=A(G.target).parents().each(function(){if(A.data(this,F.widgetName+"-item")==D){E=A(this);return false}});if(A.data(G.target,F.widgetName+"-item")==D){E=A(G.target)}if(!E){return false}if(this.options.handle&&!H){var I=false;A(this.options.handle,E).find("*").andSelf().each(function(){if(this==G.target){I=true}});if(!I){return false}}this.currentItem=E;this._removeCurrentsFromItems();return true},_mouseStart:function(F,G,C){var H=this.options,D=this;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(F);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};A.extend(this.offset,{click:{left:F.pageX-this.offset.left,top:F.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(F);this.originalPageX=F.pageX;this.originalPageY=F.pageY;(H.cursorAt&&this._adjustOffsetFromHelper(H.cursorAt));this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!=this.currentItem[0]){this.currentItem.hide()}this._createPlaceholder();if(H.containment){this._setContainment()}if(H.cursor){if(A("body").css("cursor")){this._storedCursor=A("body").css("cursor")}A("body").css("cursor",H.cursor)}if(H.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity")}this.helper.css("opacity",H.opacity)}if(H.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex")}this.helper.css("zIndex",H.zIndex)}if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){this.overflowOffset=this.scrollParent.offset()}this._trigger("start",F,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions()}if(!C){for(var E=this.containers.length-1;E>=0;E--){this.containers[E]._trigger("activate",F,D._uiHash(this))}}if(A.ui.ddmanager){A.ui.ddmanager.current=this}if(A.ui.ddmanager&&!H.dropBehaviour){A.ui.ddmanager.prepareOffsets(this,F)}this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(F);return true},_mouseDrag:function(G){this.position=this._generatePosition(G);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){var H=this.options,C=false;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if((this.overflowOffset.top+this.scrollParent[0].offsetHeight)-G.pageY<H.scrollSensitivity){this.scrollParent[0].scrollTop=C=this.scrollParent[0].scrollTop+H.scrollSpeed}else{if(G.pageY-this.overflowOffset.top<H.scrollSensitivity){this.scrollParent[0].scrollTop=C=this.scrollParent[0].scrollTop-H.scrollSpeed}}if((this.overflowOffset.left+this.scrollParent[0].offsetWidth)-G.pageX<H.scrollSensitivity){this.scrollParent[0].scrollLeft=C=this.scrollParent[0].scrollLeft+H.scrollSpeed}else{if(G.pageX-this.overflowOffset.left<H.scrollSensitivity){this.scrollParent[0].scrollLeft=C=this.scrollParent[0].scrollLeft-H.scrollSpeed}}}else{if(G.pageY-A(document).scrollTop()<H.scrollSensitivity){C=A(document).scrollTop(A(document).scrollTop()-H.scrollSpeed)}else{if(A(window).height()-(G.pageY-A(document).scrollTop())<H.scrollSensitivity){C=A(document).scrollTop(A(document).scrollTop()+H.scrollSpeed)}}if(G.pageX-A(document).scrollLeft()<H.scrollSensitivity){C=A(document).scrollLeft(A(document).scrollLeft()-H.scrollSpeed)}else{if(A(window).width()-(G.pageX-A(document).scrollLeft())<H.scrollSensitivity){C=A(document).scrollLeft(A(document).scrollLeft()+H.scrollSpeed)}}}if(C!==false&&A.ui.ddmanager&&!H.dropBehaviour){A.ui.ddmanager.prepareOffsets(this,G)}}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}for(var E=this.items.length-1;E>=0;E--){var F=this.items[E],D=F.item[0],I=this._intersectsWithPointer(F);if(!I){continue}if(F.instance!==this.currentContainer){continue}if(D!=this.currentItem[0]&&this.placeholder[I==1?"next":"prev"]()[0]!=D&&!A.ui.contains(this.placeholder[0],D)&&(this.options.type=="semi-dynamic"?!A.ui.contains(this.element[0],D):true)){this.direction=I==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(F)){this._rearrange(G,F)}else{break}this._trigger("change",G,this._uiHash());break}}this._contactContainers(G);if(A.ui.ddmanager){A.ui.ddmanager.drag(this,G)}this._trigger("sort",G,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(D,E){if(!D){return }if(A.ui.ddmanager&&!this.options.dropBehaviour){A.ui.ddmanager.drop(this,D)}if(this.options.revert){var C=this;var F=C.placeholder.offset();C.reverting=true;A(this.helper).animate({left:F.left-this.offset.parent.left-C.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:F.top-this.offset.parent.top-C.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){C._clear(D)})}else{this._clear(D,E)}return false},cancel:function(){var C=this;if(this.dragging){this._mouseUp({target:null});if(this.options.helper=="original"){this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}for(var D=this.containers.length-1;D>=0;D--){this.containers[D]._trigger("deactivate",null,C._uiHash(this));if(this.containers[D].containerCache.over){this.containers[D]._trigger("out",null,C._uiHash(this));this.containers[D].containerCache.over=0}}}if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0])}if(this.options.helper!="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove()}A.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){A(this.domPosition.prev).after(this.currentItem)}else{A(this.domPosition.parent).prepend(this.currentItem)}}return this},serialize:function(E){var C=this._getItemsAsjQuery(E&&E.connected);var D=[];E=E||{};A(C).each(function(){var F=(A(E.item||this).attr(E.attribute||"id")||"").match(E.expression||(/(.+)[-=_](.+)/));if(F){D.push((E.key||F[1]+"[]")+"="+(E.key&&E.expression?F[1]:F[2]))}});if(!D.length&&E.key){D.push(E.key+"=")}return D.join("&")},toArray:function(E){var C=this._getItemsAsjQuery(E&&E.connected);var D=[];E=E||{};C.each(function(){D.push(A(E.item||this).attr(E.attribute||"id")||"")});return D},_intersectsWith:function(L){var E=this.positionAbs.left,D=E+this.helperProportions.width,K=this.positionAbs.top,J=K+this.helperProportions.height;var F=L.left,C=F+L.width,M=L.top,I=M+L.height;var N=this.offset.click.top,H=this.offset.click.left;var G=(K+N)>M&&(K+N)<I&&(E+H)>F&&(E+H)<C;if(this.options.tolerance=="pointer"||this.options.forcePointerForContainers||(this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>L[this.floating?"width":"height"])){return G}else{return(F<E+(this.helperProportions.width/2)&&D-(this.helperProportions.width/2)<C&&M<K+(this.helperProportions.height/2)&&J-(this.helperProportions.height/2)<I)}},_intersectsWithPointer:function(E){var F=(this.options.axis==="x")||A.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,E.top,E.height),D=(this.options.axis==="y")||A.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,E.left,E.width),H=F&&D,C=this._getDragVerticalDirection(),G=this._getDragHorizontalDirection();if(!H){return false}return this.floating?(((G&&G=="right")||C=="down")?2:1):(C&&(C=="down"?2:1))},_intersectsWithSides:function(F){var D=A.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,F.top+(F.height/2),F.height),E=A.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,F.left+(F.width/2),F.width),C=this._getDragVerticalDirection(),G=this._getDragHorizontalDirection();if(this.floating&&G){return((G=="right"&&E)||(G=="left"&&!E))}else{return C&&((C=="down"&&D)||(C=="up"&&!D))}},_getDragVerticalDirection:function(){var C=this.positionAbs.top-this.lastPositionAbs.top;return C!=0&&(C>0?"down":"up")},_getDragHorizontalDirection:function(){var C=this.positionAbs.left-this.lastPositionAbs.left;return C!=0&&(C>0?"right":"left")},refresh:function(C){this._refreshItems(C);this.refreshPositions();return this},_connectWith:function(){var C=this.options;return C.connectWith.constructor==String?[C.connectWith]:C.connectWith},_getItemsAsjQuery:function(C){var K=this;var H=[];var F=[];var I=this._connectWith();if(I&&C){for(var E=I.length-1;E>=0;E--){var J=A(I[E]);for(var D=J.length-1;D>=0;D--){var G=A.data(J[D],this.widgetName);if(G&&G!=this&&!G.options.disabled){F.push([A.isFunction(G.options.items)?G.options.items.call(G.element):A(G.options.items,G.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),G])}}}}F.push([A.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):A(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var E=F.length-1;E>=0;E--){F[E][0].each(function(){H.push(this)})}return A(H)},_removeCurrentsFromItems:function(){var E=this.currentItem.find(":data("+this.widgetName+"-item)");for(var D=0;D<this.items.length;D++){for(var C=0;C<E.length;C++){if(E[C]==this.items[D].item[0]){this.items.splice(D,1)}}}},_refreshItems:function(C){this.items=[];this.containers=[this];var I=this.items;var O=this;var G=[[A.isFunction(this.options.items)?this.options.items.call(this.element[0],C,{item:this.currentItem}):A(this.options.items,this.element),this]];var K=this._connectWith();if(K&&this.ready){for(var F=K.length-1;F>=0;F--){var L=A(K[F]);for(var E=L.length-1;E>=0;E--){var H=A.data(L[E],this.widgetName);if(H&&H!=this&&!H.options.disabled){G.push([A.isFunction(H.options.items)?H.options.items.call(H.element[0],C,{item:this.currentItem}):A(H.options.items,H.element),H]);this.containers.push(H)}}}}for(var F=G.length-1;F>=0;F--){var J=G[F][1];var D=G[F][0];for(var E=0,M=D.length;E<M;E++){var N=A(D[E]);N.data(this.widgetName+"-item",J);I.push({item:N,instance:J,width:0,height:0,left:0,top:0})}}},refreshPositions:function(C){if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}for(var E=this.items.length-1;E>=0;E--){var F=this.items[E];if(F.instance!=this.currentContainer&&this.currentContainer&&F.item[0]!=this.currentItem[0]){continue}var D=this.options.toleranceElement?A(this.options.toleranceElement,F.item):F.item;if(!C){F.width=D.outerWidth();F.height=D.outerHeight()}var G=D.offset();F.left=G.left;F.top=G.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(var E=this.containers.length-1;E>=0;E--){var G=this.containers[E].element.offset();this.containers[E].containerCache.left=G.left;this.containers[E].containerCache.top=G.top;this.containers[E].containerCache.width=this.containers[E].element.outerWidth();this.containers[E].containerCache.height=this.containers[E].element.outerHeight()}}return this},_createPlaceholder:function(E){var C=E||this,F=C.options;if(!F.placeholder||F.placeholder.constructor==String){var D=F.placeholder;F.placeholder={element:function(){var G=A(document.createElement(C.currentItem[0].nodeName)).addClass(D||C.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];if(!D){G.style.visibility="hidden"}return G},update:function(G,H){if(D&&!F.forcePlaceholderSize){return }if(!H.height()){H.height(C.currentItem.innerHeight()-parseInt(C.currentItem.css("paddingTop")||0,10)-parseInt(C.currentItem.css("paddingBottom")||0,10))}if(!H.width()){H.width(C.currentItem.innerWidth()-parseInt(C.currentItem.css("paddingLeft")||0,10)-parseInt(C.currentItem.css("paddingRight")||0,10))}}}}C.placeholder=A(F.placeholder.element.call(C.element,C.currentItem));C.currentItem.after(C.placeholder);F.placeholder.update(C,C.placeholder)},_contactContainers:function(C){var E=null,J=null;for(var G=this.containers.length-1;G>=0;G--){if(A.ui.contains(this.currentItem[0],this.containers[G].element[0])){continue}if(this._intersectsWith(this.containers[G].containerCache)){if(E&&A.ui.contains(this.containers[G].element[0],E.element[0])){continue}E=this.containers[G];J=G}else{if(this.containers[G].containerCache.over){this.containers[G]._trigger("out",C,this._uiHash(this));this.containers[G].containerCache.over=0}}}if(!E){return }if(this.containers.length===1){this.containers[J]._trigger("over",C,this._uiHash(this));this.containers[J].containerCache.over=1}else{if(this.currentContainer!=this.containers[J]){var I=10000;var H=null;var D=this.positionAbs[this.containers[J].floating?"left":"top"];for(var F=this.items.length-1;F>=0;F--){if(!A.ui.contains(this.containers[J].element[0],this.items[F].item[0])){continue}var K=this.containers[J].floating?this.items[F].item.offset().left:this.items[F].item.offset().top;if(Math.abs(K-D)<I){I=Math.abs(K-D);H=this.items[F];this.direction=(K-D>0)?"down":"up"}}if(!H&&!this.options.dropOnEmpty){return }this.currentContainer=this.containers[J];H?this._rearrange(C,H,null,true):this._rearrange(C,null,this.containers[J].element,true);this._trigger("change",C,this._uiHash());this.containers[J]._trigger("change",C,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[J]._trigger("over",C,this._uiHash(this));this.containers[J].containerCache.over=1}}},_createHelper:function(D){var E=this.options;var C=A.isFunction(E.helper)?A(E.helper.apply(this.element[0],[D,this.currentItem])):(E.helper=="clone"?this.currentItem.clone():this.currentItem);if(!C.parents("body").length){A(E.appendTo!="parent"?E.appendTo:this.currentItem[0].parentNode)[0].appendChild(C[0])}if(C[0]==this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}}if(C[0].style.width==""||E.forceHelperSize){C.width(this.currentItem.width())}if(C[0].style.height==""||E.forceHelperSize){C.height(this.currentItem.height())}return C},_adjustOffsetFromHelper:function(C){if(typeof C=="string"){C=C.split(" ")}if(A.isArray(C)){C={left:+C[0],top:+C[1]||0}}if("left" in C){this.offset.click.left=C.left+this.margins.left}if("right" in C){this.offset.click.left=this.helperProportions.width-C.right+this.margins.left}if("top" in C){this.offset.click.top=C.top+this.margins.top}if("bottom" in C){this.offset.click.top=this.helperProportions.height-C.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var C=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&A.ui.contains(this.scrollParent[0],this.offsetParent[0])){C.left+=this.scrollParent.scrollLeft();C.top+=this.scrollParent.scrollTop()}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&A.browser.msie)){C={top:0,left:0}}return{top:C.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:C.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var C=this.currentItem.position();return{top:C.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:C.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.currentItem.css("marginLeft"),10)||0),top:(parseInt(this.currentItem.css("marginTop"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var F=this.options;if(F.containment=="parent"){F.containment=this.helper[0].parentNode}if(F.containment=="document"||F.containment=="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,A(F.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(A(F.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(F.containment)){var D=A(F.containment)[0];var E=A(F.containment).offset();var C=(A(D).css("overflow")!="hidden");this.containment=[E.left+(parseInt(A(D).css("borderLeftWidth"),10)||0)+(parseInt(A(D).css("paddingLeft"),10)||0)-this.margins.left,E.top+(parseInt(A(D).css("borderTopWidth"),10)||0)+(parseInt(A(D).css("paddingTop"),10)||0)-this.margins.top,E.left+(C?Math.max(D.scrollWidth,D.offsetWidth):D.offsetWidth)-(parseInt(A(D).css("borderLeftWidth"),10)||0)-(parseInt(A(D).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,E.top+(C?Math.max(D.scrollHeight,D.offsetHeight):D.offsetHeight)-(parseInt(A(D).css("borderTopWidth"),10)||0)-(parseInt(A(D).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(F,H){if(!H){H=this.position}var D=F=="absolute"?1:-1;var E=this.options,C=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&A.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,G=(/(html|body)/i).test(C[0].tagName);return{top:(H.top+this.offset.relative.top*D+this.offset.parent.top*D-(A.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(G?0:C.scrollTop()))*D)),left:(H.left+this.offset.relative.left*D+this.offset.parent.left*D-(A.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():G?0:C.scrollLeft())*D))}},_generatePosition:function(F){var I=this.options,C=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&A.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,J=(/(html|body)/i).test(C[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}var E=F.pageX;var D=F.pageY;if(this.originalPosition){if(this.containment){if(F.pageX-this.offset.click.left<this.containment[0]){E=this.containment[0]+this.offset.click.left}if(F.pageY-this.offset.click.top<this.containment[1]){D=this.containment[1]+this.offset.click.top}if(F.pageX-this.offset.click.left>this.containment[2]){E=this.containment[2]+this.offset.click.left}if(F.pageY-this.offset.click.top>this.containment[3]){D=this.containment[3]+this.offset.click.top}}if(I.grid){var H=this.originalPageY+Math.round((D-this.originalPageY)/I.grid[1])*I.grid[1];D=this.containment?(!(H-this.offset.click.top<this.containment[1]||H-this.offset.click.top>this.containment[3])?H:(!(H-this.offset.click.top<this.containment[1])?H-I.grid[1]:H+I.grid[1])):H;var G=this.originalPageX+Math.round((E-this.originalPageX)/I.grid[0])*I.grid[0];E=this.containment?(!(G-this.offset.click.left<this.containment[0]||G-this.offset.click.left>this.containment[2])?G:(!(G-this.offset.click.left<this.containment[0])?G-I.grid[0]:G+I.grid[0])):G}}return{top:(D-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(A.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(J?0:C.scrollTop())))),left:(E-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(A.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():J?0:C.scrollLeft())))}},_rearrange:function(H,G,D,F){D?D[0].appendChild(this.placeholder[0]):G.item[0].parentNode.insertBefore(this.placeholder[0],(this.direction=="down"?G.item[0]:G.item[0].nextSibling));this.counter=this.counter?++this.counter:1;var E=this,C=this.counter;window.setTimeout(function(){if(C==E.counter){E.refreshPositions(!F)}},0)},_clear:function(E,F){this.reverting=false;var G=[],C=this;if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem)}this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var D in this._storedCSS){if(this._storedCSS[D]=="auto"||this._storedCSS[D]=="static"){this._storedCSS[D]=""}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}if(this.fromOutside&&!F){G.push(function(H){this._trigger("receive",H,this._uiHash(this.fromOutside))})}if((this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!F){G.push(function(H){this._trigger("update",H,this._uiHash())})}if(this!==this.currentContainer){if(!F){G.push(function(H){this._trigger("remove",H,this._uiHash())});G.push((function(H){return function(I){H._trigger("receive",I,this._uiHash(this))}}).call(this,this.currentContainer));G.push((function(H){return function(I){H._trigger("update",I,this._uiHash(this))}}).call(this,this.currentContainer))}}for(var D=this.containers.length-1;D>=0;D--){if(!F){G.push((function(H){return function(I){H._trigger("deactivate",I,this._uiHash(this))}}).call(this,this.containers[D]))}if(this.containers[D].containerCache.over){G.push((function(H){return function(I){H._trigger("out",I,this._uiHash(this))}}).call(this,this.containers[D]));this.containers[D].containerCache.over=0}}if(this._storedCursor){A("body").css("cursor",this._storedCursor)}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity)}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex)}this.dragging=false;if(this.cancelHelperRemoval){if(!F){this._trigger("beforeStop",E,this._uiHash());for(var D=0;D<G.length;D++){G[D].call(this,E)}this._trigger("stop",E,this._uiHash())}this.fromOutside=false;return false}if(!F){this._trigger("beforeStop",E,this._uiHash())}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(this.helper[0]!=this.currentItem[0]){this.helper.remove()}this.helper=null;if(!F){for(var D=0;D<G.length;D++){G[D].call(this,E)}this._trigger("stop",E,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){if(A.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel()}},_uiHash:function(D){var C=D||this;return{helper:C.helper,placeholder:C.placeholder||A([]),position:C.position,originalPosition:C.originalPosition,offset:C.positionAbs,item:C.currentItem,sender:D?D.element:null}}});A.extend(A.ui.sortable,{version:"1.8.24"})})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:internal-ajs-no-context-path', location = 'js-vendor/jquery/plugins/jquery.form.js' */
/*
 * jQuery Form Plugin
 * version: 2.67 (12-MAR-2011)
 * @requires jQuery v1.3.2 or later
 *
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 */
(function(B){B.fn.ajaxSubmit=function(Q){if(!this.length){A("ajaxSubmit: skipping submit process - no element selected");return this}if(typeof Q=="function"){Q={success:Q}}var H=this.attr("action");var D=(typeof H==="string")?B.trim(H):"";if(D){D=(D.match(/^([^#]+)/)||[])[1]}D=D||window.location.href||"";Q=B.extend(true,{url:D,type:this[0].getAttribute("method")||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},Q);var R={};this.trigger("form-pre-serialize",[this,Q,R]);if(R.veto){A("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(Q.beforeSerialize&&Q.beforeSerialize(this,Q)===false){A("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var F,N,L=this.formToArray(Q.semantic);if(Q.data){Q.extraData=Q.data;for(F in Q.data){if(Q.data[F] instanceof Array){for(var I in Q.data[F]){L.push({name:F,value:Q.data[F][I]})}}else{N=Q.data[F];N=B.isFunction(N)?N():N;L.push({name:F,value:N})}}}if(Q.beforeSubmit&&Q.beforeSubmit(L,this,Q)===false){A("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[L,this,Q,R]);if(R.veto){A("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var C=B.param(L);if(Q.type.toUpperCase()=="GET"){Q.url+=(Q.url.indexOf("?")>=0?"&":"?")+C;Q.data=null}else{Q.data=C}var P=this,K=[];if(Q.resetForm){K.push(function(){P.resetForm()})}if(Q.clearForm){K.push(function(){P.clearForm()})}if(!Q.dataType&&Q.target){var O=Q.success||function(){};K.push(function(T){var S=Q.replaceTarget?"replaceWith":"html";B(Q.target)[S](T).each(O,arguments)})}else{if(Q.success){K.push(Q.success)}}Q.success=function(W,T,X){var V=Q.context||Q;for(var U=0,S=K.length;U<S;U++){K[U].apply(V,[W,T,X||P,P])}};var G=B("input:file",this).length>0;var E="multipart/form-data";var J=(P.attr("enctype")==E||P.attr("encoding")==E);if(Q.iframe!==false&&(G||Q.iframe||J)){if(Q.closeKeepAlive){B.get(Q.closeKeepAlive,M)}else{M()}}else{B.ajax(Q)}this.trigger("form-submit-notify",[this,Q]);return this;function M(){var U=P[0];if(B(":input[name=submit],:input[id=submit]",U).length){alert('Error: Form elements must not have name or id of "submit".');return }var a=B.extend(true,{},B.ajaxSettings,Q);a.context=a.context||a;var d="jqFormIO"+(new Date().getTime()),Y="_"+d;var V=B('<iframe id="'+d+'" name="'+d+'" src="'+a.iframeSrc+'" />');var Z=V[0];V.css({position:"absolute",top:"-1000px",left:"-1000px"});var W={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(){A("aborting upload...");var g="aborted";this.aborted=1;V.attr("src",a.iframeSrc);W.error=g;a.error&&a.error.call(a.context,W,"error",g);i&&B.event.trigger("ajaxError",[W,a,g]);a.complete&&a.complete.call(a.context,W,"error")}};var i=a.global;if(i&&!B.active++){B.event.trigger("ajaxStart")}if(i){B.event.trigger("ajaxSend",[W,a])}if(a.beforeSend&&a.beforeSend.call(a.context,W,a)===false){if(a.global){B.active--}return }if(W.aborted){return }var h=0;var X=U.clk;if(X){var e=X.name;if(e&&!X.disabled){a.extraData=a.extraData||{};a.extraData[e]=X.value;if(X.type=="image"){a.extraData[e+".x"]=U.clk_x;a.extraData[e+".y"]=U.clk_y}}}function f(){var o=P.attr("target"),g=P.attr("action");U.setAttribute("target",d);if(U.getAttribute("method")!="POST"){U.setAttribute("method","POST")}if(U.getAttribute("action")!=a.url){U.setAttribute("action",a.url)}if(!a.skipEncodingOverride){P.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(a.timeout){setTimeout(function(){h=true;c()},a.timeout)}var m=[];try{if(a.extraData){for(var p in a.extraData){m.push(B('<input type="hidden" name="'+p+'" value="'+a.extraData[p]+'" />').appendTo(U)[0])}}V.appendTo("body");Z.attachEvent?Z.attachEvent("onload",c):Z.addEventListener("load",c,false);U.submit()}finally{U.setAttribute("action",g);if(o){U.setAttribute("target",o)}else{P.removeAttr("target")}B(m).remove()}}if(a.forceSync){f()}else{setTimeout(f,10)}var k,l,j=50;function c(){if(W.aborted){return }var r=Z.contentWindow?Z.contentWindow.document:Z.contentDocument?Z.contentDocument:Z.document;if(!r||r.location.href==a.iframeSrc){return }Z.detachEvent?Z.detachEvent("onload",c):Z.removeEventListener("load",c,false);var n=true;try{if(h){throw"timeout"}var s=a.dataType=="xml"||r.XMLDocument||B.isXMLDoc(r);A("isXml="+s);if(!s&&window.opera&&(r.body==null||r.body.innerHTML=="")){if(--j){A("requeing onLoad callback, DOM not available");setTimeout(c,250);return }}W.responseText=r.body?r.body.innerHTML:r.documentElement?r.documentElement.innerHTML:null;W.responseXML=r.XMLDocument?r.XMLDocument:r;W.getResponseHeader=function(u){var t={"content-type":a.dataType};return t[u]};var q=/(json|script)/.test(a.dataType);if(q||a.textarea){var m=r.getElementsByTagName("textarea")[0];if(m){W.responseText=m.value}else{if(q){var p=r.getElementsByTagName("pre")[0];var g=r.getElementsByTagName("body")[0];if(p){W.responseText=p.textContent}else{if(g){W.responseText=g.innerHTML}}}}}else{if(a.dataType=="xml"&&!W.responseXML&&W.responseText!=null){W.responseXML=b(W.responseText)}}k=S(W,a.dataType,a)}catch(o){A("error caught:",o);n=false;W.error=o;a.error&&a.error.call(a.context,W,"error",o);i&&B.event.trigger("ajaxError",[W,a,o])}if(W.aborted){A("upload aborted");n=false}if(n){a.success&&a.success.call(a.context,k,"success",W);i&&B.event.trigger("ajaxSuccess",[W,a])}i&&B.event.trigger("ajaxComplete",[W,a]);if(i&&!--B.active){B.event.trigger("ajaxStop")}a.complete&&a.complete.call(a.context,W,n?"success":"error");setTimeout(function(){V.removeData("form-plugin-onload");V.remove();W.responseXML=null},100)}var b=B.parseXML||function(g,m){if(window.ActiveXObject){m=new ActiveXObject("Microsoft.XMLDOM");m.async="false";m.loadXML(g)}else{m=(new DOMParser()).parseFromString(g,"text/xml")}return(m&&m.documentElement&&m.documentElement.nodeName!="parsererror")?m:null};var T=B.parseJSON||function(g){return window["eval"]("("+g+")")};var S=function(q,o,n){var m=q.getResponseHeader("content-type")||"",g=o==="xml"||!o&&m.indexOf("xml")>=0,p=g?q.responseXML:q.responseText;if(g&&p.documentElement.nodeName==="parsererror"){B.error&&B.error("parsererror")}if(n&&n.dataFilter){p=n.dataFilter(p,o)}if(typeof p==="string"){if(o==="json"||!o&&m.indexOf("json")>=0){p=T(p)}else{if(o==="script"||!o&&m.indexOf("javascript")>=0){B.globalEval(p)}}}return p}}};B.fn.ajaxForm=function(C){if(this.length===0){var D={s:this.selector,c:this.context};if(!B.isReady&&D.s){A("DOM not ready, queuing ajaxForm");B(function(){B(D.s,D.c).ajaxForm(C)});return this}A("terminating; zero elements found by selector"+(B.isReady?"":" (DOM not ready)"));return this}return this.ajaxFormUnbind().bind("submit.form-plugin",function(E){if(!E.isDefaultPrevented()){E.preventDefault();B(this).ajaxSubmit(C)}}).bind("click.form-plugin",function(I){var H=I.target;var F=B(H);if(!(F.is(":submit,input:image"))){var E=F.closest(":submit");if(E.length==0){return }H=E[0]}var G=this;G.clk=H;if(H.type=="image"){if(I.offsetX!=undefined){G.clk_x=I.offsetX;G.clk_y=I.offsetY}else{if(typeof B.fn.offset=="function"){var J=F.offset();G.clk_x=I.pageX-J.left;G.clk_y=I.pageY-J.top}else{G.clk_x=I.pageX-H.offsetLeft;G.clk_y=I.pageY-H.offsetTop}}}setTimeout(function(){G.clk=G.clk_x=G.clk_y=null},100)})};B.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};B.fn.formToArray=function(N){var M=[];if(this.length===0){return M}var D=this[0];var G=N?D.getElementsByTagName("*"):D.elements;if(!G){return M}var I,H,F,O,E,K,C;for(I=0,K=G.length;I<K;I++){E=G[I];F=E.name;if(!F){continue}if(N&&D.clk&&E.type=="image"){if(!E.disabled&&D.clk==E){M.push({name:F,value:B(E).val()});M.push({name:F+".x",value:D.clk_x},{name:F+".y",value:D.clk_y})}continue}O=B.fieldValue(E,true);if(O&&O.constructor==Array){for(H=0,C=O.length;H<C;H++){M.push({name:F,value:O[H]})}}else{if(O!==null&&typeof O!="undefined"){M.push({name:F,value:O})}}}if(!N&&D.clk){var J=B(D.clk),L=J[0];F=L.name;if(F&&!L.disabled&&L.type=="image"){M.push({name:F,value:J.val()});M.push({name:F+".x",value:D.clk_x},{name:F+".y",value:D.clk_y})}}return M};B.fn.formSerialize=function(C){return B.param(this.formToArray(C))};B.fn.fieldSerialize=function(D){var C=[];this.each(function(){var H=this.name;if(!H){return }var F=B.fieldValue(this,D);if(F&&F.constructor==Array){for(var G=0,E=F.length;G<E;G++){C.push({name:H,value:F[G]})}}else{if(F!==null&&typeof F!="undefined"){C.push({name:this.name,value:F})}}});return B.param(C)};B.fn.fieldValue=function(H){for(var G=[],E=0,C=this.length;E<C;E++){var F=this[E];var D=B.fieldValue(F,H);if(D===null||typeof D=="undefined"||(D.constructor==Array&&!D.length)){continue}D.constructor==Array?B.merge(G,D):G.push(D)}return G};B.fieldValue=function(C,I){var E=C.name,N=C.type,O=C.tagName.toLowerCase();if(I===undefined){I=true}if(I&&(!E||C.disabled||N=="reset"||N=="button"||(N=="checkbox"||N=="radio")&&!C.checked||(N=="submit"||N=="image")&&C.form&&C.form.clk!=C||O=="select"&&C.selectedIndex==-1)){return null}if(O=="select"){var J=C.selectedIndex;if(J<0){return null}var L=[],D=C.options;var G=(N=="select-one");var K=(G?J+1:D.length);for(var F=(G?J:0);F<K;F++){var H=D[F];if(H.selected){var M=H.value;if(!M){M=(H.attributes&&H.attributes.value&&!(H.attributes.value.specified))?H.text:H.value}if(G){return M}L.push(M)}}return L}return B(C).val()};B.fn.clearForm=function(){return this.each(function(){B("input,select,textarea",this).clearFields()})};B.fn.clearFields=B.fn.clearInputs=function(){return this.each(function(){var D=this.type,C=this.tagName.toLowerCase();if(D=="text"||D=="password"||C=="textarea"){this.value=""}else{if(D=="checkbox"||D=="radio"){this.checked=false}else{if(C=="select"){this.selectedIndex=-1}}}})};B.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||(typeof this.reset=="object"&&!this.reset.nodeType)){this.reset()}})};B.fn.enable=function(C){if(C===undefined){C=true}return this.each(function(){this.disabled=!C})};B.fn.selected=function(C){if(C===undefined){C=true}return this.each(function(){var D=this.type;if(D=="checkbox"||D=="radio"){this.checked=C}else{if(this.tagName.toLowerCase()=="option"){var E=B(this).parent("select");if(C&&E[0]&&E[0].type=="select-one"){E.find("option").selected(false)}this.selected=C}}})};function A(){if(B.fn.ajaxSubmit.debug){var C="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(C)}else{if(window.opera&&window.opera.postError){window.opera.postError(C)}}}}})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:internal-ajs-no-context-path', location = 'js/jquery/jquery.moveto.js' */
jQuery.fn.moveTo=function(C){var G={transition:false,scrollOffset:35};var E=jQuery.extend(G,C),A=this,D=A.offset().top,B;if((jQuery(window).scrollTop()+jQuery(window).height()-this.outerHeight()<D||jQuery(window).scrollTop()+E.scrollOffset>D)&&jQuery(window).height()>E.scrollOffset){if(jQuery(window).scrollTop()+E.scrollOffset>D){B=D-(jQuery(window).height()-this.outerHeight())+E.scrollOffset}else{B=D-E.scrollOffset}if(!jQuery.fn.moveTo.animating&&E.transition){jQuery(document).trigger("moveToStarted",this);jQuery.fn.moveTo.animating=true;jQuery("html,body").animate({scrollTop:B},1000,function(){jQuery(document).trigger("moveToFinished",A);delete jQuery.fn.moveTo.animating});return this}else{var F=jQuery("html, body");if(F.is(":animated")){F.stop();delete jQuery.fn.moveTo.animating}jQuery(document).trigger("moveToStarted");jQuery(window).scrollTop(B);setTimeout(function(){jQuery(document).trigger("moveToFinished",A)},100);return this}}jQuery(document).trigger("moveToFinished",this);return this};;
;
/* module-key = 'com.atlassian.auiplugin:internal-ajs-no-context-path', location = 'js/event.js' */
AJS.bind=function(A,C,B){try{if(typeof B==="function"){return AJS.$(window).bind(A,C,B)}else{return AJS.$(window).bind(A,C)}}catch(D){AJS.log("error while binding: "+D.message)}};AJS.unbind=function(A,B){try{return AJS.$(window).unbind(A,B)}catch(C){AJS.log("error while unbinding: "+C.message)}};AJS.trigger=function(A,C){try{return AJS.$(window).trigger(A,C)}catch(B){AJS.log("error while triggering: "+B.message)}};;
;
/* module-key = 'com.atlassian.auiplugin:internal-ajs-no-context-path', location = 'js/cookie.js' */
(function(){var B="AJS.conglomerate.cookie",F=/(\\|^"|"$)/g,G=/\|\|+/g,I=/"/g,C=/[.*+?|^$()[\]{\\]/g;function E(L,O){O=O||"";var N=new RegExp(D(L)+"=([^|]+)"),M=O.match(N);return M&&M[1]}function J(L,N,P){var M=new RegExp("(\\s|\\|)*\\b"+D(L)+"=[^|]*[|]*");P=P||"";P=P.replace(M,"|");if(N!==""){var O=L+"="+N;if(P.length+O.length<4020){P+="|"+O}}return P.replace(G,"|")}function H(L){return L.replace(F,"")}function K(L){var N=new RegExp("\\b"+D(L)+"=((?:[^\\\\;]+|\\\\.)*)(?:;|$)"),M=document.cookie.match(N);return M&&H(M[1])}function A(M,O,Q){var N="",P,L='"'+O.replace(I,'\\"')+'"';if(Q){P=new Date();P.setTime(+P+Q*24*60*60*1000);N="; expires="+P.toGMTString()}document.cookie=M+"="+L+N+";path=/"}function D(L){return L.replace(C,"\\$&")}AJS.Cookie={save:function(M,N,L){var O=K(B);O=J(M,N,O);A(B,O,L||365)},read:function(M,L){var O=K(B);var N=E(M,O);if(N!=null){return N}return L},erase:function(L){this.save(L,"")}};AJS.deprecate.prop(AJS.Cookie,"save",{alternativeName:"AJS.cookie"})})();;
;
/* module-key = 'com.atlassian.auiplugin:internal-ajs-no-context-path', location = 'js/inline-dialog.js' */
(function(C){AJS.InlineDialog=function(g,S,W,U){U=U||[];if(U.hasOwnProperty("getArrowAttributes")){H()}if(U.hasOwnProperty("getArrowPath")){E();if(U.hasOwnProperty("gravity")){B()}}if(U.hasOwnProperty("onTop")){J();if(U.onTop&&U.gravity===undefined){U.gravity="s"}}if(typeof S==="undefined"){S=String(Math.random()).replace(".","");if(C("#inline-dialog-"+S+", #arrow-"+S+", #inline-dialog-shim-"+S).length){throw"GENERATED_IDENTIFIER_NOT_UNIQUE"}}var e=C.extend(false,AJS.InlineDialog.opts,U);if(e.gravity==="w"){e.offsetX=U.offsetX===undefined?10:U.offsetX;e.offsetY=U.offsetY===undefined?0:U.offsetY}var a=function(){return window.Raphael&&!!window.Raphael.version&&U&&(U.getArrowPath||U.getArrowAttributes)};var O;var V;var p;var Z=false;var f=false;var n=false;var o;var c;var L=C('<div id="inline-dialog-'+S+'" class="aui-inline-dialog"><div class="aui-inline-dialog-contents contents"></div><div id="arrow-'+S+'" class="aui-inline-dialog-arrow arrow"></div></div>');var R=C("#arrow-"+S,L);var l=L.find(".contents");if(!a()){L.find(".aui-inline-dialog-arrow").addClass("aui-css-arrow")}if(!e.displayShadow){l.addClass("aui-inline-dialog-no-shadow")}if(e.autoWidth){l.addClass("aui-inline-dialog-auto-width")}else{l.width(e.width)}l.on({mouseenter:function(){clearTimeout(V);L.unbind("mouseenter")},mouseleave:function(){j()}});var i=function(){if(!O){O={popup:L,hide:function(){j(0)},id:S,show:function(){d()},persistent:e.persistent?true:false,reset:function(){function x(z,y){z.css(y.popupCss);if(a()){if(y.gravity==="s"){y.arrowCss.top-=C.browser.msie?10:9}if(!z.arrowCanvas){z.arrowCanvas=Raphael("arrow-"+S,16,16)}var AA=e.getArrowPath,AB=C.isFunction(AA)?AA(y):AA;z.arrowCanvas.path(AB).attr(e.getArrowAttributes())}else{R.removeClass("aui-bottom-arrow aui-left-arrow aui-right-arrow");if(y.gravity==="s"&&!R.hasClass("aui-bottom-arrow")){R.addClass("aui-bottom-arrow")}else{if(y.gravity==="n"){}else{if(y.gravity==="w"){R.addClass("aui-left-arrow")}else{if(y.gravity==="e"){R.addClass("aui-right-arrow")}}}}}R.css(y.arrowCss)}var u=AJS.$(window).height();var v=Math.round(u*0.75);L.children(".aui-inline-dialog-contents").css("max-height",v);var t=e.calculatePositions(L,c,o,e);if(t.hasOwnProperty("displayAbove")){F();t.gravity=t.displayAbove?"s":"n"}x(L,t);L.fadeIn(e.fadeTime,function(){});if(C.browser.msie&&~~(C.browser.version)<10){var w=C("#inline-dialog-shim-"+S);if(!w.length){C(L).prepend(C('<iframe class = "inline-dialog-shim" id="inline-dialog-shim-'+S+'" frameBorder="0" src="javascript:false;"></iframe>'))}w.css({width:l.outerWidth(),height:l.outerHeight()})}}}}return O};var d=function(){if(L.is(":visible")){return }p=setTimeout(function(){if(!n||!f){return }e.addActiveClass&&C(g).addClass("active");Z=true;if(!e.persistent){m()}AJS.InlineDialog.current=i();C(document).trigger("showLayer",["inlineDialog",i()]);i().reset()},e.showDelay)};var j=function(t){if(typeof t=="undefined"&&e.persistent){return }if(typeof L.get(0)._datePickerPopup!=="undefined"){return }f=false;if(Z&&e.preHideCallback.call(L[0].popup)){t=(t==null)?e.hideDelay:t;clearTimeout(V);clearTimeout(p);if(t!=null){V=setTimeout(function(){Q();e.addActiveClass&&C(g).removeClass("active");L.fadeOut(e.fadeTime,function(){e.hideCallback.call(L[0].popup)});if(L.arrowCanvas){L.arrowCanvas.remove();L.arrowCanvas=null}Z=false;f=false;C(document).trigger("hideLayer",["inlineDialog",i()]);AJS.InlineDialog.current=null;if(!e.cacheContent){n=false;b=false}},t)}}};var k=function(w,u){var t=C(u);e.upfrontCallback.call({popup:L,hide:function(){j(0)},id:S,show:function(){d()}});L.each(function(){if(typeof this.popup!="undefined"){this.popup.hide()}});if(e.closeOthers){C(".aui-inline-dialog:not(aui-inline-dialog2)").each(function(){!this.popup.persistent&&this.popup.hide()})}c={target:t};if(!w){o={x:t.offset().left,y:t.offset().top}}else{o={x:w.pageX,y:w.pageY}}if(!Z){clearTimeout(p)}f=true;var v=function(){b=false;n=true;e.initCallback.call({popup:L,hide:function(){j(0)},id:S,show:function(){d()}});d()};if(!b){b=true;if(C.isFunction(W)){W(l,u,v)}else{C.get(W,function(y,x,z){l.html(e.responseHandler(y,x,z));n=true;e.initCallback.call({popup:L,hide:function(){j(0)},id:S,show:function(){d()}});d()})}}clearTimeout(V);if(!Z){d()}return false};L[0].popup=i();var b=false;var Y=false;var X=function(){if(!Y){C(e.container).append(L);Y=true}};var T=C(g);if(e.onHover){if(e.useLiveEvents){if(T.selector){C(document).on("mouseenter",T.selector,function(t){X();k(t,this)}).on("mouseleave",T.selector,function(){j()})}else{AJS.log("Warning: inline dialog trigger elements must have a jQuery selector when the useLiveEvents option is enabled.")}}else{T.on({mouseenter:function(t){X();k(t,this)},mouseleave:function(){j()}})}}else{if(!e.noBind){if(e.useLiveEvents){if(T.selector){C(document).on("click",T.selector,function(t){X();if(r()){L.hide()}else{k(t,this)}return false}).on("mouseleave",T.selector,function(){j()})}else{AJS.log("Warning: inline dialog trigger elements must have a jQuery selector when the useLiveEvents option is enabled.")}}else{T.on("click",function(t){X();if(r()){L.hide()}else{k(t,this)}return false}).on("mouseleave",function(){j()})}}}var r=function(){return Z&&e.closeOnTriggerClick};var m=function(){P();K()};var Q=function(){h();s()};var N=false;var M=S+".inline-dialog-check";var P=function(){if(!N){C("body").bind("click."+M,function(u){var t=C(u.target);if(t.closest("#inline-dialog-"+S+" .contents").length===0){j(0)}});N=true}};var h=function(){if(N){C("body").unbind("click."+M)}N=false};var q=function(t){if(t.keyCode===27){j(0)}};var K=function(){C(document).on("keydown",q)};var s=function(){C(document).off("keydown",q)};L.show=function(u,t){if(u){u.stopPropagation()}X();if(e.noBind&&!(g&&g.length)){k(u,t===undefined?u.target:t)}else{k(u,g)}};L.hide=function(){j(0)};L.refresh=function(){if(Z){i().reset()}};L.getOptions=function(){return e};return L};function A(L){var K=C(L);var M=C.extend({left:0,top:0},K.offset());return{left:M.left,top:M.top,width:K.outerWidth(),height:K.outerHeight()}}function G(M,O,Y,K){var R=AJS.$.isFunction(K.offsetX)?K.offsetX(M,O,Y,K):K.offsetX;var Q=AJS.$.isFunction(K.offsetY)?K.offsetY(M,O,Y,K):K.offsetY;var V=AJS.$.isFunction(K.arrowOffsetX)?K.arrowOffsetX(M,O,Y,K):K.arrowOffsetX;var U=AJS.$.isFunction(K.arrowOffsetY)?K.arrowOffsetY(M,O,Y,K):K.arrowOffsetY;var X=K.container.toLowerCase()!=="body";var L=AJS.$(K.container);var T=X?AJS.$(K.container).parent():AJS.$(window);var W=X?L.offset():{left:0,top:0};var P=X?T.offset():{left:0,top:0};var N=O.target;var Z=N.offset();var S=N[0].getBBox&&N[0].getBBox();return{screenPadding:10,arrowMargin:5,window:{top:P.top,left:P.left,scrollTop:T.scrollTop(),scrollLeft:T.scrollLeft(),width:T.width(),height:T.height()},scrollContainer:{width:L.width(),height:L.height()},trigger:{top:Z.top-W.top,left:Z.left-W.left,width:S?S.width:N.outerWidth(),height:S?S.height:N.outerHeight()},dialog:{width:M.width(),height:M.height(),offset:{top:Q,left:R}},arrow:{height:M.find(".arrow").outerHeight(),offset:{top:U,left:V}}}}function D(K,U,l,W){var S=G(K,U,l,W);var O=S.screenPadding;var P=S.window;var Y=S.trigger;var i=S.dialog;var N=S.arrow;var e=S.scrollContainer;var j={top:Y.top-P.scrollTop,left:Y.left-P.scrollLeft};var f=Math.floor(Y.height/2);var a=Math.floor(i.height/2);var Z=Math.floor(N.height/2);var h=j.left-i.offset.left-O;var m=e.width-j.left-Y.width-i.offset.left-O;var g=h>=i.width;var M=m>=i.width;var Q=!M&&g?"e":"w";var T=j.top+f-Z;var V=P.height-T-N.height;O=Math.min(O,T-S.arrowMargin);O=Math.min(O,V-S.arrowMargin);var L=j.top+f;var c=Math.max(L-O,0);var k=Math.max(P.height-L-O,0);var d=a-i.offset.top>c;var R=a+i.offset.top>k;var b;var X;if(d){b={top:P.scrollTop+O,left:Q==="w"?Y.left+Y.width+i.offset.left:Y.left-i.width-i.offset.left};X={top:(Y.top+f)-(b.top+Z)}}else{if(R){b={top:P.scrollTop+P.height-i.height-O,left:Q==="w"?Y.left+Y.width+i.offset.left:Y.left-i.width-i.offset.left};X={top:(Y.top+f)-(b.top+Z)}}else{b={top:Y.top+f-a+i.offset.top,left:Q==="w"?Y.left+Y.width+i.offset.left:Y.left-i.width-i.offset.left};X={top:a-Z+N.offset.top}}}return{gravity:Q,popupCss:b,arrowCss:X}}function I(L,T,e,X){var c=AJS.$.isFunction(X.offsetX)?X.offsetX(L,T,e,X):X.offsetX;var a=AJS.$.isFunction(X.offsetY)?X.offsetY(L,T,e,X):X.offsetY;var R=AJS.$.isFunction(X.arrowOffsetX)?X.arrowOffsetX(L,T,e,X):X.arrowOffsetX;var Q=AJS.$.isFunction(X.arrowOffsetY)?X.arrowOffsetY(L,T,e,X):X.arrowOffsetY;var K=A(window);var U=A(T.target);var d=A(L);var O=A(L.find(".aui-inline-dialog-arrow"));var N=U.left+U.width/2;var Z=(window.pageYOffset||document.documentElement.scrollTop)+K.height;var P=10;d.top=U.top+U.height+~~a;d.left=U.left+~~c;var W=K.width-(d.left+d.width+P);O.left=N-d.left+~~R;O.top=-(O.height/2);var S=U.top>d.height;var M=(d.top+d.height)<Z;var V=(!M&&S)||(S&&X.gravity==="s");if(V){d.top=U.top-d.height-(O.height/2);O.top=d.height}if(X.isRelativeToMouse){if(W<0){d.right=P;d.left="auto";O.left=e.x-(K.width-d.width)}else{d.left=e.x-20;O.left=e.x-d.left}}else{if(W<0){d.right=P;d.left="auto";var b=K.width-d.right;var Y=b-d.width;O.right="auto";O.left=N-Y-O.width/2}else{if(d.width<=U.width/2){O.left=d.width/2;d.left=N-d.width/2}}}return{gravity:V?"s":"n",displayAbove:V,popupCss:{left:d.left,top:d.top,right:d.right},arrowCss:{left:O.left,top:O.top,right:O.right}}}AJS.InlineDialog.opts={onTop:false,responseHandler:function(L,K,M){return L},closeOthers:true,isRelativeToMouse:false,addActiveClass:true,onHover:false,useLiveEvents:false,noBind:false,fadeTime:100,persistent:false,hideDelay:10000,showDelay:0,width:300,offsetX:0,offsetY:10,arrowOffsetX:0,arrowOffsetY:0,container:"body",cacheContent:true,displayShadow:true,autoWidth:false,gravity:"n",closeOnTriggerClick:false,preHideCallback:function(){return true},hideCallback:function(){},initCallback:function(){},upfrontCallback:function(){},calculatePositions:function(K,N,O,M){M=M||{};var L=M.gravity==="w"?D:I;return L(K,N,O,M)},getArrowPath:function(K){if(K.gravity==="s"){return"M0,8L8,16,16,8"}else{return"M0,8L8,0,16,8"}},getArrowAttributes:function(){return{fill:"#fff",stroke:"#ccc"}}};AJS.InlineDialog=AJS.deprecate.construct(AJS.InlineDialog,"Inline dialog constructor",{alternativeName:"inline dialog 2"});var F=AJS.deprecate.getMessageLogger("displayAbove","[remove version]",{alternativeName:"gravity",extraInfo:"See https://ecosystem.atlassian.net/browse/AUI-2197."});var J=AJS.deprecate.getMessageLogger("onTop","[remove version]",{alternativeName:"gravity",extraInfo:"See https://ecosystem.atlassian.net/browse/AUI-2197."});var H=AJS.deprecate.getMessageLogger("getArrowAttributes","[remove version]",{extraInfo:"See https://ecosystem.atlassian.net/browse/AUI-1362."});var E=AJS.deprecate.getMessageLogger("getArrowPath","[remove version]",{extraInfo:"See https://ecosystem.atlassian.net/browse/AUI-1362."});var B=AJS.deprecate.getMessageLogger("getArrowPath does not support gravity","[remove version]",{extraInfo:"See https://ecosystem.atlassian.net/browse/AUI-2197."})})(AJS.$);;
;
/* module-key = 'com.atlassian.auiplugin:internal-ajs-no-context-path', location = 'js/firebug.js' */
AJS.warnAboutFirebug=function(A){};AJS.deprecate.prop(AJS,"warnAboutFirebug");;
;
/* module-key = 'com.atlassian.auiplugin:internal-ajs-no-context-path', location = 'js/forms.js' */
AJS.inlineHelp=function(){AJS.$(".icon-inline-help").click(function(){var A=AJS.$(this).siblings(".field-help");if(A.hasClass("hidden")){A.removeClass("hidden")}else{A.addClass("hidden")}})};;
;
/* module-key = 'com.atlassian.auiplugin:internal-ajs-no-context-path', location = 'js/keyCode.js' */
(function(){AJS.keyCode={ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,LEFT_SQUARE_BRACKET:91,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}());;
;
/* module-key = 'com.atlassian.auiplugin:internal-ajs-no-context-path', location = 'js/messages.js' */
(function(D,F){var C=500;var L=5000;var J=100;var A='<div class="aui-message aui-message-{type} {type} {closeable} {shadowed} {fadeout}"><p class="title"><strong>{title}</strong></p>{body}<!-- .aui-message --></div>';function K(M){D.messages[M]=function(O,P){if(!P){P=O;O="#aui-message-bar"}P.closeable=(P.closeable!==false);P.shadowed=(P.shadowed!==false);var N=G(this.template,P,M);B(N,P.insert,O);if(P.closeable){I(N)}if(P.fadeout){H(N,P.delay,P.duration)}return N}}function I(M){F(M||"div.aui-message.closeable").each(function(){var P=F(this),O=P.find(".aui-icon.icon-close");var N=O.length>0?O.first():F('<span class="aui-icon icon-close" role="button" tabindex="0"></span>');P.addClass("closeable");P.append(N);E(P)})}function H(N,M,O){M=(typeof M!=="undefined")?M:L;O=(typeof O!=="undefined")?O:C;F(N||"div.aui-message.fadeout").each(function(){var S=F(this);var U=false;var Q=false;function P(){S.stop(true,false).delay(M).fadeOut(O,function(){S.closeMessage()})}function T(){S.stop(true,false).fadeTo(J,1)}function R(){return !U&&!Q}S.focusin(function(){U=true;T()}).focusout(function(){U=false;if(R()){P()}}).hover(function(){Q=true;T()},function(){Q=false;if(R()){P()}});P()})}D.messages={setup:function(){K("generic");K("error");K("warning");K("info");K("success");K("hint");I();H()},makeCloseable:I,makeFadeout:H,template:A,createMessage:K};function E(M){M.on("click",".aui-icon.icon-close",function(N){F(N.target).closest(".aui-message").closeMessage()}).on("keydown",".aui-icon.icon-close",function(N){if((N.which===AJS.keyCode.ENTER)||(N.which===AJS.keyCode.SPACE)){F(N.target).closest(".aui-message").closeMessage();N.preventDefault()}})}function B(N,M,O){if(M==="prepend"){N.prependTo(O)}else{N.appendTo(O)}}function G(P,N,O){var M=F(AJS.template(P).fill({type:O,closeable:N.closeable?"closeable":"",shadowed:N.shadowed?"shadowed":"",fadeout:N.fadeout?"fadeout":"",title:N.title||"","body:html":N.body||""}).toString());if(N.id){if(/[#\'\"\.\s]/g.test(N.id)){AJS.log("AJS.Messages error: ID rejected, must not include spaces, hashes, dots or quotes.")}else{M.attr("id",N.id)}}return M}F.fn.closeMessage=function(){var M=F(this);if(M.hasClass("aui-message")&&M.hasClass("closeable")){M.stop(true);M.trigger("messageClose",[this]).remove();F(document).trigger("aui-message-close",[this])}};F(function(){D.messages.setup()});AJS.deprecate.prop(D.messages,"makeCloseable",{extraInfo:'Use the "closeable" option in the constructor instead. Docs: https://docs.atlassian.com/aui/latest/docs/messages.html'});AJS.deprecate.prop(D.messages,"createMessage",{extraInfo:"Use the provided convenience methods instead e.g. AJS.messages.generic(). Docs: https://docs.atlassian.com/aui/latest/docs/messages.html"});AJS.deprecate.prop(D.messages,"makeFadeout",{extraInfo:'Use the "fadeout" option in the constructor instead. Docs: https://docs.atlassian.com/aui/latest/docs/messages.html'})})(AJS,AJS.$);;
;
/* module-key = 'com.atlassian.auiplugin:internal-ajs-no-context-path', location = 'js/tabs.js' */
(function(H){var I=/#.*/;var F="_internal-aui-tabs-";var A='.aui-tabs.horizontal-tabs[data-aui-responsive]:not([data-aui-responsive="false"])';function N(){var P=H(this);AJS._addID(P);P.attr("role","tab");var O=P.attr("href");H(O).attr("aria-labelledby",P.attr("id"));if(P.parent().hasClass("active-tab")){P.attr("aria-selected","true")}else{P.attr("aria-selected","false")}}var J={totalTabsWidth:function(O,Q){var R=this.totalVisibleTabWidth(O);var P=0;Q.find("li").each(function(S,T){P+=parseInt(T.getAttribute("data-aui-tab-width"))});return R+P},totalVisibleTabWidth:function(P){var O=0;P.each(function(Q,R){O+=H(R).outerWidth()});return O},removeResponsiveDropdown:function(P,O){P.remove();O.remove()},createResponsiveDropdownTrigger:function(P,R){var Q='<li class="menu-item aui-tabs-responsive-trigger-item"><a class="aui-dropdown2-trigger aui-tabs-responsive-trigger aui-dropdown2-trigger-arrowless" id="aui-tabs-responsive-trigger-'+R+'" aria-haspopup="true" aria-owns="aui-tabs-responsive-dropdown-'+R+'" href="aui-tabs-responsive-dropdown-'+R+'">...</a></li>';P.append(Q);var O=P.find(".aui-tabs-responsive-trigger-item");return O},createResponsiveDropdown:function(O,R){var P='<div class="aui-dropdown2 aui-style-default aui-tabs-responsive-dropdown" id="aui-tabs-responsive-dropdown-'+R+'"><ul></ul></div>';O.append(P);var Q=O.find("#aui-tabs-responsive-dropdown-"+R);return Q},findNewVisibleTabs:function(R,S,V){function U(W,Y,X){return W+Y<=X}var P=0;for(var Q=0;U(P,V,S)&&Q<R.length;Q++){var T=H(R[Q]);var O=T.outerWidth(true);P+=O}return R.slice(0,Q-1)},processVisibleTabs:function(P,W,R){var O=R.find("a").attr("aria-owns");var U=H("#"+O);var T=this.findNewVisibleTabs(P,W.outerWidth(),R.parent().outerWidth(true));var S=T.length-1;for(var Q=P.length-1;Q>=S;Q--){var V=H(P[Q]);this.moveTabToResponsiveDropdown(V,U,R)}return H(T)},moveTabToResponsiveDropdown:function(Q,R,O){var P=Q.find("a");Q.attr("data-aui-tab-width",Q.outerWidth(true));P.addClass("aui-dropdown2-radio aui-tabs-responsive-item");if(Q.hasClass("active-tab")){P.addClass("aui-dropdown2-checked");O.addClass("active-tab")}R.find("ul").prepend(Q)},processInvisibleTabs:function(S,U,P){function V(W){return W>0}for(var R=0;V(U)&&R<S.length;R++){var T=H(S[R]);var O=parseInt(T.attr("data-aui-tab-width"),10);var Q=O<U;if(Q){this.moveTabOutOfDropdown(T,P)}U-=O}},moveTabOutOfDropdown:function(Q,P){var O=Q.find("a").hasClass("aui-dropdown2-checked");if(O){Q.addClass("active-tab");P.removeClass("active-tab")}Q.children("a").removeClass("aui-dropdown2-radio aui-tabs-responsive-item aui-dropdown2-checked");P.before(Q)}};function L(R,X){var O=H(R);var e=O.find(".tabs-menu").first();var a=e.find("li:not(.aui-tabs-responsive-trigger-item)");var V=e.find(".aui-tabs-responsive-trigger").parent();var W=V.find("a");var T=W.attr("aria-owns");var Z=H(document).find("#"+T).attr("aria-checked",false);var Q=Z.length>0;var c=J.totalTabsWidth(a,Z);var b=c>O.outerWidth();if(!Q&&b){V=J.createResponsiveDropdownTrigger(e,X);Z=J.createResponsiveDropdown(O,X)}W.attr("aria-owns","aui-tabs-responsive-dropdown-"+X);W.attr("id","aui-tabs-responsive-trigger-"+X);W.attr("href","aui-tabs-responsive-trigger-"+X);Z.attr("id","aui-tabs-responsive-dropdown-"+X);if(b){var S=J.processVisibleTabs(a.toArray(),O,V);var Y=J.totalVisibleTabWidth(S);var d=O.outerWidth()-Y-V.outerWidth(true);var P=d>0;if(P){var U=Z.find("li");J.processInvisibleTabs(U.toArray(),d,V)}Z.on("click","a",G)}if(Q&&!b){Z.find("li").each(function(){J.moveTabOutOfDropdown(H(this),V)});J.removeResponsiveDropdown(Z,V)}}function M(S){if(S.hasClass("aui-tabs-responsive-trigger")){return }var R=H(S.attr("href").match(I)[0]);R.addClass("active-pane").attr("aria-hidden","false").siblings(".tabs-pane").removeClass("active-pane").attr("aria-hidden","true");var P=S.parents(".aui-tabs").find(".aui-tabs-responsive-trigger-item a");var Q=P.attr("aria-owns");var T=H(document).find("#"+Q);T.find("li a").attr("aria-checked",false).removeClass("checked aui-dropdown2-checked");T.find("li").removeClass("active-tab");S.parent("li.menu-item").addClass("active-tab").siblings(".menu-item").removeClass("active-tab");if(S.hasClass("aui-tabs-responsive-item")){var O=R.parent(".aui-tabs").find("li.menu-item:not(.aui-tabs-responsive-trigger-item)");O.removeClass("active-tab");O.find("a").removeClass("checked").removeAttr("aria-checked")}if(S.hasClass("aui-tabs-responsive-item")){R.parent(".aui-tabs").find("li.menu-item.aui-tabs-responsive-trigger-item").addClass("active-tab")}S.closest(".tabs-menu").find("a").attr("aria-selected","false");S.attr("aria-selected","true");S.trigger("tabSelect",{tab:S,pane:R})}function D(O){return O.attr("data-aui-persist")!==undefined&&O.attr("data-aui-persist")!=="false"}function C(O){var P=O.attr("id");var Q=O.attr("data-aui-persist");return F+(P?P:"")+(Q&&Q!=="true"?"-"+Q:"")}function E(O){for(var T=0,U=O.length;T<U;T++){var R=O.eq(T);if(D(R)&&window.localStorage){var S=R.attr("id");if(S){var Q=window.localStorage.getItem(C(R));if(Q){var P=R.find("#"+Q);if(P.length){M(P)}}}else{AJS.warn("A tab group must specify an id attribute if it specifies data-aui-persist")}}}}function K(R){var P=R.closest(".aui-tabs");var Q=P.attr("id");if(Q){var O=R.attr("id");if(O){window.localStorage.setItem(C(P),O)}}else{AJS.warn("A tab group must specify an id attribute if it specifies data-aui-persist")}}function G(O){AJS.tabs.change(H(this),O);O&&O.preventDefault()}function B(O){O.forEach(function(Q,P){L(Q,P)})}AJS.tabs={setup:function(){var O=H(".aui-tabs:not(.aui-tabs-disabled)");var P=H(A).toArray();B(P);var Q=AJS.debounce(B,200);H(window).resize(function(){Q(P)});O.attr("role","application");O.find(".tabs-pane").each(function(){var V=H(this);V.attr("role","tabpanel");if(V.hasClass("active-pane")){V.attr("aria-hidden","false")}else{V.attr("aria-hidden","true")}});for(var R=0,S=O.length;R<S;R++){var T=O.eq(R);if(!T.data("aui-tab-events-bound")){var U=T.children("ul.tabs-menu");U.attr("role","tablist");U.children("li").attr("role","presentation");U.find("> .menu-item a").each(N);U.delegate("a","click",G);T.data("aui-tab-events-bound",true)}}E(O);H(".aui-tabs.vertical-tabs").find("a").each(function(){var V=H(this);if(!V.attr("title")){if(AJS.isClipped(V)){V.attr("title",V.text())}}})},change:function(P,Q){M(P);var O=P.closest(".aui-tabs");if(D(O)&&window.localStorage){K(P)}}};H(AJS.tabs.setup)})(AJS.$);;
;
/* module-key = 'com.atlassian.auiplugin:internal-ajs-no-context-path', location = 'js/template.js' */
AJS.template=(function(H){var J=/\{([^\}]+)\}/g,D=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,F=function(O,N,P,L){var M=P;N.replace(D,function(S,R,Q,U,T){R=R||U;if(M){if(R+":html" in M){M=M[R+":html"];L=true}else{if(R in M){M=M[R]}}if(T&&typeof M==="function"){M=M()}}});if(M==null||M==P){M=O}M=String(M);if(!L){M=G.escape(M)}return M},B=function(L){this.template=this.template.replace(J,function(N,M){return F(N,M,L,true)});return this},K=function(L){this.template=this.template.replace(J,function(N,M){return F(N,M,L)});return this},C=function(){return this.template};var G=function(M){function L(){return L.template}L.template=String(M);L.toString=L.valueOf=C;L.fill=K;L.fillHtml=B;return L},A={},I=[];var E=function(L){return H("script").filter(function(){return this.getAttribute("title")===L})};G.load=function(L){L=String(L);if(!A.hasOwnProperty(L)){if(I.length>=1000){delete A[I.shift()]}I.push(L);A[L]=E(L)[0].text}return this(A[L])};G.escape=AJS.escapeHtml;return G})(AJS.$);;
;
/* module-key = 'com.atlassian.auiplugin:internal-ajs-no-context-path', location = 'js/whenitype.js' */
(function(A,D){var C=navigator.platform.indexOf("Mac")!==-1;var B=/^(backspace|tab|r(ight|eturn)|s(hift|pace|croll)|c(trl|apslock)|alt|pa(use|ge(up|down))|e(sc|nd)|home|left|up|d(el|own)|insert|f\d\d?|numlock|meta)/i;A.whenIType=function(P){var O=[],I=D.Callbacks();function F(Q){if(!AJS.popup.current&&I){I.fire(Q)}}function G(Q){Q.preventDefault()}function N(Q){var R=Q&&Q.split?D.trim(Q).split(" "):[Q];R.forEach(function(S){H(S)})}function K(R){var Q=R.length;while(Q--){if(R[Q].length>1&&R[Q]!=="space"){return true}}return false}function H(S){var R=S instanceof Array?S:M(S.toString());var Q=K(R)?"keydown":"keypress";O.push(R);D(document).bind(Q,R,F);D(document).bind(Q+" keyup",R,G)}function M(S){var U=[],T="";while(S.length){var R=S.match(/^(ctrl|meta|shift|alt)\+/i);var Q=S.match(B);if(R){T+=R[0];S=S.substring(R[0].length)}else{if(Q){U.push(T+Q[0]);S=S.substring(Q[0].length);T=""}else{U.push(T+S[0]);S=S.substring(1);T=""}}}return U}function J(S){var U=D(S),W=U.attr("title")||"",V=O.slice();var R=U.data("kbShortcutAppended")||"";var Q=!R;var T=Q?W:W.substring(0,W.length-R.length);while(V.length){R=E(V.shift().slice(),R,Q);Q=false}if(C){R=R.replace(/Meta/ig,"\u2318").replace(/Shift/ig,"\u21E7")}U.attr("title",T+R);U.data("kbShortcutAppended",R)}function L(R){var S=D(R);var Q=S.data("kbShortcutAppended");if(!Q){return }var T=S.attr("title");S.attr("title",T.replace(Q,""));S.removeData("kbShortcutAppended")}function E(S,R,Q){if(Q){R+=" ("+AJS.format("Type \'\'{0}\'\'",S.shift())}else{R=R.replace(/\)$/,"");R+=AJS.format("OR \'\'{0}\'\'",S.shift())}S.forEach(function(T){R+=" "+AJS.format("then \'\'{0}\'\'",T)});R+=")";return R}N(P);return A.whenIType.makeShortcut({executor:I,bindKeys:N,addShortcutsToTitle:J,removeShortcutsFromTitle:L,keypressHandler:F,defaultPreventionHandler:G})};A.whenIType.makeShortcut=function(M){var H=M.executor;var K=M.bindKeys;var I=M.addShortcutsToTitle;var J=M.removeShortcutsFromTitle;var F=M.keypressHandler;var G=M.defaultPreventionHandler;var L=[];function E(N){return function(O,Q){Q=Q||{};var P=Q.focusedClass||"focused";var R=Q.hasOwnProperty("wrapAround")?Q.wrapAround:true;var S=Q.hasOwnProperty("escToCancel")?Q.escToCancel:true;H.add(function(){var V=D(O),U=V.filter("."+P),T=U.length===0?undefined:{transition:true};if(S){D(document).one("keydown",function(W){if(W.keyCode===AJS.keyCode.ESCAPE&&U){U.removeClass(P)}})}if(U.length){U.removeClass(P)}U=N(U,V,R);if(U&&U.length>0){U.addClass(P);U.moveTo(T);if(U.is("a")){U.focus()}else{U.find("a:first").focus()}}});return this}}return{moveToNextItem:E(function(P,Q,O){var N;if(O&&P.length===0){return Q.eq(0)}else{N=D.inArray(P.get(0),Q);if(N<Q.length-1){N=N+1;return Q.eq(N)}else{if(O){return Q.eq(0)}}}return P}),moveToPrevItem:E(function(P,Q,O){var N;if(O&&P.length===0){return Q.filter(":last")}else{N=D.inArray(P.get(0),Q);if(N>0){N=N-1;return Q.eq(N)}else{if(O){return Q.filter(":last")}}}return P}),click:function(N){L.push(N);I(N);H.add(function(){var O=D(N);if(O.length>0){O.click()}});return this},goTo:function(N){H.add(function(){window.location.href=N});return this},followLink:function(N){L.push(N);I(N);H.add(function(){var O=D(N)[0];if(O&&{a:true,link:true}[O.nodeName.toLowerCase()]){window.location.href=O.href}});return this},execute:function(O){var N=this;H.add(function(){O.apply(N,arguments)});return this},evaluate:function(N){N.call(this)},moveToAndClick:function(N){L.push(N);I(N);H.add(function(){var O=D(N);if(O.length>0){O.click();O.moveTo()}});return this},moveToAndFocus:function(N){L.push(N);I(N);H.add(function(P){var O=AJS.$(N);if(O.length>0){O.focus();if(O.moveTo){O.moveTo()}if(O.is(":input")){P.preventDefault()}}});return this},or:function(N){K(N);return this},unbind:function(){D(document).unbind("keydown keypress",F).unbind("keydown keypress keyup",G);for(var O=0,N=L.length;O<N;O++){J(L[O])}L=[]}}};A.whenIType.fromJSON=function(G,F){var E=[];if(G){D.each(G,function(I,J){var H=J.op,M=J.param,L;if(H==="execute"||H==="evaluate"){L=[new Function(M)]}else{if(/^\[[^\]\[]*,[^\]\[]*\]$/.test(M)){try{L=JSON.parse(M)}catch(K){AJS.error("When using a parameter array, array must be in strict JSON format: "+M)}if(!D.isArray(L)){AJS.error("Badly formatted shortcut parameter. String or JSON Array of parameters required: "+M)}}else{L=[M]}}D.each(J.keys,function(){var N=this;if(F&&C){N=D.map(N,function(P){return P.replace(/ctrl/i,"meta")})}var O=AJS.whenIType(N);O[H].apply(O,L);E.push(O)})})}return E};D(document).bind("iframeAppended",function(F,E){D(E).load(function(){var G=D(E).contents();G.bind("keyup keydown keypress",function(H){if(D.browser.safari&&H.type==="keypress"){return }if(!D(H.target).is(":input")){D.event.trigger(H,arguments,document,true)}})})})})(AJS,AJS.$);;
;
/* module-key = 'com.atlassian.auiplugin:internal-ajs-no-context-path', location = 'js/jquery/jquery.is-dirty.js' */
jQuery.fn.isDirty=function(){var B,A=[];window.onbeforeunload=function(){var C=window.onbeforeunload;if(B!==false){jQuery.each(A,function(){if(this.initVal!==AJS.$(this).val()){B=true;return false}})}if(B){window.onbeforeunload=null;window.setTimeout(function(){jQuery(document).bind("mousemove",function(){window.onbeforeunload=C;jQuery(document).unbind("mousemove",arguments.callee)})},1000);B=void (0);return AJS.params.dirtyMessage||""}};return function(D){if(this.length===0){return }function C(F){var E=jQuery(this);jQuery.fn.isDirty.fieldInFocus=E;if(jQuery.inArray(this,A)===-1){this.initVal=E.val();A.push(this);E.die(F.type,C)}}jQuery(":not(:input)").live("click",function(){delete jQuery.fn.isDirty.fieldInFocus});jQuery(":input[type != hidden]",this.selector).bind("keydown",C).bind("keypress",C).bind("click",C);jQuery(D.ignoreUnloadFromElems).live("mousedown",function(){B=false});this.each(function(){this.onsubmit=function(E){return function(){B=false;if(E){return E.apply(this,arguments)}}}(this.onsubmit);AJS.$(this).submit(function(){B=false})});return this}}();;
;
/* module-key = 'com.atlassian.auiplugin:internal-ajs-no-context-path', location = 'js/jquery/jquery.progressbar.js' */
(function(A){A.fn.progressBar=function(I,L){var C=this;var F={height:"1em",showPercentage:true};var B=A.extend(F,L);var J=C.attr("id")+"-incomplete-bar";var D=C.attr("id")+"-complete-bar";var K=C.attr("id")+"-percent-complete-text";if(A("#"+J).length==0){var E=A(document.createElement("div"));E.attr("id",J);E.css({width:"90%",border:"solid 1px #ccc","float":"left","margin-right":"0.5em"});E.addClass("progress-background-color");var G=A(document.createElement("div"));G.attr("id",D);G.addClass("progress-fill-color");G.css({height:B.height,width:I+"%"});var H=A(document.createElement("span"));H.attr("id",K);H.addClass("percent-complete-text");H.html(I+"%");E.append(G);C.append(E);if(B.showPercentage){C.append(H)}}else{A("#"+D).css("width",I+"%");A("#"+K).html(I+"%")}}})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:internal-ajs-no-context-path', location = 'js/jquery/jquery.selection.js' */
(function(A){if(document.selection){var B=function(C){return C.replace(/\u000D/g,"")};A.fn.selection=function(F){var E=this[0];this.focus();if(!E){return false}if(F==null){return document.selection.createRange().text}else{var D=E.scrollTop;var C=document.selection.createRange();C.text=F;C.select();E.focus();E.scrollTop=D}};A.fn.selectionRange=function(C,F){var G=this[0];this.focus();var I=document.selection.createRange();if(C==null){var K=this.val(),J=K.length,E=I.duplicate();E.moveToElementText(G);E.setEndPoint("StartToEnd",I);var D=J-B(E.text).length;E.setEndPoint("StartToStart",I);var H=J-B(E.text).length;if(D!=H&&K.charAt(D+1)=="\n"){D+=1}return{end:D,start:H,text:K.substring(H,D),textBefore:K.substring(0,H),textAfter:K.substring(D)}}else{I.moveToElementText(G);I.collapse(true);I.moveStart("character",C);I.moveEnd("character",F-C);I.select()}}}else{A.fn.selection=function(E){var D=this[0];if(!D){return false}if(E==null){if(D.setSelectionRange){return D.value.substring(D.selectionStart,D.selectionEnd)}else{return false}}else{var C=D.scrollTop;if(!!D.setSelectionRange){var F=D.selectionStart;D.value=D.value.substring(0,F)+E+D.value.substring(D.selectionEnd);D.selectionStart=F;D.selectionEnd=F+E.length}D.focus();D.scrollTop=C}};A.fn.selectionRange=function(F,C){if(F==null){var D={start:this[0].selectionStart,end:this[0].selectionEnd};var E=this.val();D.text=E.substring(D.start,D.end);D.textBefore=E.substring(0,D.start);D.textAfter=E.substring(D.end);return D}else{this[0].selectionStart=F;this[0].selectionEnd=C}}}A.fn.wrapSelection=function(C,D){this.selection(C+this.selection()+(D||""))}})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:internal-ajs-no-context-path', location = 'js/jquery/jquery.throbber.js' */
jQuery.fn.throbber=function(A){return function(){var C=[],B={isLatentThreshold:100,minThrobberDisplay:200,loadingClass:"loading"};A(document).ajaxComplete(function(E,D){A(C).each(function(F){if(D===this.get(0)){this.hideThrobber();C.splice(F,1)}})});return function(F){var E,G,D=function(I,H){D.t=setTimeout(function(){clearTimeout(D.t);D.t=undefined;I()},H)};F=A.extend(B,F||{});if(!F.target){return this}G=jQuery(F.target);C.push(A.extend(this,{showThrobber:function(){D(function(){if(!E){G.addClass(F.loadingClass);D(function(){if(E){E()}},F.minThrobberDisplay)}},F.isLatentThreshold)},hideThrobber:function(){E=function(){G.removeClass(F.loadingClass);if(F.end){F.end()}};if(!D.t){E()}}}));this.showThrobber();return this}}()}(jQuery);;
;
/* module-key = 'jira.webresources:aui-core-amd-shim', location = '/static/lib/amd-shims/aui-amd.js' */
define("aui/params",function(){return AJS.params});define("aui/dialog",function(){return AJS.Dialog});define("aui/dropdown",function(){return AJS.dropDown});define("aui/inline-dialog",function(){return AJS.InlineDialog});define("aui/message",function(){return AJS.messages});define("aui/progressive-data-set",function(){return AJS.ProgressiveDataSet});define("aui/popup",function(){return AJS.popup});define("aui/tabs",function(){return AJS.tabs});;
;
/* module-key = 'jira.webresources:aui-core-amd-shim', location = '/static/lib/amd-shims/jquery-amd.js' */
define("jquery",function(){return AJS.$});;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-spinner', location = 'js-vendor/spin/spin.js' */
(function(A,B){if(typeof exports=="object"){module.exports=B()}else{if(typeof define=="function"){define("aui/internal/spin",B)}}A.Spinner=B()}(this,function(){var E=["webkit","Moz","ms","O"],P={},O;function G(Q,T){var R=document.createElement(Q||"div"),S;for(S in T){R[S]=T[S]}return R}function H(R){for(var Q=1,S=arguments.length;Q<S;Q++){R.appendChild(arguments[Q])}return R}var I=(function(){var Q=G("style",{type:"text/css"});H(document.getElementsByTagName("head")[0],Q);return Q.sheet||Q.styleSheet}());function C(U,Q,V,Y){var R=["opacity",Q,~~(U*100),V,Y].join("-"),S=0.01+V/Y*100,X=Math.max(1-(1-U)/Q*(100-S),U),W=O.substring(0,O.indexOf("Animation")).toLowerCase(),T=W&&"-"+W+"-"||"";if(!P[R]){I.insertRule("@"+T+"keyframes "+R+"{0%{opacity:"+X+"}"+S+"%{opacity:"+U+"}"+(S+0.01)+"%{opacity:1}"+(S+Q)%100+"%{opacity:"+U+"}100%{opacity:"+X+"}}",I.cssRules.length);P[R]=1}return R}function M(T,U){var S=T.style,Q,R;U=U.charAt(0).toUpperCase()+U.slice(1);for(R=0;R<E.length;R++){Q=E[R]+U;if(S[Q]!==undefined){return Q}}if(S[U]!==undefined){return U}}function F(Q,S){for(var R in S){Q.style[M(Q,R)||R]=S[R]}return Q}function K(S){for(var Q=1;Q<arguments.length;Q++){var R=arguments[Q];for(var T in R){if(S[T]===undefined){S[T]=R[T]}}}return S}function J(Q){var R={x:Q.offsetLeft,y:Q.offsetTop};while((Q=Q.offsetParent)){R.x+=Q.offsetLeft+Q.clientLeft,R.y+=Q.offsetTop+Q.clientTop}return R}function N(R,Q){return typeof R=="string"?R:R[Q%R.length]}var D={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:1/4,fps:20,zIndex:2000000000,className:"spinner",top:"auto",left:"auto",position:"relative"};function B(Q){if(typeof this=="undefined"){return new B(Q)}this.opts=K(Q||{},B.defaults,D)}B.defaults={};K(B.prototype,{spin:function(Z){this.stop();var d=this,R=d.opts,S=d.el=F(G(0,{className:R.className}),{position:R.position,width:0,zIndex:R.zIndex}),c=R.radius+R.length+R.width,e,b;if(Z){Z.insertBefore(S,Z.firstChild||null);b=J(Z);e=J(S);F(S,{left:(R.left=="auto"?b.x-e.x+(Z.offsetWidth>>1):parseInt(R.left,10)+c)+"px",top:(R.top=="auto"?b.y-e.y+(Z.offsetHeight>>1):parseInt(R.top,10)+c)+"px"})}S.setAttribute("role","progressbar");d.lines(S,d.opts);if(!O){var W=0,Q=(R.lines-1)*(1-R.direction)/2,V,T=R.fps,Y=T/R.speed,X=(1-R.opacity)/(Y*R.trail/100),a=Y/R.lines;(function U(){W++;for(var f=0;f<R.lines;f++){V=Math.max(1-(W+(R.lines-f)*a)%Y*X,R.opacity);d.opacity(S,f*R.direction+Q,V,R)}d.timeout=d.el&&setTimeout(U,~~(1000/T))})()}return d},stop:function(){var Q=this.el;if(Q){clearTimeout(this.timeout);if(Q.parentNode){Q.parentNode.removeChild(Q)}this.el=undefined}return this},lines:function(S,U){var R=0,V=(U.lines-1)*(1-U.direction)/2,Q;function T(W,X){return F(G(),{position:"absolute",width:(U.length+U.width)+"px",height:U.width+"px",background:W,boxShadow:X,transformOrigin:"left",transform:"rotate("+~~(360/U.lines*R+U.rotate)+"deg) translate("+U.radius+"px,0)",borderRadius:(U.corners*U.width>>1)+"px"})}for(;R<U.lines;R++){Q=F(G(),{position:"absolute",top:1+~(U.width/2)+"px",transform:U.hwaccel?"translate3d(0,0,0)":"",opacity:U.opacity,animation:O&&C(U.opacity,U.trail,V+R*U.direction,U.lines)+" "+1/U.speed+"s linear infinite"});if(U.shadow){H(Q,F(T("#000","0 0 4px #000"),{top:2+"px"}))}H(S,H(Q,T(N(U.color,R),"0 0 1px rgba(0,0,0,.1)")))}return S},opacity:function(R,Q,S){if(Q<R.childNodes.length){R.childNodes[Q].style.opacity=S}}});function L(){function Q(S,R){return G("<"+S+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',R)}I.addRule(".spin-vml","behavior:url(#default#VML)");B.prototype.lines=function(T,S){var R=S.length+S.width,Z=2*R;function Y(){return F(Q("group",{coordsize:Z+" "+Z,coordorigin:-R+" "+-R}),{width:Z,height:Z})}var U=-(S.width+S.length)*2+"px",X=F(Y(),{position:"absolute",top:U,left:U}),W;function V(b,a,c){H(X,H(F(Y(),{rotation:360/S.lines*b+"deg",left:~~a}),H(F(Q("roundrect",{arcsize:S.corners}),{width:R,height:S.width,left:S.radius,top:-S.width>>1,filter:c}),Q("fill",{color:N(S.color,b),opacity:S.opacity}),Q("stroke",{opacity:0}))))}if(S.shadow){for(W=1;W<=S.lines;W++){V(W,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)")}}for(W=1;W<=S.lines;W++){V(W)}return H(T,X)};B.prototype.opacity=function(S,R,U,T){var V=S.firstChild;T=T.shadow&&T.lines||0;if(V&&R+T<V.childNodes.length){V=V.childNodes[R+T];V=V&&V.firstChild;V=V&&V.firstChild;if(V){V.opacity=U}}}}var A=F(G("group"),{behavior:"url(#default#VML)"});if(!M(A,"transform")&&A.adj){L()}else{O=M(A,"animation")}return B}));;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-spinner', location = 'js-vendor/jquery/jquery.spin.js' */
(function(A){A.fn.spin=function(E,D){var C,B;if(typeof E==="string"){if(!E in A.fn.spin.presets){throw new Error("Preset '"+E+"' isn't defined")}C=A.fn.spin.presets[E];B=D||{}}else{if(D){throw new Error("Invalid arguments. Accepted arguments:\n$.spin([String preset[, Object options]]),\n$.spin(Object options),\n$.spin(Boolean shouldSpin)")}C=A.fn.spin.presets.small;B=A.isPlainObject(E)?E:{}}if(window.Spinner){return this.each(function(){var G=A(this),F=G.data();if(F.spinner){F.spinner.stop();delete F.spinner}if(E===false){return }B=A.extend({color:G.css("color")},C,B);F.spinner=new Spinner(B).spin(this)})}else{throw"Spinner class not available."}};A.fn.spin.presets={small:{lines:12,length:3,width:2,radius:3,trail:60,speed:1.5},medium:{lines:12,length:5,width:3,radius:8,trail:60,speed:1.5},large:{lines:12,length:8,width:4,radius:10,trail:60,speed:1.5}};A.fn.spinStop=function(){if(window.Spinner){return this.each(function(){var C=A(this),B=C.data();if(B.spinner){B.spinner.stop();delete B.spinner}})}else{throw"Spinner class not available."}}})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:aui-flag', location = 'js/aui/flag.js' */
(function(A){define("aui/flag",[],function(){return A(AJS,AJS.$,AJS.template)})})(function(L,F,N){var O=5000;var A="aui-flag-container";var E={body:"",persistent:false,close:"",title:"",type:"info"};function J(R){if(R.hasOwnProperty("persistent")){var P;if(R.persistent){P=L.deprecate.getMessageLogger("persistent: true","5.8.0",{alternativeName:"close: never",extraInfo:"See https://ecosystem.atlassian.net/browse/AUI-2893."})}else{if(!R.persistent){P=L.deprecate.getMessageLogger("persistent: false","5.8.0",{alternativeName:"close: manual",extraInfo:"See https://ecosystem.atlassian.net/browse/AUI-2893."})}}P()}R=F.extend({},E,R);var Q=R.close!=="never"&&(R.close||(R.persistent!==true));var S=D(R,Q);G(S);if(R.close==="auto"){M(S);C(S)}else{if(R.close==="manual"){M(S)}else{if(R.close==="never"){}else{if(!R.persistent){M(S)}}}}H();return K(S)}function G(Q){var P=Q[0];P.close=function(){B(Q)}}function D(Q,P){var R='<div class="aui-flag"><div class="aui-message aui-message-{type} {type} {closeable} shadowed"><p class="title"><strong>{title}</strong></p>{body}<!-- .aui-message --></div></div>';var S=N(R).fill({"body:html":Q.body||"",closeable:P?"closeable":"",title:Q.title||"",type:Q.type}).toString();return F(S)}function M(Q){var P=F('<span class="aui-icon icon-close" role="button" tabindex="0"></span>');P.click(function(){B(Q)});P.keypress(function(R){if((R.which===L.keyCode.ENTER)||(R.which===L.keyCode.SPACE)){B(Q);R.preventDefault()}});return Q.find(".aui-message").append(P)[0]}function C(P){P.find(".aui-message").addClass("aui-will-close");setTimeout(function(){P[0].close()},O)}function B(Q){var P=Q.get(0);P.setAttribute("aria-hidden","true");P.dispatchEvent(new CustomEvent("aui-flag-close",{bubbles:true}));return P}function H(){var Q=I();var P=Q.find(".aui-flag");P.get().forEach(function(R){var S=R.getAttribute("aria-hidden")==="true";if(S){F(R).remove()}})}function I(){return F("#"+A)}function K(Q){var P=I();if(!P.length){P=F('<div id="'+A+'"></div>');F("body").prepend(P)}Q.appendTo(P);L._internal.animation.recomputeStyle(Q);return Q.attr("aria-hidden","false")[0]}return J});;
;
/* module-key = 'com.atlassian.plugins.atlassian-plugins-webresource-rest:curl', location = 'js/wrm/curl-config.js' */
(function(){if(!window.WRM){window.WRM={}}window.curl={apiContext:WRM,defineContext:WRM}}());;
;
/* module-key = 'com.atlassian.plugins.atlassian-plugins-webresource-rest:curl', location = 'js/wrm/lib/curl-0.7.3.js' */
(function(a){var P="0.7.3",u="curl",p="define",G,v,g,d=a.document,l=d&&(d.head||d.getElementsByTagName("head")[0]),V=l&&l.getElementsByTagName("base")[0]||null,i={},N={},c={},A="addEventListener" in a?{}:{loaded:1,complete:1},m={},b=m.toString,y,k={},f={},h=false,O,t=/\?|\.js\b/,e=/^\/|^[^:]+:\/\//,L=/(\.)(\.?)(?:$|\/([^\.\/]+.*)?)/g,E=/\/\*[\s\S]*?\*\/|(?:[^\\])\/\/.*?[\n\r]/g,C=/require\s*\(\s*["']([^"']+)["']\s*\)|(?:[^\\]?)(["'])/g,M,x;function Q(){}function D(X,W){return b.call(X).indexOf("[object "+W)==0}function B(X){var W;X.path=J(X.path||X.location||"");W=X.main||"./main";if(!n(W)){W="./"+W}X.main=s(W,X.name+"/");X.config=X.config;return X}function n(W){return W.charAt(0)=="."}function j(W){return e.test(W)}function o(X,W){return J(X)+"/"+W}function J(W){return W&&W.charAt(W.length-1)=="/"?W.substr(0,W.length-1):W}function s(ab,X){var ac,W,Z,Y,aa;ac=1;W=ab;if(n(W)){Y=true;W=W.replace(L,function(ad,ae,af,ag){if(af){ac++}return ag||""})}if(Y){Z=X.split("/");aa=Z.length-ac;if(aa<0){return ab}Z.splice(aa,ac);return Z.concat(W||[]).join("/")}else{return W}}function S(X){var W=X.indexOf("!");return{resourceId:X.substr(W+1),pluginId:W>=0&&X.substr(0,W)}}function U(){}function z(X,W){U.prototype=X||m;var Z=new U();U.prototype=m;for(var Y in W){Z[Y]=W[Y]}return Z}function F(){var X,aa,W;X=this;aa=[];function ab(ac,ad,ae){aa.push([ac,ad,ae])}function Y(ag,ad){var af,ac,ae=0;while((af=aa[ae++])){ac=af[ag];if(ac){ac(ad)}}}W=function Z(ad,ac){ab=ad?function(ae,af){ae&&ae(ac)}:function(ae,af){af&&af(ac)};W=Q;Y(ad?0:1,ac);Y=Q;aa=y};this.then=function(ac,ad,ae){ab(ac,ad,ae);return X};this.resolve=function(ac){X.resolved=ac;W(true,ac)};this.reject=function(ac){X.rejected=ac;W(false,ac)};this.progress=function(ac){Y(2,ac)}}function r(W){return W instanceof F}function H(W,Z,X,Y){if(r(W)){return W.then(Z,X,Y)}else{return Z(W)}}function q(Y,X,Z){var W;return function(){if(--Y>=0&&X){W=X.apply(y,arguments)}if(Y==0&&Z){Z(W)}return W}}x={toAbsId:function(ab,aa,W){var Y,X,Z;Y=s(ab,aa);if(n(Y)){return Y}Z=S(Y);X=Z.pluginId;Y=X||Z.resourceId;if(Y in W.pathMap){Y=W.pathMap[Y].main||Y}if(X){if(X.indexOf("/")<0&&!(X in W.pathMap)){Y=o(W.pluginPath,X)}Y=Y+"!"+Z.resourceId}return Y},createContext:function(W,X,ab,aa){var Z;Z=new F();Z.id=X||"";Z.isPreload=aa;Z.depNames=ab;Z.config=W;function ad(ae){return x.toAbsId(ae,Z.id,W)}function ac(ae){return x.resolvePathInfo(ad(ae),W).url}function Y(ag,ak,af){var ae,aj,ai,ah;ae=ak&&function(){ak.apply(y,arguments[0])};if(D(ag,"String")){if(ae){throw new Error("require(id, callback) not allowed")}aj=ad(ag);ai=k[aj];if(!(aj in k)){throw new Error("Module not resolved: "+aj)}ah=r(ai)&&ai.exports;return ah||ai}else{H(x.getDeps(x.createContext(W,Z.id,ag,aa)),ae,af)}}Z.require=Y;Y.toUrl=ac;Z.toAbsId=ad;return Z},createResourceDef:function(W,ad,ab){var aa,X,Z;aa=x.createContext(W,ad,y,ab);X=aa.resolve;Z=q(1,function(af){aa.deps=af;try{return x.executeDefFunc(aa)}catch(ae){aa.reject(ae)}});aa.resolve=function Y(ae){H(ab||h,function(){X((k[aa.id]=f[aa.url]=Z(ae)))})};aa.exportsReady=function ac(ae){H(ab||h,function(){if(aa.exports){Z(ae);aa.progress(N)}})};return aa},createPluginDef:function(W,aa,Z,Y){var X;X=x.createContext(W,Z,y,Y);return X},getCjsRequire:function(W){return W.require},getCjsExports:function(W){return W.exports||(W.exports={})},getCjsModule:function(X){var W=X.module;if(!W){W=X.module={id:X.id,uri:x.getDefUrl(X),exports:x.getCjsExports(X),config:function(){return X.config}};W.exports=W.exports}return W},getDefUrl:function(W){return W.url||(W.url=x.checkToAddJsExt(W.require.toUrl(W.id),W.config))},setApi:function(W){var Y,Z,X,aa,ab,ac;Y=u;Z=p;X=aa=a;ab=" already exists";if(W){ac=W.overwriteApi||W.overwriteApi;Y=W.apiName||W.apiName||Y;X=W.apiContext||W.apiContext||X;Z=W.defineName||W.defineName||Z;aa=W.defineContext||W.defineContext||aa;if(v&&D(v,"Function")){a[u]=v}v=null;if(g&&D(g,"Function")){a[p]=g}g=null;if(!ac){if(X[Y]&&X[Y]!=K){throw new Error(Y+ab)}if(aa[Z]&&aa[Z]!=I){throw new Error(Z+ab)}}}X[Y]=K;aa[Z]=I},config:function(aa){var ab,Z,W,X;if("baseUrl" in aa){aa.baseUrl=aa.baseUrl}if("main" in aa){aa.main=aa.main}if("preloads" in aa){aa.preloads=aa.preloads}if("pluginPath" in aa){aa.pluginPath=aa.pluginPath}if("dontAddFileExt" in aa||aa.dontAddFileExt){aa.dontAddFileExt=new RegExp(aa.dontAddFileExt||aa.dontAddFileExt)}ab=G;Z=z(ab,aa);Z.pathMap=z(ab.pathMap);W=aa.plugins||{};Z.plugins=z(ab.plugins);Z.paths=z(ab.paths,aa.paths);Z.packages=z(ab.packages,aa.packages);Z.pathList=[];function ac(af,am){var ah,aj,al,ak,an,ai;for(var ag in af){al=af[ag];if(D(al,"String")){al={path:af[ag]}}al.name=al.name||ag;an=Z;ak=S(J(al.name));ah=ak.resourceId;aj=ak.pluginId;if(aj){an=W[aj];if(!an){an=W[aj]=z(Z);an.pathMap=z(Z.pathMap);an.pathList=[]}delete af[ag]}if(am){ai=B(al);if(ai.config){ai.config=z(Z,ai.config)}}else{ai={path:J(al.path)}}ai.specificity=ah.split("/").length;if(ah){an.pathMap[ah]=ai;an.pathList.push(ah)}else{an.baseUrl=x.resolveUrl(al.path,Z)}}}function ad(af){var ag=af.pathMap;af.pathRx=new RegExp("^("+af.pathList.sort(function(ai,ah){return ag[ah].specificity-ag[ai].specificity}).join("|").replace(/\/|\./g,"\\$&")+")(?=\\/|$)");delete af.pathList}ac(aa.packages,true);ac(aa.paths,false);for(X in W){var Y=x.toAbsId(X+"!","",Z);Z.plugins[Y.substr(0,Y.length-1)]=W[X]}W=Z.plugins;for(X in W){W[X]=z(Z,W[X]);var ae=W[X].pathList;if(ae){W[X].pathList=ae.concat(Z.pathList);ad(W[X])}}for(X in ab.pathMap){if(!Z.pathMap.hasOwnProperty(X)){Z.pathList.push(X)}}ad(Z);return Z},checkPreloads:function(W){var X;X=W&&W.preloads;if(X&&X.length>0){H(h,function(){h=x.getDeps(x.createContext(G,y,X,true))})}},resolvePathInfo:function(Z,X){var Y,ab,aa,W;Y=X.pathMap;if(!j(Z)){aa=Z.replace(X.pathRx,function(ac){ab=Y[ac]||{};W=ab.config;return ab.path||""})}else{aa=Z}return{config:W||G,url:x.resolveUrl(aa,X)}},resolveUrl:function(Y,W){var X=W.baseUrl;return X&&!j(Y)?o(X,Y):Y},checkToAddJsExt:function(X,W){return X+((W||G).dontAddFileExt.test(X)?"":".js")},loadScript:function(Z,ab,X){var Y=d.createElement("script");function aa(ac){ac=ac||a.event;if(ac.type=="load"||A[Y.readyState]){delete c[Z.id];Y.onload=Y.onreadystatechange=Y.onerror="";ab()}}function W(ac){X(new Error("Syntax or http error: "+Z.url))}Y.onload=Y.onreadystatechange=aa;Y.onerror=W;Y.type=Z.mimetype||"text/javascript";Y.charset="utf-8";Y.async=!Z.order;Y.src=Z.url;c[Z.id]=Y;l.insertBefore(Y,V);return Y},extractCjsDeps:function(X){var Y,W=[],Z;Y=typeof X=="string"?X:X.toSource?X.toSource():X.toString();Y.replace(E,"").replace(C,function(aa,ac,ab){if(ab){Z=Z==ab?y:Z}else{if(!Z){W.push(ac)}}return""});return W},fixArgs:function(X){var ac,aa,Y,ab,W,Z;W=X.length;Y=X[W-1];ab=D(Y,"Function")?Y.length:-1;if(W==2){if(D(X[0],"Array")){aa=X[0]}else{ac=X[0]}}else{if(W==3){ac=X[0];aa=X[1]}}if(!aa&&ab>0){Z=true;aa=["require","exports","module"].slice(0,ab).concat(x.extractCjsDeps(Y))}return{id:ac,deps:aa||[],res:ab>=0?Y:function(){return Y},cjs:Z}},executeDefFunc:function(Y){var X,W;W=Y.cjs?Y.exports:y;X=Y.res.apply(W,Y.deps);if(X===y&&Y.exports){X=Y.module?(Y.exports=Y.module.exports):Y.exports}return X},defineResource:function(X,W){X.res=W.res;X.cjs=W.cjs;X.depNames=W.deps;x.getDeps(X)},getDeps:function(X){var ab,af,ai,ad,ag,aa,W,aj,ah;ai=[];af=X.depNames;ad=af.length;if(af.length==0){Y()}function ae(am,ak,al){ai[ak]=am;if(al){aj(am,ak)}}aj=q(ad,ae,ac);ah=q(ad,ae,Y);for(ab=0;ab<ad;ab++){W=af[ab];if(W in M){ah(M[W](X),ab,true);if(X.exports){X.progress(i)}}else{if(!W){ah(y,ab,true)}else{Z(W,ab)}}}return X;function Z(am,al){var an,ak,ap,ao;an=q(1,function(aq){ak(aq);ah(aq,al)});ak=q(1,function(aq){aj(aq,al)});ap=x.fetchDep(am,X);ao=r(ap)&&ap.exports;if(ao){ak(ao)}H(ap,an,X.reject,X.exports&&function(aq){if(ap.exports){if(aq==i){ak(ap.exports)}else{if(aq==N){an(ap.exports)}}}})}function Y(){X.resolve(ai)}function ac(){X.exportsReady&&X.exportsReady(ai)}},fetchResDef:function(W){x.getDefUrl(W);x.loadScript(W,function(){var X=O;O=y;if(W.useNet!==false){if(!X||X.ex){W.reject(new Error(((X&&X.ex)||"define() missing or duplicated: "+W.url)))}else{x.defineResource(W,X)}}},W.reject);return W},fetchDep:function(ai,X){var W,Z,ae,ab,ah,ad,aa,aj,af,Y,ac,ag;W=X.toAbsId;Z=X.isPreload;ae=X.config||G;ab=S(W(ai));aj=ab.resourceId;ah=ab.pluginId||aj;af=x.resolvePathInfo(ah,ae);if(ab.pluginId){ad=ah}else{ad=af.config.moduleLoader||af.config.moduleLoader;if(ad){aj=ah;ah=ad;af=x.resolvePathInfo(ad,ae)}}if(ah in k){Y=k[ah]}else{if(af.url in f){Y=k[ah]=f[af.url]}else{Y=x.createResourceDef(af.config,ah,Z);Y.url=x.checkToAddJsExt(af.url,af.config);k[ah]=f[af.url]=Y;x.fetchResDef(Y)}}if(ah==ad){ac=new F();ag=ae.plugins[ad]||ae;H(Y,function(am){var ao,ak,an;an=am.dynamic;if("normalize" in am){aj=am.normalize(aj,W,Y.config)||""}else{aj=W(aj)}ak=ad+"!"+aj;ao=k[ak];if(!(ak in k)){ao=x.createPluginDef(ag,ak,aj,Z);if(!an){k[ak]=ao}var al=function(ap){ao.resolve(ap);if(!an){k[ak]=ap}};al.resolve=al;al.reject=al.error=ao.reject;am.load(aj,ao.require,al,ag)}if(ac!=ao){H(ao,ac.resolve,ac.reject,ac.progress)}},ac.reject)}return ac||Y},getCurrentDefName:function(){var W;if(!D(a.opera,"Opera")){for(var X in c){if(c[X].readyState=="interactive"){W=X;break}}}return W}};M={require:x.getCjsRequire,exports:x.getCjsExports,module:x.getCjsModule};function K(){var X=[].slice.call(arguments),W;if(D(X[0],"Object")){W=X.shift();R(W)}return new w(X[0],X[1],X[2])}function R(W){if(W){x.setApi(W);G=x.config(W);x.checkPreloads(W);if("main" in W){setTimeout(function(){var X;X=x.createContext(G,y,[].concat(W.main));x.getDeps(X)},0)}}}function w(Y,ab,X,aa){var Z,W;W=x.createContext(G,y,[].concat(Y));this["then"]=Z=function(ac,ad){H(W,function(ae){if(ac){ac.apply(y,ae)}},function(ae){if(ad){ad(ae)}else{throw ae}});return this};this["next"]=function(ae,ac,ad){return new w(ae,ac,ad,W)};this["config"]=R;if(ab||X){Z(ab,X)}H(aa,function(){x.getDeps(W)})}K.version=P;K.config=R;function T(W){var Z,X,Y;Z=W.id;if(Z==y){if(O!==y){O={ex:"Multiple anonymous defines in url"}}else{if(!(Z=x.getCurrentDefName())){O=W}}}if(Z!=y){X=k[Z];if(!(Z in k)){Y=x.resolvePathInfo(Z,G);X=x.createResourceDef(Y.config,Z);k[Z]=X}if(!r(X)){throw new Error("duplicate define: "+Z)}X.useNet=false;x.defineResource(X,W)}}function I(){var W=x.fixArgs(arguments);T(W)}I.amd={plugins:true,jQuery:true,curl:P};G={baseUrl:"",pluginPath:"curl/plugin",dontAddFileExt:t,paths:{},packages:{},plugins:{},pathMap:{},pathRx:/$^/};v=a[u];g=a[p];if(!v||D(v,"Function")){x.setApi()}else{a[u]=y;R(v)}k[u]=K;k["curl/_privileged"]={core:x,cache:k,config:function(){return G},_define:T,_curl:K,Promise:F}}(this.window||(typeof global!="undefined"&&global)||this));;
;
/* module-key = 'com.atlassian.plugins.atlassian-plugins-webresource-rest:curl', location = 'js/wrm/lib/curl-css-0.7.3.js' */
(function(B){var z="createElement",s="parentNode",f=B.setTimeout,H=B.document,k,x=H&&H.createStyleSheet&&!(H.documentMode>=10),v=[],u=[],C=[],i=12,F,g="HTTP or network error.",l={};if(H){k=H.head||H.getElementsByTagName("head")[0];if(x){F=c}else{F=t}}function q(J,I){l[J]=l[J]||I}function y(){var I;I=H[z]("link");I.rel="stylesheet";I.type="text/css";return I}function r(J,I){J.onload=function(){q("load",true);I()}}function n(J,I){J.onerror=function(){q("error",true);I()}}function c(K,I,M){var L;C.push({url:K,cb:I,eb:function J(){M(new Error(g))}});L=h();if(L){m(L)}}function m(K){var J,I;J=C.shift();I=K.styleSheet;if(J){K.onload=function(){J.cb(J.ss);m(K)};K.onerror=function(){J.eb();m(K)};J.ss=I.imports[I.addImport(J.url)]}else{e(K);G(K)}}function G(I){u.push(I)}function h(){var I;I=u.shift();if(!I&&v.length<i){I=H.createElement("style");v.push(I);k.appendChild(I)}return I}function b(L){var K,J,M;if(!L.href||!o()){return false}K=false;try{J=L.sheet;if(J){M=J.cssRules;K=M===null;if(!K&&M){J.insertRule("-curl-css-test {}",0);J.deleteRule(0);K=true}}}catch(I){K=Object.prototype.toString.call(window.opera)!="[object Opera]"&&/security|denied/i.test(I.message)}return K}function e(I){I.onload=I.onerror=j}function w(I){return I.onload==j||!I.onload}function E(J,K,I){if(l.load){return}if(b(J)){I(J.sheet)}else{if(!w(J)){f(function(){E(J,K,I)},K)}}}function A(J,K,I){if(l.error){return}}function p(J,L,I){function K(){if(w(J)){return}e(J);d(function(){I(J.sheet)})}r(J,K);E(J,L,K)}function D(K,L,I){function J(){if(w(K)){return}e(K);I(new Error(g))}n(K,J);A(K,L,J)}function t(J,I,K,M){var L;L=y();p(L,M,I);D(L,M,K);L.href=J;k.appendChild(L)}function d(I){function J(){if(o()){I()}else{f(J,10)}}J()}function o(){return !H.readyState||H.readyState=="complete"}function a(I,J){return I.lastIndexOf(".")<=I.lastIndexOf("/")?I+"."+J:I}function j(){}WRM.define("curl/plugin/css",{normalize:function(N,J){var L,M;if(!N){return N}L=[N];M=[];for(var K=0,I=L.length;K<I;K++){M.push(J(L[K]))}return M.join(",")},load:function(R,L,U,K){var Q,J,V,S,M,O;Q=[];J=[R||""];V=K.cssWatchPeriod||50;S=K.cssNoWait;M=J.length;function N(W){if(J.length>1){Q.push(W)}if(--M==0){U(J.length==1?W:Q)}}function P(X){var W;W=U.reject||function(Y){throw Y};W(X)}for(O=0;O<J.length;O++){R=J[O];var I,T;I=a(L.toUrl(R),"css");if(S){T=y();T.href=I;k.appendChild(T);N(T.sheet||T.styleSheet)}else{F(I,N,P,V)}}},"plugin-builder":"./builder/css",pluginBuilder:"./builder/css"})})(this);;
;
/* module-key = 'com.atlassian.plugins.atlassian-plugins-webresource-rest:curl', location = 'js/wrm/lib/curl-js-0.7.3.js' */
(function(b,c,a){WRM.define("curl/plugin/js",["curl/_privileged"],function(m){var f={},j=[],h=c&&c.createElement("script").async==true,l,k,g;l=m.Promise;function i(n,o){return n.lastIndexOf(".")<=n.lastIndexOf("/")?n+"."+o:n}function e(o,u,q){var v,s,p;v=new Date().valueOf()+(o.timeoutMsec||300000);function n(){s=true;if(o.exports){o.resolved=a(o.exports)}if(!o.exports||o.resolved){u(p)}else{q()}}function r(w){s=true;q(w)}function t(){if(!s){if(v<new Date()){q()}else{setTimeout(t,10)}}}if(q&&o.exports){setTimeout(t,10)}p=m.core.loadScript(o,n,r)}function d(n,o){e(n,function(){var p=j.shift();k=j.length>0;if(p){d.apply(null,p)}o.resolve(n.resolved||true)},function(p){o.reject(p)})}return{dynamic:true,normalize:function(q,p,o){var n=q.indexOf("!");return n>=0?p(q.substr(0,n))+q.substr(n):p(q)},load:function(o,r,w,q){var s,t,u,v,n,p,y;s=o.indexOf("!order")>0;t=o.indexOf("!exports=");u=t>0&&o.substr(t+9);v="prefetch" in q?q.prefetch:true;o=s||t>0?o.substr(0,o.indexOf("!")):o;n=i(r.toUrl(o),"js");function x(z){(w.error||function(A){throw A})(z)}if(n in f){if(f[n] instanceof l){f[n].then(w,x)}else{w(f[n])}}else{p={name:o,url:n,order:s,exports:u,timeoutMsec:q.timeout};f[n]=y=new l();y.then(function(z){f[n]=z;w(z)},x);if(s&&!h&&k){j.push([p,y]);if(v){p.mimetype="text/cache";e(p,function(z){z&&z.parentNode.removeChild(z)},function(){});p.mimetype=""}}else{k=k||s;d(p,y)}}}}})}(this,this.document,function(){try{return eval(arguments[0])}catch(ex){return}}));;
;
/* module-key = 'com.atlassian.plugins.atlassian-plugins-webresource-rest:web-resource-manager', location = 'js/wrm/jquery.js' */
WRM.define("wrm/jquery",function(){return AJS.$});;
;
/* module-key = 'com.atlassian.plugins.atlassian-plugins-webresource-rest:web-resource-manager', location = 'js/wrm/underscore.js' */
WRM.define("wrm/_",function(){var a={filter:function(f,d){var b=[];for(var c=0;c<f.length;++c){var e=f[c];if(d(e)){b.push(e)}}return b},map:function(d,c){var e=[];for(var b=0;b<d.length;++b){e.push(c(d[b]))}return e},each:function(d,c){if(d.length===+d.length){for(var b=0;b<d.length;++b){c(d[b])}}else{for(var e in d){if(d.hasOwnProperty(e)){c(d[e],e)}}}},bind:function(c,b){return function(){c.apply(b,Array.prototype.slice.call(arguments))}},isArray:function(b){return Object.prototype.toString.call(b)=="[object Array]"},isUndefined:function(b){return b===void 0},isNull:function(b){return b===null}};return a});;
;
/* module-key = 'com.atlassian.plugins.atlassian-plugins-webresource-rest:web-resource-manager', location = 'js/wrm/builder.js' */
WRM.define("wrm/builder",function(){var a=function(d){var b="(?:$|\\?.*)";var c="^"+d;this.patterns={js:{contextBatch:new RegExp(c+"/contextbatch/js/(.*?)/batch.js"+b),resourceBatch:new RegExp(c+"/batch/(.*?)/(.*).js"+b),noBatch:new RegExp(c+"/resources/(.*?)/(.*).js"+b)},css:{contextBatch:new RegExp(c+"/contextbatch/css/(.*?)/batch.css"+b),resourceBatch:new RegExp(c+"/batch/(.*?)/(.*).css"+b),noBatch:new RegExp(c+"/resources/(.*?)/(.*).css"+b)}}};a.prototype={initialize:function(c){var g,b=c.getElementsByTagName("script"),e=c.getElementsByTagName("link"),f={modules:[],contexts:[]};for(g=0;g<b.length;++g){var d=b[g];if(d.getAttribute("src")){this._inspectMatches(d.getAttribute("src"),this.patterns.js,f)}}for(g=0;g<e.length;++g){var h=e[g];if(h.getAttribute("href")){this._inspectMatches(h.getAttribute("href"),this.patterns.css,f)}}return f},getModulesAndContextsFromScriptUrl:function(c){var b={modules:[],contexts:[]};this._inspectMatches(c,this.patterns.js,b);return b},_inspectMatches:function(d,f,c){var b;b=d.match(f.contextBatch);if(b){var g=b[1].split(",");for(var e=0;e<g.length;++e){this._addToLoadedList(c.contexts,g[e])}return}b=d.match(f.resourceBatch);if(b){this._addToLoadedList(c.modules,b[1]);return}b=d.match(f.noBatch);if(b){this._addToLoadedList(c.modules,b[1]);return}},_addToLoadedList:function(d,c){for(var b=0;b<d.length;++b){if(d[b]===c){return}}d.push(c)}};return a});;
;
/* module-key = 'com.atlassian.plugins.atlassian-plugins-webresource-rest:web-resource-manager', location = 'js/wrm/ie-only-filter.js' */
WRM.define("wrm/ie-only-filter",["wrm/jquery","wrm/_"],function(c,a){function b(d){var e=c.browser.msie;return a.filter(d,function(f){return f.ieOnly?e:true})}return b});;
;
/* module-key = 'com.atlassian.plugins.atlassian-plugins-webresource-rest:web-resource-manager', location = 'js/wrm/conditional-comment-filter.js' */
WRM.define("wrm/conditional-comment-filter",["wrm/jquery","wrm/_"],function(c,a){function b(e){var f=c.browser.msie;var d=c.browser.version;return a.filter(e,function(h){var g=h.conditionalComment;if(!g){return true}if(!f||d>9){return false}g=g.toLowerCase();switch(g){case"ie":return true;case"lt ie 9":return d<9;case"lte ie 9":return d<=9;case"ie 9":return d==9;case"gt ie 9":return d>9;case"gte ie 9":return d>=9;case"lt ie 8":return d<8;case"lte ie 8":return d<=8;case"ie 8":return d==8;case"gt ie 8":return d>8;case"gte ie 8":return d>=8;default:AJS.log("Cannot parse conditional comment "+g);return false}})}return b});;
;
/* module-key = 'com.atlassian.plugins.atlassian-plugins-webresource-rest:web-resource-manager', location = 'js/wrm/resource-base-url-pattern.js' */
WRM.define("wrm/resource-base-url-pattern",function(){return WRM.data.claim("com.atlassian.plugins.atlassian-plugins-webresource-rest:web-resource-manager.resource-base-url-pattern")});;
;
/* module-key = 'com.atlassian.plugins.atlassian-plugins-webresource-rest:web-resource-manager', location = 'js/wrm/require-handler.js' */
WRM.define("wrm/require-handler",["wrm/jquery","wrm/_","wrm/builder","wrm/conditional-comment-filter","wrm/ie-only-filter","wrm/resource-base-url-pattern"],function(e,h,i,g,a,c){var f=/^wr!(.*)$/,d=/^wrc!(.*)$/;var b=function(){this._requireCache={}};b.prototype={require:function(k,j){if(!h.isArray(k)){k=[k]}if(!this._requireCache.hasOwnProperty(k)){this._requireCache[k]=this._resolveAsync(k)}var l=this._requireCache[k];if(j){l.done(function(){j.apply(this,arguments)})}return l},_resolveAsync:function(l){var j=e.Deferred();var k=this;this._getScriptsForResources(l).done(function(p){if(p.unparsedData){window.WRM._unparsedData||(window.WRM._unparsedData={});h.each(p.unparsedData,function(u,t){window.WRM._unparsedData[t]=u});window.WRM._dataArrived()}if(p.unparsedErrors){window.WRM._unparsedErrors||(window.WRM._unparsedErrors={});h.each(p.unparsedErrors,function(u,t){window.WRM._unparsedErrors[t]=u});window.WRM._dataArrived()}var q=[];var s=[];var m=k._filter(p.resources);for(var o=0;o<m.length;++o){var r=m[o];var n=r.url;if(r.resourceType==="JAVASCRIPT"){if(!k._isJSInInitLoad(n)){q.push("js!"+n+"!order")}}else{if(r.resourceType==="CSS"){if(!k._isCSSInInitLoad(n)){if(r.media&&"all"!==r.media){s.push(r)}else{q.push("css!"+n)}}}else{AJS.log("Unknown resource type required: "+n)}}}AJS.log("Downloading resources:\n"+q.join("\n"));WRM.curl(q,function(){h.each(s,function(u){k._loadCssImmediate(u)});var t=h.map(l,function(){return window});j.resolveWith(k,t)},function(){j.rejectWith(k,arguments)})});return j.promise()},_loadCssImmediate:function(k){AJS.log("WARN: asynchronously loading a CSS resource containing a media query: "+k.url);var j='<link rel="stylesheet" type="text/css" href="'+k.url+'" media="'+k.media+'" />';e(j).appendTo("head")},_getScriptsForResources:function(k){if(!this._builder){this._builder=new i(c);this._initLoadResources=this._builder.initialize(document)}var j=[];var l=[];h.each(k,function(n){var m;if(m=n.match(f)){j.push(m[1])}else{if(m=n.match(d)){l.push(m[1])}}});return e.ajax({url:AJS.contextPath()+"/rest/webResources/1.0/resources",type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify({r:j,c:l,xc:this._initLoadResources.contexts,xr:this._initLoadResources.modules})})},_isJSInInitLoad:function(j){return e("script[src='"+j+"']").length>0},_isCSSInInitLoad:function(j){return e("link[href='"+j+"']").length>0},_filter:function(k){if(!this._filters){this._filters=[g,a]}var j=k;h.each(this._filters,function(l){j=l(j)});return j}};return b});;
;
/* module-key = 'com.atlassian.plugins.atlassian-plugins-webresource-rest:web-resource-manager', location = 'js/wrm/index.js' */
WRM.curl(["wrm/require-handler"],function(b){var a;WRM.require=function(d,c){if(!a){a=new b()}return a.require(d,c)};if(typeof define==="function"){define("wrm/require",[],function(){return WRM.require})}});;
;
/* module-key = 'com.atlassian.plugin.jslibs:skate-0.12.6', location = 'libs/skate/0.12.6/skate-0.12.6.js' */
(function e(g,c,j){function h(a,k){if(!c[a]){if(!g[a]){var d="function"==typeof require&&require;if(!k&&d)return d(a,!0);if(f)return f(a,!0);d=Error("Cannot find module '"+a+"'");throw d.code="MODULE_NOT_FOUND",d;}d=c[a]={exports:{}};g[a][0].call(d.exports,function(c){var f=g[a][1][c];return h(f?f:c)},d,d.exports,e,g,c,j)}return c[a].exports}for(var f="function"==typeof require&&require,d=0;d<j.length;d++)h(j[d]);return h})({1:[function(b,g,c){Object.defineProperty(c,"__esModule",{value:!0});"use strict";
c.ATTR_IGNORE="data-skate-ignore";c.types={ANY:"act",ATTR:"a",CLASS:"c",NOATTR:"ct",NOCLASS:"at",NOTAG:"ac",TAG:"t"}},{}],2:[function(b,g){g.exports={get:function(c,b){if(c.__SKATE_DATA)return c.__SKATE_DATA[b]},set:function(c,b,h){c.__SKATE_DATA||(c.__SKATE_DATA={});c.__SKATE_DATA[b]=h;return c}}},{}],3:[function(b,g){function c(c){for(var f=c.length,b=0;b<f;b++){var i=c[b],o=i.addedNodes,i=i.removedNodes;o&&(o.length&&!p(o[0].parentNode))&&d(o);i&&i.length&&a(i)}}var j=function(c){return c&&c.__esModule?
c["default"]:c},h=j(b("./globals")),f=b("./lifecycle"),d=f.initElements,a=f.removeElements,k=j(b("./mutation-observer")),p=b("./utils").getClosestIgnoredElement;g.exports={register:function(a){a&&(k.fixIe(),this.unregister());h.observer||(a=new k(c),a.observe(document,{childList:!0,subtree:!0}),h.observer=a);return this},unregister:function(){h.observer&&(h.observer.disconnect(),h.observer=void 0);return this}}},{"./globals":4,"./lifecycle":5,"./mutation-observer":6,"./utils":9}],4:[function(b,g){window.__skate||
(window.__skate={observer:void 0,registry:{}});g.exports=window.__skate},{}],5:[function(b,g,c){function j(o,c,a){if(k.get(o,c.id+":lifecycle:"+a))return!0;k.set(o,c.id+":lifecycle:"+a,!0);return!1}function h(c,a){if(!j(c,a,"created")){m(c,a.prototype,!0);a.template&&a.template(c);var b=function(a,b){return function(f){if(!b)return a(c,f,c);for(var d=f.target;d&&d!==document&&d!==c.parentNode;){if(i.call(d,b))return a(c,f,d);d=d.parentNode}}};"object"===typeof a.events&&l(a.events,function(a,d){var f,
i;i=d.split(" ");f=i.shift();i=i.join(" ");c.addEventListener(f,b(a,i),!!i&&("blur"===f||"focus"===f))});var f=function(i,f,d,b){var k;a.attributes&&a.attributes[f]&&"function"===typeof a.attributes[f][i]?k=a.attributes[f][i]:a.attributes&&"function"===typeof a.attributes[f]?k=a.attributes[f]:"function"===typeof a.attributes&&(k=a.attributes);k&&k(c,{type:i,name:f,newValue:d,oldValue:b})},d,k=c.attributes,h=[],g=k.length;(new p(function(a){a.forEach(function(a){var c,i=a.attributeName,d=k[i];d&&null===
a.oldValue?c="created":d&&null!==a.oldValue?c="updated":d||(c="removed");f(c,i,d?d.value||d.nodeValue:void 0,a.oldValue)})})).observe(c,{attributes:!0,attributeOldValue:!0});for(d=0;d<g;d++)h.push(k[d]);for(d=0;d<g;d++){var n=h[d];f("created",n.nodeName,n.value||n.nodeValue)}a.created&&a.created(c)}}function f(c){for(var i=c.length,d=0;d<i;d++){var b=c[d];if(!(1!==b.nodeType||b.attributes[a])){for(var k=n.getForElement(b),g=k.length,m=0;m<g;m++){var l=b,p=k[m];h(l,p);j(l,p,"attached")||(l.removeAttribute(p.unresolvedAttribute),
l.setAttribute(p.resolvedAttribute,""),p.attached&&p.attached(l))}b=b.childNodes;b.length&&f(b)}}}function d(a){for(var c=a.length,i=0;i<c;i++){var f=a[i];if(1===f.nodeType){d(f.childNodes);for(var b=n.getForElement(f),g=b.length,j=0;j<g;j++){var h=f,m=b[j];m.detached&&m.detached(h);k.set(h,m.id+":lifecycle:attached",!1)}}}}g=function(a){return a&&a.__esModule?a["default"]:a};Object.defineProperty(c,"__esModule",{value:!0});"use strict";var a=b("./constants").ATTR_IGNORE,k=g(b("./data")),p=g(b("./mutation-observer")),
n=g(b("./registry")),b=b("./utils"),m=b.inherit,l=b.objEach,b=window.HTMLElement.prototype,i=b.matches||b.msMatchesSelector||b.webkitMatchesSelector||b.mozMatchesSelector||b.oMatchesSelector;c.triggerCreated=h;c.initElements=f;c.removeElements=d},{"./constants":1,"./data":2,"./mutation-observer":6,"./registry":7,"./utils":9}],6:[function(b,g){function c(a,c){return{addedNodes:null,attributeName:null,attributeNamespace:null,nextSibling:null,oldValue:null,previousSibling:null,removedNodes:null,target:a,
type:c||"childList"}}function j(a,c){var f=a.childNodes;if(f)for(var d=f.length,b=0;b<d;b++){var k=f[b];c(k);j(k,c)}}function h(a){if(n&&!m)return new n(a);this.callback=a;this.elements=[]}var f=b("./utils"),d=f.debounce,a=f.objEach,k=window.HTMLElement.prototype,p=window.HTMLElement.prototype.contains,n=window.MutationObserver||window.WebkitMutationObserver||window.MozMutationObserver,m=!1,l=-1<window.navigator.userAgent.indexOf("Trident");h.fixIe=function(){if(l&&!m){var a=Object.getOwnPropertyDescriptor(k,
"innerHTML");Object.defineProperty(k,"innerHTML",{get:function(){return a.get.call(this)},set:function(c){j(this,function(a){var c=document.createEvent("MutationEvent");c.initMutationEvent("DOMNodeRemoved",!0,!1,null,null,null,null,null);a.dispatchEvent(c)});a.set.call(this,c)}});m=!0}};Object.defineProperty(h,"isFixingIe",{get:function(){return m}});h.prototype={observe:function(a,f){function b(a){h.push(a);n()}var k=this,j,g,h=[],l=[],n=d(function(){for(var b=h.length,d=0;d<b;d++){var n=h[d],r=
n.target;if(r){var n=n.type,q=r.parentNode;if(f.childList&&(f.subtree||q===a)){var s=m&&"DOMNodeRemoved"===n,t=j&&(1!==j.nodeType?!1:j.contains?j.contains(r):p.call(j,r));if(s||!t){if(!g||g.target!==q)l.push(g=c(q));"DOMNodeInserted"===n?(g.addedNodes||(g.addedNodes=[]),g.addedNodes.push(r)):(g.removedNodes||(g.removedNodes=[]),g.removedNodes.push(r));j=r}}}}k.callback(l);h=[];l=[];g=j=void 0}),t={},q=[],u=d(function(){var a=q.length;k.callback(q);q.splice(0,a)}),s={target:a,options:f,insertHandler:b,
removeHandler:b,attributeHandler:function(d){var b=d.target;if(f.attributes&&(f.subtree||b===a)){var k=d.attrName,g=d.prevValue,d=d.newValue,b=c(b,"attributes");b.attributeName=k;f.attributeOldValue&&(b.oldValue=t[k]||g||null);q.push(b);f.attributeOldValue&&(t[k]=d);u()}}};this.elements.push(s);f.childList&&(a.addEventListener("DOMNodeInserted",s.insertHandler),a.addEventListener("DOMNodeRemoved",s.removeHandler));f.attributes&&a.addEventListener("DOMAttrModified",s.attributeHandler);return this},
disconnect:function(){a(this.elements,function(a){a.target.removeEventListener("DOMNodeInserted",a.insertHandler);a.target.removeEventListener("DOMNodeRemoved",a.removeHandler);a.target.removeEventListener("DOMAttrModified",a.attributeHandler)});this.elements=[];return this}};g.exports=h},{"./utils":9}],7:[function(b,g){function c(a,c){return d(j.registry,a)&&-1<j.registry[a].type.indexOf(c)}var j,h=b("./globals");j=h&&h.__esModule?h["default"]:h;var f=b("./constants.js").types,d=b("./utils").hasOwn;
g.exports={clear:function(){j.registry={};return this},getForElement:function(a){var d=a.attributes,b=d.length,g=[],h=d.is,l=h&&(h.value||h.nodeValue),h=a.tagName.toLowerCase(),i=l||h,o;c(i,f.TAG)&&(i=j.registry[i],o=i["extends"],l?h===o&&g.push(i):o||g.push(i));for(l=0;l<b;l++)i=d[l].nodeName,c(i,f.ATTR)&&(i=j.registry[i],o=i["extends"],(!o||h===o)&&g.push(i));(d=a.classList)?a=d:(a=a.attributes,a=a["class"]&&a["class"].nodeValue.split(/\s+/)||[]);d=a.length;for(b=0;b<d;b++)i=a[b],c(i,f.CLASS)&&
(i=j.registry[i],o=i["extends"],(!o||h===o)&&g.push(i));return g},has:function(a){return d(j.registry,a)},set:function(a,c){if(this.has(a))throw Error('A definition of type "'+c.type+'" with the ID of "'+a+'" already exists.');j.registry[a]=c;return this},remove:function(a){this.has(a)&&delete j.registry[a];return this}}},{"./constants.js":1,"./globals":4,"./utils":9}],8:[function(b,g){function c(a,b){b=n(b||{},c.defaults);b.id=a;if(k.has(b.id))throw Error('A definition of type "'+b.type+'" with the ID of "'+
a+'" already exists.');k.set(b.id,b);i();h.register(b.remove);if(-1<b.type.indexOf(m.TAG)){var f=b,g=function(){var a;a=f["extends"];var b=f.id;a?(a=document.createElement(a),a.setAttribute("is",b)):a=document.createElement(b);f.prototype=g.prototype;d(a,f);return a};g.prototype=f.prototype;return g}}var j=function(a){return a&&a.__esModule?a["default"]:a},h=j(b("./document-observer")),f=b("./lifecycle"),d=f.triggerCreated,a=f.initElements,k=j(b("./registry")),p=b("./utils"),f=p.debounce,n=p.inherit,
j=j(b("./version")),m=b("./constants").types,l=!!document.attachEvent,i=f(function(){var b=function(){a(document.getElementsByTagName("html"))},c;c=l?"complete"===document.readyState:"interactive"===document.readyState||"complete"===document.readyState;c?b():l?window.addEventListener("load",b):document.addEventListener("DOMContentLoaded",b)});c.init=function(b){if(b)return"string"===typeof b&&(b=document.querySelectorAll(b)),a("undefined"===typeof b.length?[b]:b),b};c.types=m;c.version=j;c.defaults=
{attributes:void 0,events:void 0,"extends":"",id:"",prototype:{},resolvedAttribute:"resolved",template:void 0,type:m.ANY,unresolvedAttribute:"unresolved"};var o=window.skate;c.noConflict=function(){window.skate=o;return this};window.skate=c;g.exports=c},{"./constants":1,"./document-observer":3,"./lifecycle":5,"./registry":7,"./utils":9,"./version":10}],9:[function(b,g,c){function j(b,c){return Object.prototype.hasOwnProperty.call(b,c)}c.hasOwn=j;c.debounce=function(b){var c=!1;return function(){c||
(c=!0,setTimeout(function(){c=!1;b()},1))}};c.getClosestIgnoredElement=function(b){for(;b&&b!==document&&!(b instanceof DocumentFragment);){if(b.hasAttribute(h))return b;b=b.parentNode}};c.inherit=function(b,c,a){for(var g=Object.getOwnPropertyNames(c),h=g.length,j=0;j<h;j++){var m=g[j];if(a||void 0===b[m]){var l=Object.getOwnPropertyDescriptor(c,m);l.get||l.set||!l.writable||!l.enumerable||!l.configurable?Object.defineProperty(b,m,l):b[m]=c[m]}}return b};c.objEach=function(b,c){for(var a in b)j(b,
a)&&c(b[a],a)};Object.defineProperty(c,"__esModule",{value:!0});"use strict";var h=b("./constants").ATTR_IGNORE},{"./constants":1}],10:[function(b,g){g.exports="0.12.6"},{}]},{},[8]);(function(b){var g=b.skate.noConflict();define("atlassian/libs/skate-0.12.6",[],function(){return g})})(window);;
;
/* module-key = 'jira.webresources:skate', location = '/static/lib/skate/skate.js' */
define("jira/skate",["atlassian/libs/skate-0.12.6"],function(skate){function jiraSkate(id,component){return skate(id,component)}jiraSkate.type=skate.type||{CLASSNAME:skate.types.CLASS,ELEMENT:skate.types.TAG,ATTRIBUTE:skate.types.ATTR};jiraSkate.init=function(nodes){skate.init(nodes);if(window.skate&&window.skate.init){window.skate.init(nodes)}return nodes};return jiraSkate});;
;
/* module-key = 'jira.webresources:legacy-namespacing', location = '/includes/jira/common/namespace.js' */
define("jira/legacy/config",function(){var isDevMode=document.querySelector("meta[name=ajs-dev-mode]");isDevMode=isDevMode&&"true"===isDevMode.getAttribute("content");var darkFeatures=document.querySelector("meta[name=ajs-enabled-dark-features]");darkFeatures=darkFeatures&&darkFeatures.getAttribute("content")||"";function isEnabled(key){return darkFeatures&&darkFeatures.indexOf(key)!==-1}var noGlobals=isEnabled("amd.loader.noglobals");var logDeprecationNotice=isDevMode||noGlobals||isEnabled("amd.loader.globals.deprecation.warning");var hasDefineProperty=(function(){try{return Object.defineProperty&&Object.defineProperty({},"x",{get:function(){return true}}).x===true}catch(e){}return false})();return{hasDefineProperty:hasDefineProperty,logDeprecationNotice:logDeprecationNotice,noGlobals:noGlobals}});define("jira/legacy/logger",function(){var messages=[];var nextTick;function logMessages(){var i=0;var ii=messages.length;console&&console.groupCollapsed&&console.groupCollapsed("Global object deprecations ("+ii+")");for(;i<ii;i++){AJS.warn.apply(undefined,messages[i])}console&&console.groupEnd&&console.groupEnd();messages.length=0}return function(){messages.push(Array.prototype.slice.apply(arguments));if(nextTick){clearTimeout(nextTick)}nextTick=setTimeout(function(){logMessages();nextTick=undefined},200)}});define("jira/legacy/deprecator",function(){return AJS.deprecate});define("jira/legacy/namespace",["jira/legacy/config","jira/legacy/logger","jira/legacy/deprecator"],function(config,log,deprecator){return function internalLegacyNamespacing(namespace,context,value){var logMessage,names;if(config.logDeprecationNotice){if(config.noGlobals){logMessage="GONE: The global object "+namespace+" was not created!"}else{logMessage="DEPRECATED: The global object "+namespace+" is deprecated."}if(typeof value==="object"||typeof value==="function"){if(value.__amdModuleName){logMessage+=' Please use require(["'+value.__amdModuleName+'"]) instead.';delete value.__amdModuleName}}}if(config.noGlobals){log(logMessage);return }names=namespace.split(".");context=context||window;for(var i=0,n=names.length-1;i<n;i++){var x=context[names[i]];context=(x!=null)?x:context[names[i]]={}}(function(val){if(config.hasDefineProperty&&config.logDeprecationNotice){Object.defineProperty(context,names[i],{configurable:true,get:function(){var trace="";if(deprecator&&deprecator.__getDeprecatedLocation){trace=deprecator.__getDeprecatedLocation(0)}if(trace.indexOf("internalLegacyNamespacing")===-1){if(trace&&trace.indexOf("AJS.namespace")===-1){log(logMessage,"\n"+trace)}else{log(logMessage)}}return val},set:function(newVal){val=newVal}})}else{if(config.logDeprecationNotice){log(logMessage)}context[names[i]]=val}})(value||context[names[i]]||{});return context[names[i]]}});AJS.namespace=require("jira/legacy/namespace");AJS.namespace("jQuery.namespace",null,function(namespace){AJS.namespace(namespace)});;
;
/* module-key = 'com.atlassian.auiplugin:ajs-underscorejs', location = 'js-vendor/underscorejs/underscore.js' */
(function(){var W=this;var K=W._;var d={};var c=Array.prototype,F=Object.prototype,R=Function.prototype;var h=c.push,O=c.slice,Y=c.concat,D=F.toString,J=F.hasOwnProperty;var l=c.forEach,Q=c.map,e=c.reduce,C=c.reduceRight,B=c.filter,b=c.every,P=c.some,N=c.indexOf,L=c.lastIndexOf,U=Array.isArray,E=Object.keys,f=R.bind;var m=function(n){if(n instanceof m){return n}if(!(this instanceof m)){return new m(n)}this._wrapped=n};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=m}exports._=m}else{W._=m}m.VERSION="1.5.2";var i=m.each=m.forEach=function(s,p,o){if(s==null){return }if(l&&s.forEach===l){s.forEach(p,o)}else{if(s.length===+s.length){for(var n=0,r=s.length;n<r;n++){if(p.call(o,s[n],n,s)===d){return }}}else{var q=m.keys(s);for(var n=0,r=q.length;n<r;n++){if(p.call(o,s[q[n]],q[n],s)===d){return }}}}};m.map=m.collect=function(q,p,o){var n=[];if(q==null){return n}if(Q&&q.map===Q){return q.map(p,o)}i(q,function(t,r,s){n.push(p.call(o,t,r,s))});return n};var G="Reduce of empty array with no initial value";m.reduce=m.foldl=m.inject=function(r,q,n,p){var o=arguments.length>2;if(r==null){r=[]}if(e&&r.reduce===e){if(p){q=m.bind(q,p)}return o?r.reduce(q,n):r.reduce(q)}i(r,function(u,s,t){if(!o){n=u;o=true}else{n=q.call(p,n,u,s,t)}});if(!o){throw new TypeError(G)}return n};m.reduceRight=m.foldr=function(t,q,n,p){var o=arguments.length>2;if(t==null){t=[]}if(C&&t.reduceRight===C){if(p){q=m.bind(q,p)}return o?t.reduceRight(q,n):t.reduceRight(q)}var s=t.length;if(s!==+s){var r=m.keys(t);s=r.length}i(t,function(w,u,v){u=r?r[--s]:--s;if(!o){n=t[u];o=true}else{n=q.call(p,n,t[u],u,v)}});if(!o){throw new TypeError(G)}return n};m.find=m.detect=function(q,p,o){var n;a(q,function(t,r,s){if(p.call(o,t,r,s)){n=t;return true}});return n};m.filter=m.select=function(q,p,o){var n=[];if(q==null){return n}if(B&&q.filter===B){return q.filter(p,o)}i(q,function(t,r,s){if(p.call(o,t,r,s)){n.push(t)}});return n};m.reject=function(p,o,n){return m.filter(p,function(s,q,r){return !o.call(n,s,q,r)},n)};m.every=m.all=function(q,p,o){p||(p=m.identity);var n=true;if(q==null){return n}if(b&&q.every===b){return q.every(p,o)}i(q,function(t,r,s){if(!(n=n&&p.call(o,t,r,s))){return d}});return !!n};var a=m.some=m.any=function(q,p,o){p||(p=m.identity);var n=false;if(q==null){return n}if(P&&q.some===P){return q.some(p,o)}i(q,function(t,r,s){if(n||(n=p.call(o,t,r,s))){return d}});return !!n};m.contains=m.include=function(o,n){if(o==null){return false}if(N&&o.indexOf===N){return o.indexOf(n)!=-1}return a(o,function(p){return p===n})};m.invoke=function(p,q){var n=O.call(arguments,2);var o=m.isFunction(q);return m.map(p,function(r){return(o?q:r[q]).apply(r,n)})};m.pluck=function(o,n){return m.map(o,function(p){return p[n]})};m.where=function(o,n,p){if(m.isEmpty(n)){return p?void 0:[]}return m[p?"find":"filter"](o,function(r){for(var q in n){if(n[q]!==r[q]){return false}}return true})};m.findWhere=function(o,n){return m.where(o,n,true)};m.max=function(q,p,o){if(!p&&m.isArray(q)&&q[0]===+q[0]&&q.length<65535){return Math.max.apply(Math,q)}if(!p&&m.isEmpty(q)){return -Infinity}var n={computed:-Infinity,value:-Infinity};i(q,function(u,r,t){var s=p?p.call(o,u,r,t):u;s>n.computed&&(n={value:u,computed:s})});return n.value};m.min=function(q,p,o){if(!p&&m.isArray(q)&&q[0]===+q[0]&&q.length<65535){return Math.min.apply(Math,q)}if(!p&&m.isEmpty(q)){return Infinity}var n={computed:Infinity,value:Infinity};i(q,function(u,r,t){var s=p?p.call(o,u,r,t):u;s<n.computed&&(n={value:u,computed:s})});return n.value};m.shuffle=function(q){var p;var o=0;var n=[];i(q,function(r){p=m.random(o++);n[o-1]=n[p];n[p]=r});return n};m.sample=function(p,q,o){if(arguments.length<2||o){return p[m.random(p.length-1)]}return m.shuffle(p).slice(0,Math.max(0,q))};var A=function(n){return m.isFunction(n)?n:function(o){return o[n]}};m.sortBy=function(q,p,n){var o=A(p);return m.pluck(m.map(q,function(t,r,s){return{value:t,index:r,criteria:o.call(n,t,r,s)}}).sort(function(u,t){var s=u.criteria;var r=t.criteria;if(s!==r){if(s>r||s===void 0){return 1}if(s<r||r===void 0){return -1}}return u.index-t.index}),"value")};var T=function(n){return function(s,r,p){var o={};var q=r==null?m.identity:A(r);i(s,function(v,t){var u=q.call(p,v,t,s);n(o,u,v)});return o}};m.groupBy=T(function(n,o,p){(m.has(n,o)?n[o]:(n[o]=[])).push(p)});m.indexBy=T(function(n,o,p){n[o]=p});m.countBy=T(function(n,o){m.has(n,o)?n[o]++:n[o]=1});m.sortedIndex=function(u,t,q,p){q=q==null?m.identity:A(q);var s=q.call(p,t);var n=0,r=u.length;while(n<r){var o=(n+r)>>>1;q.call(p,u[o])<s?n=o+1:r=o}return n};m.toArray=function(n){if(!n){return[]}if(m.isArray(n)){return O.call(n)}if(n.length===+n.length){return m.map(n,m.identity)}return m.values(n)};m.size=function(n){if(n==null){return 0}return(n.length===+n.length)?n.length:m.keys(n).length};m.first=m.head=m.take=function(q,p,o){if(q==null){return void 0}return(p==null)||o?q[0]:O.call(q,0,p)};m.initial=function(q,p,o){return O.call(q,0,q.length-((p==null)||o?1:p))};m.last=function(q,p,o){if(q==null){return void 0}if((p==null)||o){return q[q.length-1]}else{return O.call(q,Math.max(q.length-p,0))}};m.rest=m.tail=m.drop=function(q,p,o){return O.call(q,(p==null)||o?1:p)};m.compact=function(n){return m.filter(n,m.identity)};var X=function(o,p,n){if(p&&m.every(o,m.isArray)){return Y.apply(n,o)}i(o,function(q){if(m.isArray(q)||m.isArguments(q)){p?h.apply(n,q):X(q,p,n)}else{n.push(q)}});return n};m.flatten=function(o,n){return X(o,n,[])};m.without=function(n){return m.difference(n,O.call(arguments,1))};m.uniq=m.unique=function(t,s,r,q){if(m.isFunction(s)){q=r;r=s;s=false}var o=r?m.map(t,r,q):t;var p=[];var n=[];i(o,function(v,u){if(s?(!u||n[n.length-1]!==v):!m.contains(n,v)){n.push(v);p.push(t[u])}});return p};m.union=function(){return m.uniq(m.flatten(arguments,true))};m.intersection=function(o){var n=O.call(arguments,1);return m.filter(m.uniq(o),function(p){return m.every(n,function(q){return m.indexOf(q,p)>=0})})};m.difference=function(o){var n=Y.apply(c,O.call(arguments,1));return m.filter(o,function(p){return !m.contains(n,p)})};m.zip=function(){var p=m.max(m.pluck(arguments,"length").concat(0));var o=new Array(p);for(var n=0;n<p;n++){o[n]=m.pluck(arguments,""+n)}return o};m.object=function(r,o){if(r==null){return{}}var n={};for(var p=0,q=r.length;p<q;p++){if(o){n[r[p]]=o[p]}else{n[r[p][0]]=r[p][1]}}return n};m.indexOf=function(r,p,q){if(r==null){return -1}var n=0,o=r.length;if(q){if(typeof q=="number"){n=(q<0?Math.max(0,o+q):q)}else{n=m.sortedIndex(r,p);return r[n]===p?n:-1}}if(N&&r.indexOf===N){return r.indexOf(p,q)}for(;n<o;n++){if(r[n]===p){return n}}return -1};m.lastIndexOf=function(r,p,q){if(r==null){return -1}var n=q!=null;if(L&&r.lastIndexOf===L){return n?r.lastIndexOf(p,q):r.lastIndexOf(p)}var o=(n?q:r.length);while(o--){if(r[o]===p){return o}}return -1};m.range=function(s,p,r){if(arguments.length<=1){p=s||0;s=0}r=arguments[2]||1;var q=Math.max(Math.ceil((p-s)/r),0);var n=0;var o=new Array(q);while(n<q){o[n++]=s;s+=r}return o};var g=function(){};m.bind=function(q,o){var n,p;if(f&&q.bind===f){return f.apply(q,O.call(arguments,1))}if(!m.isFunction(q)){throw new TypeError}n=O.call(arguments,2);return p=function(){if(!(this instanceof p)){return q.apply(o,n.concat(O.call(arguments)))}g.prototype=q.prototype;var s=new g;g.prototype=null;var r=q.apply(s,n.concat(O.call(arguments)));if(Object(r)===r){return r}return s}};m.partial=function(o){var n=O.call(arguments,1);return function(){return o.apply(this,n.concat(O.call(arguments)))}};m.bindAll=function(o){var n=O.call(arguments,1);if(n.length===0){throw new Error("bindAll must be passed function names")}i(n,function(p){o[p]=m.bind(o[p],o)});return o};m.memoize=function(p,o){var n={};o||(o=m.identity);return function(){var q=o.apply(this,arguments);return m.has(n,q)?n[q]:(n[q]=p.apply(this,arguments))}};m.delay=function(o,p){var n=O.call(arguments,2);return setTimeout(function(){return o.apply(null,n)},p)};m.defer=function(n){return m.delay.apply(m,[n,1].concat(O.call(arguments,1)))};m.throttle=function(o,q,u){var n,s,v;var t=null;var r=0;u||(u={});var p=function(){r=u.leading===false?0:new Date;t=null;v=o.apply(n,s)};return function(){var w=new Date;if(!r&&u.leading===false){r=w}var x=q-(w-r);n=this;s=arguments;if(x<=0){clearTimeout(t);t=null;r=w;v=o.apply(n,s)}else{if(!t&&u.trailing!==false){t=setTimeout(p,x)}}return v}};m.debounce=function(r,u,o){var t,p,q,s,n;return function(){q=this;p=arguments;s=new Date();var w=function(){var x=(new Date())-s;if(x<u){t=setTimeout(w,u-x)}else{t=null;if(!o){n=r.apply(q,p)}}};var v=o&&!t;if(!t){t=setTimeout(w,u)}if(v){n=r.apply(q,p)}return n}};m.once=function(p){var n=false,o;return function(){if(n){return o}n=true;o=p.apply(this,arguments);p=null;return o}};m.wrap=function(n,o){return function(){var p=[n];h.apply(p,arguments);return o.apply(this,p)}};m.compose=function(){var n=arguments;return function(){var o=arguments;for(var p=n.length-1;p>=0;p--){o=[n[p].apply(this,o)]}return o[0]}};m.after=function(o,n){return function(){if(--o<1){return n.apply(this,arguments)}}};m.keys=E||function(p){if(p!==Object(p)){throw new TypeError("Invalid object")}var o=[];for(var n in p){if(m.has(p,n)){o.push(n)}}return o};m.values=function(r){var q=m.keys(r);var p=q.length;var n=new Array(p);for(var o=0;o<p;o++){n[o]=r[q[o]]}return n};m.pairs=function(r){var p=m.keys(r);var o=p.length;var q=new Array(o);for(var n=0;n<o;n++){q[n]=[p[n],r[p[n]]]}return q};m.invert=function(r){var n={};var q=m.keys(r);for(var o=0,p=q.length;o<p;o++){n[r[q[o]]]=q[o]}return n};m.functions=m.methods=function(p){var o=[];for(var n in p){if(m.isFunction(p[n])){o.push(n)}}return o.sort()};m.extend=function(n){i(O.call(arguments,1),function(o){if(o){for(var p in o){n[p]=o[p]}}});return n};m.pick=function(o){var p={};var n=Y.apply(c,O.call(arguments,1));i(n,function(q){if(q in o){p[q]=o[q]}});return p};m.omit=function(p){var q={};var o=Y.apply(c,O.call(arguments,1));for(var n in p){if(!m.contains(o,n)){q[n]=p[n]}}return q};m.defaults=function(n){i(O.call(arguments,1),function(o){if(o){for(var p in o){if(n[p]===void 0){n[p]=o[p]}}}});return n};m.clone=function(n){if(!m.isObject(n)){return n}return m.isArray(n)?n.slice():m.extend({},n)};m.tap=function(o,n){n(o);return o};var j=function(u,t,o,p){if(u===t){return u!==0||1/u==1/t}if(u==null||t==null){return u===t}if(u instanceof m){u=u._wrapped}if(t instanceof m){t=t._wrapped}var r=D.call(u);if(r!=D.call(t)){return false}switch(r){case"[object String]":return u==String(t);case"[object Number]":return u!=+u?t!=+t:(u==0?1/u==1/t:u==+t);case"[object Date]":case"[object Boolean]":return +u==+t;case"[object RegExp]":return u.source==t.source&&u.global==t.global&&u.multiline==t.multiline&&u.ignoreCase==t.ignoreCase}if(typeof u!="object"||typeof t!="object"){return false}var n=o.length;while(n--){if(o[n]==u){return p[n]==t}}var s=u.constructor,q=t.constructor;if(s!==q&&!(m.isFunction(s)&&(s instanceof s)&&m.isFunction(q)&&(q instanceof q))){return false}o.push(u);p.push(t);var x=0,w=true;if(r=="[object Array]"){x=u.length;w=x==t.length;if(w){while(x--){if(!(w=j(u[x],t[x],o,p))){break}}}}else{for(var v in u){if(m.has(u,v)){x++;if(!(w=m.has(t,v)&&j(u[v],t[v],o,p))){break}}}if(w){for(v in t){if(m.has(t,v)&&!(x--)){break}}w=!x}}o.pop();p.pop();return w};m.isEqual=function(o,n){return j(o,n,[],[])};m.isEmpty=function(o){if(o==null){return true}if(m.isArray(o)||m.isString(o)){return o.length===0}for(var n in o){if(m.has(o,n)){return false}}return true};m.isElement=function(n){return !!(n&&n.nodeType===1)};m.isArray=U||function(n){return D.call(n)=="[object Array]"};m.isObject=function(n){return n===Object(n)};i(["Arguments","Function","String","Number","Date","RegExp"],function(n){m["is"+n]=function(o){return D.call(o)=="[object "+n+"]"}});if(!m.isArguments(arguments)){m.isArguments=function(n){return !!(n&&m.has(n,"callee"))}}if(typeof (/./)!=="function"){m.isFunction=function(n){return typeof n==="function"}}m.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))};m.isNaN=function(n){return m.isNumber(n)&&n!=+n};m.isBoolean=function(n){return n===true||n===false||D.call(n)=="[object Boolean]"};m.isNull=function(n){return n===null};m.isUndefined=function(n){return n===void 0};m.has=function(o,n){return J.call(o,n)};m.noConflict=function(){W._=K;return this};m.identity=function(n){return n};m.times=function(s,r,q){var o=Array(Math.max(0,s));for(var p=0;p<s;p++){o[p]=r.call(q,p)}return o};m.random=function(o,n){if(n==null){n=o;o=0}return o+Math.floor(Math.random()*(n-o+1))};var M={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};M.unescape=m.invert(M.escape);var k={escape:new RegExp("["+m.keys(M.escape).join("")+"]","g"),unescape:new RegExp("("+m.keys(M.unescape).join("|")+")","g")};m.each(["escape","unescape"],function(n){m[n]=function(o){if(o==null){return""}return(""+o).replace(k[n],function(p){return M[n][p]})}});m.result=function(n,p){if(n==null){return void 0}var o=n[p];return m.isFunction(o)?o.call(n):o};m.mixin=function(n){i(m.functions(n),function(o){var p=m[o]=n[o];m.prototype[o]=function(){var q=[this._wrapped];h.apply(q,arguments);return S.call(this,p.apply(m,q))}})};var Z=0;m.uniqueId=function(n){var o=++Z+"";return n?n+o:o};m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var V=/(.)^/;var H={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"};var I=/\\|'|\r|\n|\t|\u2028|\u2029/g;m.template=function(v,q,p){var o;p=m.defaults({},p,m.templateSettings);var r=new RegExp([(p.escape||V).source,(p.interpolate||V).source,(p.evaluate||V).source].join("|")+"|$","g");var s=0;var n="__p+='";v.replace(r,function(x,y,w,AA,z){n+=v.slice(s,z).replace(I,function(AB){return"\\"+H[AB]});if(y){n+="'+\n((__t=("+y+"))==null?'':_.escape(__t))+\n'"}if(w){n+="'+\n((__t=("+w+"))==null?'':__t)+\n'"}if(AA){n+="';\n"+AA+"\n__p+='"}s=z+x.length;return x});n+="';\n";if(!p.variable){n="with(obj||{}){\n"+n+"}\n"}n="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+n+"return __p;\n";try{o=new Function(p.variable||"obj","_",n)}catch(t){t.source=n;throw t}if(q){return o(q,m)}var u=function(w){return o.call(this,w,m)};u.source="function("+(p.variable||"obj")+"){\n"+n+"}";return u};m.chain=function(n){return m(n).chain()};var S=function(n){return this._chain?m(n).chain():n};m.mixin(m);i(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var o=c[n];m.prototype[n]=function(){var p=this._wrapped;o.apply(p,arguments);if((n=="shift"||n=="splice")&&p.length===0){delete p[0]}return S.call(this,p)}});i(["concat","join","slice"],function(n){var o=c[n];m.prototype[n]=function(){return S.call(this,o.apply(this._wrapped,arguments))}});m.extend(m.prototype,{chain:function(){this._chain=true;return this},value:function(){return this._wrapped}})}).call(this);;
;
/* module-key = 'jira.webresources:ajs-underscorejs-amd-shim', location = '/static/lib/amd-shims/underscore-amd.js' */
define("underscore",function(){return _});;
;
/* module-key = 'jira.webresources:jira-metadata', location = '/static/util/strings.js' */
define("jira/util/strings",["exports","underscore"],function(exports,_){exports.asBooleanOrString=function asBooleanOrString(value){var lc=value?value.toLowerCase():"";var result=value;if(lc==="true"){result=true}else{if(lc==="false"){result=false}}return result};exports.startsWith=function(str,searchString){if(_.isEmpty(str)){return false}if(_.isEmpty(searchString)){return false}return str.indexOf(searchString)==0};exports.endsWith=function(str,searchString){if(_.isEmpty(str)){return false}if(_.isEmpty(searchString)){return false}return str.indexOf(searchString)+searchString.length==str.length};exports.substringAfter=function(str,searchString){if(_.isEmpty(str)){return str}if(_.isEmpty(searchString)){return""}var indexOf=str.indexOf(searchString);if(indexOf<0){return""}return str.substring(indexOf+searchString.length)};exports.substringBefore=function(str,searchString){if(_.isEmpty(str)){return str}if(_.isEmpty(searchString)){return""}var indexOf=str.indexOf(searchString);if(indexOf<0){return""}return str.substring(0,indexOf)};exports.contains=function(str,searchString){if(_.isEmpty(str)){return false}var indexOf=str.indexOf(searchString);return indexOf>=0};exports.repeat=function(str,times){if(_.isEmpty(str)){return""}return new Array(times+1).join(str)};exports.length=function(str){if(_.isEmpty(str)){return 0}return str.length};exports.replace=function(str,searchString,replaceString){if(_.isEmpty(str)){return""}if(_.isEmpty(searchString)){return""}if(typeof replaceString==="undefined"){replaceString=""}var searchStart=0;var i=str.indexOf(searchString);while(i>=0){var beforeOccurrence=str.substring(0,i);var afterOccurrence=str.substring(i+searchString.length);str=beforeOccurrence+replaceString+afterOccurrence;searchStart=i+replaceString.length;i=str.indexOf(searchString,searchStart)}return str.substring(i,str.length)};exports.hashCode=function hashCode(toHash){var charCode;var hash=0;if(!toHash){return""}for(var i=0;i<toHash.length;i+=1){charCode=toHash.charCodeAt(i);hash=(hash*31)+charCode;hash|=0}return""+hash}});;
;
/* module-key = 'jira.webresources:jira-metadata', location = '/static/util/data/meta.js' */
define("jira/util/data/meta",["jquery","jira/util/strings","jira/util/data/meta/store"],function(jQuery,Strings,store){return{set:function(key,value){store[key]=value},get:function(key){if(typeof store[key]!=="undefined"){return store[key]}var metaEl=jQuery("meta[name='ajs-"+key+"']");if(!metaEl.length){return undefined}var value=metaEl.attr("content");return Strings.asBooleanOrString(value)},getBoolean:function(key){return this.get(key)===true},getNumber:function(key){return +this.get(key)},getAllAsMap:function(){var map={};jQuery("meta[name^=ajs-]").each(function(){map[this.name.substring(4)]=this.content});return jQuery.extend(map,store)}}});define("jira/util/data/meta/store",{});;
;
/* module-key = 'jira.webresources:aui-extensions', location = '/includes/ajs/aui-experimental.js' */
AJS.namespace("AJS.asBooleanOrString",null,require("jira/util/strings").asBooleanOrString);AJS.namespace("AJS.overrides",null,require("jira/util/data/meta/store"));AJS.namespace("AJS.Meta",null,require("jira/util/data/meta"));;
;
/* module-key = 'jira.webresources:jira-events', location = '/static/util/events.js' */
define("jira/util/events",["jquery","exports"],function(jQuery,exports){var ctx=jQuery(document);exports.bind=function(types,data,fn){ctx.bind(types,data,fn)};exports.one=function(evt,handler){ctx.one(evt,handler)};exports.unbind=function(evt,handler){ctx.unbind(evt,handler)};exports.trigger=function(evt,args){ctx.trigger(evt,args)}});;
;
/* module-key = 'jira.webresources:jira-events', location = '/static/util/events/types.js' */
define("jira/util/events/types",{NEW_CONTENT_ADDED:"newContentAdded",NEW_PAGE_ADDED:"newPageAdded",REFRESH_TOGGLE_BLOCKS:"refreshToggleBlocks",CHECKBOXMULITSELECT_READY:"checkboxMultiSelectReady"});AJS.namespace("JIRA.Events",null,require("jira/util/events/types"));;
;
/* module-key = 'jira.webresources:jira-events', location = '/static/util/events/reasons.js' */
define("jira/util/events/reasons",{pageLoad:"pageLoad",inlineEditStarted:"inlineEditStarted",panelRefreshed:"panelRefreshed",criteriaPanelRefreshed:"criteriaPanelRefreshed",issueTableRefreshed:"issueTableRefreshed",issueTableRowRefreshed:"issueTableRowRefreshed",filterPanelOpened:"filterPanelOpened",layoutSwitcherReady:"layoutSwitcherReady",returnToSearch:"returnToSearch",shareDialogOpened:"shareDialogOpened",filtersSearchRefreshed:"filtersSearchRefreshed",tabUpdated:"tabUpdated",dialogReady:"dialogReady",componentsTableReady:"componentsTableReady",workflowReady:"workflowReady",workflowHeaderReady:"workflowHeaderReady",contentRefreshed:"contentRefreshed"});AJS.namespace("JIRA.CONTENT_ADDED_REASON",null,require("jira/util/events/reasons"));;
;
/* module-key = 'jira.webresources:browser-properties', location = '/static/lib/internal/util/navigator.js' */
define("internal/util/navigator",["jquery","underscore","exports"],function($,_,exports){var userAgent=window.navigator.userAgent;var platform=window.navigator.platform;function _isTrident(userAgent){return(/\bTrident\b/).test(userAgent)}var EDGE_UA_WORKAROUND="Mozilla/5.0 (Windows NT 10.0; Win64; x64)";var EDGE_DEFAULT_VERSION=12;function _isEdge(userAgent){if(userAgent==EDGE_UA_WORKAROUND){return true}else{return(/(Edge)\/(\d+)\.(\d+)/).test(userAgent)}}function _edgeVersion(userAgent){if(userAgent==EDGE_UA_WORKAROUND){return EDGE_DEFAULT_VERSION}else{var match=userAgent.match(/Edge\/(\d+)/);return match&&match[1]}}var isChrome=_.once(function(){return(/Chrome/).test(exports._getUserAgent())});var isIE=_.once(function(){return _isTrident(userAgent)||isEdge()});var isEdge=_.once(function(){return _isEdge(userAgent)});var isMozilla=_.once(function(){return $.browser.mozilla});var isSafari=_.once(function(){return $.browser.safari&&!isChrome()});var isWebkit=_.once(function(){return $.browser.webkit});var majorVersion=_.once(function(){return parseInt($.browser.version,10)});var isLinux=_.once(function(){return exports._getPlatform().indexOf("Linux")!==-1});var isMac=_.once(function(){return exports._getPlatform().indexOf("Mac")!==-1});var isWin=_.once(function(){return exports._getPlatform().indexOf("Win")!==-1});exports.isChrome=isChrome;exports.isIE=isIE;exports.isEdge=isEdge;exports.isMozilla=isMozilla;exports.isSafari=isSafari;exports.isWebkit=isWebkit;exports.majorVersion=majorVersion;exports.isLinux=isLinux;exports.isMac=isMac;exports.isWin=isWin;exports._isTrident=_isTrident;exports._getUserAgent=function(){return userAgent};exports._getPlatform=function(){return platform};if(_isEdge(userAgent)){$.browser.version=_edgeVersion(userAgent);$.browser.mozilla=false;$.browser.msie=true}});;
;
/* module-key = 'jira.webresources:browser-properties', location = '/static/util/navigator.js' */
define("jira/util/navigator",["internal/util/navigator","jquery"],function(internalNavigator,jQuery){var Navigator=jQuery.extend({},internalNavigator);Navigator.isOpera=function(){return jQuery.browser.opera===true};return Navigator});;
;
/* module-key = 'jira.webresources:browser-properties', location = '/includes/ajs/browser/Navigator.js' */
(function(){var nav=require("jira/util/navigator");AJS.Navigator={family:function(){if(nav.isIE()){return this.Families.INTERNET_EXPLORER}if(nav.isMozilla()){return this.Families.MOZILLA}if(nav.isWebkit()){return this.Families.WEBKIT}if(nav.isOpera()){return this.Families.OPERA}return this.Families.UNKNOWN},modifierKey:function(){return AJS.Meta.get("keyboard-accesskey-modifier")},platform:function(){return this.Platform}};AJS.Navigator.Families={INTERNET_EXPLORER:"msie",MOZILLA:"mozilla",WEBKIT:"webkit",OPERA:"opera",UNKNOWN:"unknown"};AJS.Navigator.Platform={platform:nav._getPlatform(),isIOS:function(){return this.platform==="iPod"||this.platform==="iPhone"||this.platform==="iPad"}}})();;
;
/* module-key = 'jira.webresources:util-lite', location = '/static/util/assistive.js' */
define("jira/util/assistive",["jira/util/navigator"],function(Navigator){var ASSISTIVE_TIMEOUT=50;var textProperty=Navigator.isIE()?"innerText":"textContent";var assistiveEl;var assistiveId=0;function wait(callback){setTimeout(callback,ASSISTIVE_TIMEOUT)}function readText(toRead){if(!assistiveEl){assistiveEl=document.createElement("div");assistiveEl.setAttribute("id","assistive-text");assistiveEl.setAttribute("class","visually-hidden");assistiveEl.setAttribute("aria-hidden","false");assistiveEl.setAttribute("role","status");assistiveEl.setAttribute("aria-live","assertive");assistiveEl.setAttribute("aria-relevant","additions");document.body.appendChild(assistiveEl)}assistiveEl[textProperty]=" ";wait(function(){assistiveEl[textProperty]=toRead})}function createOrUpdateLabel(text,id){if(!id){id="label-"+assistiveId;assistiveId+=1}var element=document.getElementById(id);if(!element){element=document.createElement("div");element.setAttribute("id",id);element.setAttribute("class","visually-hidden");element.setAttribute("aria-hidden","false");document.body.appendChild(element)}element[textProperty]=text;return id}return{wait:wait,readText:readText,createOrUpdateLabel:createOrUpdateLabel}});;
;
/* module-key = 'jira.webresources:util-lite', location = '/static/util/elements.js' */
define("jira/util/elements",["jquery"],function($){return{elementIsFocused:function(input){if(input&&$(input).get(0)===document.activeElement){return true}return false},consumesKeyboardEvents:function(input){var $e=(input instanceof $)?input:$(input);return !($e.is(":button"))&&($e.is(":input")||$e.is("[contentEditable]"))}}});;
;
/* module-key = 'jira.webresources:util-lite', location = '/static/util/browser.js' */
define("jira/util/browser",["jira/util/elements","aui/params","jquery","exports"],function(Elements,params,jQuery,exports){exports.canAccessIframe=function canAccessIframe(iframe){var $iframe=jQuery(iframe);return !/^(http|https):\/\//.test($iframe.attr("src"))||(params.baseURL&&(jQuery.trim($iframe.attr("src")).indexOf(params.baseURL)===0))};function preventScrolling(e){var keyCode=e.keyCode;var keys=jQuery.ui.keyCode;if(e.type==="keypress"){return }if(keyCode===keys.DOWN||keyCode===keys.UP||keyCode===keys.LEFT||keyCode===keys.RIGHT){var $el=jQuery(e.target);if(Elements.consumesKeyboardEvents($el)){}else{e.preventDefault()}}}exports.disableKeyboardScrolling=function disableKeyboardScrolling(){jQuery(document.body).bind("keydown",preventScrolling)};exports.enableKeyboardScrolling=function enableKeyboardScrolling(){jQuery(document.body).unbind("keydown",preventScrolling)};exports.isSelenium=function(){return window.name.toLowerCase().indexOf("selenium")>=0};exports.reloadViaWindowLocation=function reloadViaWindowLocation(url){exports.reloadViaWindowLocation._delegate(url,window.location)};exports.reloadViaWindowLocation._delegate=(function(){var secondsSinceMidnight=function(){var now=new Date();var midnight=new Date(now.getFullYear(),now.getMonth(),now.getDate(),0,0,0,0);var secs=(now.getTime()-midnight.getTime())/1000;return Math.max(Math.floor(secs),1)};var MAGIC_PARAM="jwupdated";var MAGIC_PARAM_RE=/(jwupdated=[0-9]*)/;var makeHashUrlsUnique=function(url){var hashIndex=url.indexOf("#");if(hashIndex===-1){return url}var firstQuestionMark=url.indexOf("?");var magicParamValue=MAGIC_PARAM+"="+secondsSinceMidnight();if(firstQuestionMark===-1){url=url.replace("#","?"+magicParamValue+"#")}else{if(MAGIC_PARAM_RE.test(url)){url=url.replace(MAGIC_PARAM_RE,magicParamValue)}else{url=url.replace("?","?"+magicParamValue+"&")}}return url};return function(url,location){var targetUrl=url||location.href;var uniqueUrl=makeHashUrlsUnique(targetUrl);if(targetUrl===location.href){location.replace(uniqueUrl)}else{location.assign(uniqueUrl)}}})()});;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/ajs/browser/describeBrowser.js' */
define("jira/ajs/browser/describe-browser",["jira/util/navigator","jquery"],function(Navigator,jQuery){function browserName(){if(Navigator.isEdge()){return"msie edge"}if(Navigator.isIE()){return"msie"}if(Navigator.isSafari()){return"webkit safari"}if(Navigator.isChrome()){return"webkit chrome"}if(Navigator.isMozilla()){return"mozilla"}if(Navigator.isOpera()){return"opera"}return""}function describeBrowser(){var classNames=[];var browser=browserName();var version=Navigator.majorVersion();classNames.push(browser);if(Navigator.isIE()){classNames.push("msie-"+version);while(version>6){--version;classNames.push("msie-gt-"+version)}}jQuery("html").addClass(classNames.join(" "))}return describeBrowser});AJS.namespace("AJS.describeBrowser",null,require("jira/ajs/browser/describe-browser"));;
;
/* module-key = 'jira.webresources:util-lite', location = '/static/util/objects.js' */
define("jira/util/objects",["jquery","exports"],function($,exports){exports.begetObject=function begetObject(obj){var f=function(){};f.prototype=obj;return new f()};exports.copyObject=function copyObject(object,deep){var copiedObject=$.isArray(object)?[]:{};$.each(object,function(name,property){if(typeof property!=="object"||property===null||property instanceof $){copiedObject[name]=property}else{if(deep!==false){copiedObject[name]=exports.copyObject(property,deep)}}});return copiedObject}});;
;
/* module-key = 'jira.webresources:util-lite', location = '/static/util/forms.js' */
define("jira/util/forms",["jira/util/navigator","jquery"],function(jiraNavigator,jQuery){return{submitOnEnter:function submitOnEnter(e){if(e.keyCode===13&&e.target.form&&!e.ctrlKey&&!e.shiftKey){jQuery(e.target.form).submit();return false}return true},submitOnCtrlEnter:function submitOnCtrlEnter(e){if(e.ctrlKey&&e.target.form&&(e.keyCode===13||(!jiraNavigator.isMac()&&(e.keyCode===10)))){jQuery(e.target.form).submit();return false}return true},getMultiSelectValues:function getMultiSelectValues(selectObject){var selectedValues="";for(var i=0;i<selectObject.length;i++){if(selectObject.options[i].selected){if(selectObject.options[i].value&&selectObject.options[i].value.length>0){selectedValues=selectedValues+" "+selectObject.options[i].value}}}return selectedValues},getMultiSelectValuesAsArray:function getMultiSelectValuesAsArray(selectObject){var selectedValues=[];for(var i=0;i<selectObject.length;i++){if(selectObject.options[i].selected){if(selectObject.options[i].value&&selectObject.options[i].value.length>0){selectedValues[selectedValues.length]=selectObject.options[i].value}}}return selectedValues}}});;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/ajs/copyobject/copyObject.js' */
AJS.namespace("AJS.copyObject",null,require("jira/util/objects").copyObject);;
;
/* module-key = 'jira.webresources:util-lite', location = '/static/util/users/logged-in-user.js' */
define("jira/util/users/logged-in-user",["jira/util/data/meta"],function(meta){var User={};User.username=function(){return meta.get("remote-user")};User.fullName=function(){return meta.get("remote-user-fullname")};User.isAnonymous=function(){return meta.get("remote-user")===""};User.isSysadmin=function(){return !!meta.getBoolean("is-sysadmin")};User.isAdmin=function(){return !!meta.getBoolean("is-admin")};return User});;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/jira/data/Cookie.js' */
define("jira/data/cookie",function(){var Cookie={};Cookie.saveToConglomerate=function saveToConglomerateCookie(cookieName,name,value){var cookieValue=Cookie.getValue(cookieName);cookieValue=Cookie.addOrAppendToValue(name,value,cookieValue);Cookie.save(cookieName,cookieValue,365)};Cookie.readFromConglomerate=function readFromConglomerateCookie(cookieName,name,defaultValue){var cookieValue=Cookie.getValue(cookieName);var value=Cookie.getValueFromCongolmerate(name,cookieValue);if(value!=null){return value}return defaultValue};Cookie.eraseFromConglomerate=function eraseFromConglomerateCookie(cookieName,name){Cookie.saveToConglomerate(cookieName,name,"")};Cookie.getValueFromCongolmerate=function getValueFromCongolmerate(name,cookieValue){if(cookieValue==null){cookieValue=""}var eq=name+"=";var cookieParts=cookieValue.split("|");for(var i=0;i<cookieParts.length;i++){var cp=cookieParts[i];while(cp.charAt(0)===" "){cp=cp.substring(1,cp.length)}if(cp.indexOf(name)===0){return cp.substring(eq.length,cp.length)}}return null};Cookie.addOrAppendToValue=function addOrAppendToValue(name,value,cookieValue){var newCookieValue="";if(cookieValue==null){cookieValue=""}var cookieParts=cookieValue.split("|");for(var i=0;i<cookieParts.length;i++){var cp=cookieParts[i];if(cp!==""){while(cp.charAt(0)===" "){cp=cp.substring(1,cp.length)}if(cp.indexOf(name)!==0){newCookieValue+=cp+"|"}}}if(value!=null&&value!==""){var pair=name+"="+value;if((newCookieValue.length+pair.length)<4020){newCookieValue+=pair}}return newCookieValue};Cookie.getValue=function getCookieValue(name){var eq=name+"=";var ca=document.cookie.split(";");for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)===" "){c=c.substring(1,c.length)}if(c.indexOf(eq)===0){return unescape(c.substring(eq.length,c.length))}}return null};Cookie.save=function saveCookie(name,value,days){if(typeof contextPath==="undefined"){return }var path=contextPath;if(!path){path="/"}var ex;if(days){var d=new Date();d.setTime(d.getTime()+(days*24*60*60*1000));ex="; expires="+d.toGMTString()}else{ex=""}document.cookie=name+"="+escape(value)+ex+";path="+path};Cookie.read=function readCookie(name,defaultValue){var cookieVal=Cookie.getValue(name);if(cookieVal!=null){return cookieVal}if(defaultValue){Cookie.save(name,defaultValue,365);return defaultValue}else{return null}};Cookie.erase=function eraseCookie(name){Cookie.save(name,"",-1)};return Cookie});;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/jira/common/util.js' */
(function(){var Events=require("jira/util/events");AJS.namespace("JIRA.bind",null,Events.bind);AJS.namespace("JIRA.unbind",null,Events.unbind);AJS.namespace("JIRA.one",null,Events.one);AJS.namespace("JIRA.trigger",null,Events.trigger)})();(function(){var User=require("jira/util/users/logged-in-user");AJS.namespace("JIRA.isAdmin",null,User.isAdmin);AJS.namespace("JIRA.isSysadmin",null,User.isSysadmin)})();(function(){var E=require("jira/util/elements");AJS.namespace("AJS.elementIsFocused",null,E.elementIsFocused);AJS.namespace("AJS.consumesKeyboardEvents",null,E.consumesKeyboardEvents)})();(function(){var B=require("jira/util/browser");AJS.namespace("AJS.canAccessIframe",null,B.canAccessIframe);AJS.namespace("AJS.isSelenium",null,B.isSelenium);AJS.namespace("AJS.reloadViaWindowLocation",null,B.reloadViaWindowLocation);AJS.namespace("AJS.enableKeyboardScrolling",null,B.enableKeyboardScrolling);AJS.namespace("AJS.disableKeyboardScrolling",null,B.disableKeyboardScrolling)})();(function(){var O=require("jira/util/objects");AJS.namespace("begetObject",window,O.begetObject)})();(function(){var F=require("jira/util/forms");AJS.namespace("submitOnEnter",window,F.submitOnEnter);AJS.namespace("submitOnCtrlEnter",window,F.submitOnCtrlEnter);AJS.namespace("getMultiSelectValues",window,F.getMultiSelectValues);AJS.namespace("getMultiSelectValuesAsArray",window,F.getMultiSelectValuesAsArray)})();(function(){var Cookie=require("jira/data/cookie");AJS.namespace("saveToConglomerateCookie",window,Cookie.saveToConglomerate);AJS.namespace("readFromConglomerateCookie",window,Cookie.readFromConglomerate);AJS.namespace("eraseFromConglomerateCookie",window,Cookie.eraseFromConglomerate);AJS.namespace("getValueFromCongolmerate",window,Cookie.getValueFromCongolmerate);AJS.namespace("addOrAppendToValue",window,Cookie.addOrAppendToValue);AJS.namespace("getCookieValue",window,Cookie.getValue);AJS.namespace("saveCookie",window,Cookie.save);AJS.namespace("readCookie",window,Cookie.read);AJS.namespace("eraseCookie",window,Cookie.erase)})();jQuery.noConflict();jQuery.ajaxSettings.traditional=true;contextPath=typeof contextPath==="undefined"?"":contextPath;AJS.LEFT="left";AJS.RIGHT="right";AJS.ACTIVE_CLASS="active";AJS.BOX_SHADOW_CLASS="box-shadow";AJS.LOADING_CLASS="loading";AJS.INTELLIGENT_GUESS="Intelligent Guess";(function(){var SPECIAL_CHARS=/[.*+?|^$()[\]{\\]/g;RegExp.escape=function(str){return str.replace(SPECIAL_CHARS,"\\$&")}})();(function($){$.readData=function(s){var r={},n="";$(s).children().each(function(i){if(i%2){r[n]=jQuery.trim($(this).text())}else{n=jQuery.trim($(this).text())}}).remove();$(s).remove();return r}})(jQuery);String.prototype.escapejQuerySelector=function(){return this.replace(/([:.])/g,"\\$1")};AJS.extractBodyFromResponse=function(text){var fragment=text.match(/<body[^>]*>([\S\s]*)<\/body[^>]*>/);if(fragment&&fragment.length>0){return fragment[1]}return text};AJS.escapeHTML=AJS.escapeHtml;AJS.isDevMode=function(){return AJS.Meta.get("dev-mode")};(function(){function tryIt(f,defaultVal){try{return f()}catch(ex){return defaultVal}}AJS.namespace("tryIt",window,tryIt)})();(function(){function arrayContains(array,value){for(var i=0,ii=array.length;i<ii;i++){if(array[i]==value){return true}}return false}AJS.namespace("arrayContains",window,arrayContains)})();(function(){function addClassName(elementId,classNameToAdd){jQuery("#"+elementId).addClass(classNameToAdd)}AJS.namespace("addClassName",window,addClassName)})();(function(){function removeClassName(elementId,classNameToRemove){jQuery("#"+elementId).removeClass(classNameToRemove)}AJS.namespace("removeClassName",window,removeClassName)})();(function(){function getEscapedFieldValue(id){var e=document.getElementById(id);if(e.value){return id+"="+encodeURIComponent(e.value)}else{return""}}AJS.namespace("getEscapedFieldValue",window,getEscapedFieldValue)})();(function(){function getEscapedFieldValues(ids){var s="";for(var i=0;i<ids.length;i++){s=s+"&"+getEscapedFieldValue(ids[i])}return s}AJS.namespace("getEscapedFieldValues",window,getEscapedFieldValues)})();(function(){var GuiPrefs={toggleVisibility:function(elementId){var elem=document.getElementById(elementId);if(elem){if(readFromConglomerateCookie("jira.conglomerate.cookie",elementId,"1")=="1"){elem.style.display="none";removeClassName(elementId+"header","headerOpened");addClassName(elementId+"header","headerClosed");saveToConglomerateCookie("jira.conglomerate.cookie",elementId,"0")}else{elem.style.display="";removeClassName(elementId+"header","headerClosed");addClassName(elementId+"header","headerOpened");eraseFromConglomerateCookie("jira.conglomerate.cookie",elementId)}}}};AJS.namespace("GuiPrefs",window,GuiPrefs)})();(function(){function toggle(elementId){GuiPrefs.toggleVisibility(elementId)}AJS.namespace("toggle",window,toggle)})();(function(){function toggleDivsWithCookie(elementShowId,elementHideId){var elementShow=document.getElementById(elementShowId);var elementHide=document.getElementById(elementHideId);if(elementShow.style.display==="none"){elementHide.style.display="none";elementShow.style.display="block";saveToConglomerateCookie("jira.viewissue.cong.cookie",elementShowId,"1");saveToConglomerateCookie("jira.viewissue.cong.cookie",elementHideId,"0")}else{elementShow.style.display="none";elementHide.style.display="block";saveToConglomerateCookie("jira.viewissue.cong.cookie",elementHideId,"1");saveToConglomerateCookie("jira.viewissue.cong.cookie",elementShowId,"0")}}AJS.namespace("toggleDivsWithCookie",window,toggleDivsWithCookie)})();(function(){function restoreDivFromCookie(elementId,cookieName,defaultValue){if(defaultValue==null){defaultValue="1"}var elem=document.getElementById(elementId);if(elem){if(readFromConglomerateCookie(cookieName,elementId,defaultValue)!="1"){elem.style.display="none";removeClassName(elementId+"header","headerOpened");addClassName(elementId+"header","headerClosed")}else{elem.style.display="";removeClassName(elementId+"header","headerClosed");addClassName(elementId+"header","headerOpened")}}}AJS.namespace("restoreDivFromCookie",window,restoreDivFromCookie)})();(function(){function restore(elementId){restoreDivFromCookie(elementId,"jira.conglomerate.cookie","1")}AJS.namespace("restore",window,restore)})();(function(){function recolourSimpleTableRows(tableId){recolourTableRows(tableId,"rowNormal","rowAlternate",tableId+"_empty")}AJS.namespace("recolourSimpleTableRows",window,recolourSimpleTableRows)})();(function(){function recolourTableRows(tableId,rowNormal,rowAlternate,emptyTableId){var tbl=document.getElementById(tableId);var emptyTable=document.getElementById(emptyTableId);var alternate=false;var rowsFound=0;var rows=tbl.rows;var firstVisibleRow=null;var lastVisibleRow=null;if(AJS.$(tbl).hasClass("aui")){rowNormal="";rowAlternate="zebra"}for(var i=1;i<rows.length;i++){var row=rows[i];if(row.style.display!=="none"){if(!alternate){row.className=rowNormal}else{row.className=rowAlternate}rowsFound++;alternate=!alternate}if(row.style.display!=="none"){if(firstVisibleRow==null){firstVisibleRow=row}lastVisibleRow=row}}if(firstVisibleRow!=null){firstVisibleRow.className=firstVisibleRow.className+" first-row"}if(lastVisibleRow!=null){lastVisibleRow.className=lastVisibleRow.className+" last-row"}if(emptyTable){if(rowsFound===0){tbl.style.display="none";emptyTable.style.display=""}else{tbl.style.display="";emptyTable.style.display="none"}}}AJS.namespace("recolourTableRows",window,recolourTableRows)})();(function(){function htmlEscape(str){var divE=document.createElement("div");divE.appendChild(document.createTextNode(str));return divE.innerHTML}AJS.namespace("htmlEscape",window,htmlEscape)})();(function(){function atl_token(){return jQuery("#atlassian-token").attr("content")}AJS.namespace("atl_token",window,atl_token)})();;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/jira/common/trace.js' */
AJS.namespace("JIRA.trace",window,function(){});;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/lib/class/Class.js' */
define("jira/lib/class",["jira/util/objects","jquery"],function(Objects,$){var initializing=false,fnTest=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;var Class=function(){};Class.extend=function(){var prop;var _super=this.prototype;if(arguments.length>1){var interfaces=$.makeArray(arguments);prop=interfaces.pop();var completeInterface;$.each(interfaces,function(i,inter){if(completeInterface){completeInterface=completeInterface.extend(inter)}else{completeInterface=inter}});return completeInterface.extend(this.prototype).extend(prop)}else{prop=arguments[0]}initializing=true;var prototype=new this();initializing=false;for(var name in prop){if(prototype[name]=typeof prop[name]=="function"&&typeof _super[name]=="function"&&fnTest.test(prop[name])){prototype[name]=(function(name,fn){return function(){var tmp=this._super;this._super=_super[name];var ret=fn.apply(this,arguments);this._super=tmp;return ret}})(name,prop[name])}else{if(typeof _super[name]==="object"){var newObj=Objects.begetObject(prop[name]);$.each(_super[name],function(name,obj){if(!newObj[name]){newObj[name]=obj}else{if(typeof newObj[name]==="object"){var newSubObj=Objects.begetObject(newObj[name]);$.each(obj,function(subName,subObj){if(!newSubObj[subName]){newSubObj[subName]=subObj}});newObj[name]=newSubObj}}});prototype[name]=newObj}else{prototype[name]=prop[name]}}}function Class(){if(!initializing&&this.init){this.init.apply(this,arguments)}}Class.fn=Class.prototype=prototype;Class.constructor=Class;Class.extend=arguments.callee;return Class};Class.prototype.bind=function(evt,func){$(this).bind(evt,func);return this};Class.prototype.trigger=function(event){var instance=$(this),args=[].slice.call(arguments,1);event=new $.Event(event);args.unshift(event);instance.trigger.apply(instance,args);return !event.isDefaultPrevented()};return Class});AJS.namespace("Class",null,require("jira/lib/class"));;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/ajs/control/Control.js' */
define("jira/ajs/control",["jira/lib/class","jquery"],function(Class,jQuery){return Class.extend({INVALID:"INVALID",_throwReadOnlyError:function(property){new Error(this.CLASS_SIGNATURE+": Sorry ["+property+"] is a read-only property")},_assignEvents:function(group,$target){this._unassignEvents(group,$target);if(typeof $target==="string"){for(var eventType in this._events[group]){jQuery(document).delegate($target,eventType,this._getDispatcher(group,eventType))}}else{$target=jQuery($target);for(eventType in this._events[group]){$target.bind(eventType,this._getDispatcher(group,eventType))}}return this},_unassignEvents:function(group,$target){if(typeof $target==="string"){for(var eventType in this._events[group]){jQuery(document).undelegate($target,eventType,this._getDispatcher(group,eventType))}}else{$target=jQuery($target);for(eventType in this._events[group]){$target.unbind(eventType,this._getDispatcher(group,eventType))}}},_getDispatcher:function(group,eventType){var ns=group+"/"+eventType;if(!this._dispatchers){this._dispatchers={}}if(!this._dispatchers[ns]){var handler=this._events[group][eventType];var instance=this;this._dispatchers[ns]=function(event){return handler.call(instance,event,jQuery(this))}}return this._dispatchers[ns]},_isValidInput:function(){return true},_handleKeyEvent:function(event){if(this._isValidInput(event)){if(event.type==="input"){if(typeof this.onEdit==="function"){this.onEdit(event)}}else{var heyHandler=this.keys&&this.keys[event.key];if(typeof heyHandler==="function"){heyHandler.call(this,event)}}}},getCustomEventName:function(methodName){return(this.CLASS_SIGNATURE||"")+"_"+methodName},_getCustomEventArgs:function(){return[this]},_supportsBoxShadow:function(){var s=document.body.style;return s.WebkitBoxShadow!==undefined||s.MozBoxShadow!==undefined||s.boxShadow!==undefined},_setOptions:function(options){var element;var optionsFromDOM;options=options||{};if(options instanceof jQuery||typeof options==="string"||(typeof options==="object"&&options.nodeName)){options={element:options}}element=jQuery(options.element);optionsFromDOM=element.getOptionsFromAttributes();this.options=jQuery.extend(true,this._getDefaultOptions(options),optionsFromDOM,options);this.options.element=element;if(element.length===0){return this.INVALID}return undefined},getCaret:function(node){var startIndex=node.selectionStart;if(startIndex>=0){return(node.selectionEnd>startIndex)?-1:startIndex}if(document.selection){var textRange1=document.selection.createRange();if(textRange1.text.length===0){var textRange2=textRange1.duplicate();textRange2.moveToElementText(node);textRange2.setEndPoint("EndToStart",textRange1);return textRange2.text.length}}return -1},_render:function(){var i,name=arguments[0],args=[];for(i=1;i<arguments.length;i++){args.push(arguments[i])}return this._renders[name].apply(this,args)}})});AJS.namespace("AJS.Control",null,require("jira/ajs/control"));;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/ajs/descriptor/Descriptor.js' */
define("jira/ajs/descriptor",["jira/lib/class","jquery"],function(Class,$){return Class.extend({init:function(properties){if(this._validate(properties)){this.properties=$.extend(this._getDefaultOptions(),properties)}},allProperties:function(){return this.properties},_validate:function(properties){if(this.REQUIRED_PROPERTIES){$.each(this.REQUIRED_PROPERTIES,function(name){if(typeof properties[name]==="undefined"){throw new Error("AJS.Descriptor: expected property ["+name+"] but was undefined")}})}return true}})});AJS.namespace("AJS.Descriptor",null,require("jira/ajs/descriptor"));;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/ajs/input/Keyboard.js' */
define("jira/ajs/input/keyboard",["jira/util/navigator","jquery"],function(Navigator,$){var _keyCodeToEnum={},_enumToKeyCode={},_keyCodeToIsAscii={};var Keyboard={};var SpecialKey=Keyboard.SpecialKey={BACKSPACE:specialKey("backspace",8,true),TAB:specialKey("tab",9,true),RETURN:specialKey("return",13,true),SHIFT:specialKey("shift",16),CTRL:specialKey("ctrl",17),ALT:specialKey("alt",18),PAUSE:specialKey("pause",19),CAPS_LOCK:specialKey("capslock",20),ESC:specialKey("esc",27,true),SPACE:specialKey("space",32,true),PAGE_UP:specialKey("pageup",33),PAGE_DOWN:specialKey("pagedown",34),END:specialKey("end",35),HOME:specialKey("home",36),LEFT:specialKey("left",37),UP:specialKey("up",38),RIGHT:specialKey("right",39),DOWN:specialKey("down",40),INSERT:specialKey("insert",45),DELETE:specialKey("del",46),F1:specialKey("f1",112),F2:specialKey("f2",113),F3:specialKey("f3",114),F4:specialKey("f4",115),F5:specialKey("f5",116),F6:specialKey("f6",117),F7:specialKey("f7",118),F8:specialKey("f8",119),F9:specialKey("f9",120),F10:specialKey("f10",121),F11:specialKey("f11",122),F12:specialKey("f12",123),NUMLOCK:specialKey("numlock",144),SCROLL:specialKey("scroll",145),META:specialKey("meta",224)};function specialKey(name,keyCode,isAscii){_keyCodeToEnum[keyCode]=name;_enumToKeyCode[name]=keyCode;if(isAscii){_keyCodeToIsAscii[keyCode]=true}return name}SpecialKey.eventType=function(){return Navigator.isMozilla()?"keypress":"keydown"};SpecialKey.fromKeyCode=function(keyCode){return _keyCodeToEnum[keyCode]};SpecialKey.toKeyCode=function(specialKey){return _enumToKeyCode[specialKey]};SpecialKey.isAscii=function(keyCode){return !!_keyCodeToIsAscii[keyCode]};SpecialKey.isSpecialKey=function(keyName){return !!SpecialKey.toKeyCode(keyName)};function originalEvent(e){return e.originalEvent||e}Keyboard.characterEntered=function(keypressEvent){var e=originalEvent(keypressEvent);if(e.type==="keypress"){var characterCode=characterCodeForKeypress(e);if(characterCode!==null&&(!SpecialKey.isAscii(characterCode)||SpecialKey.fromKeyCode(characterCode)===SpecialKey.SPACE)){return String.fromCharCode(characterCode)}}return undefined};function characterCodeForKeypress(keypressEvent){var e=originalEvent(keypressEvent);if(e.which==null){return e.keyCode}else{if(e.which!==0&&e.charCode!==0){return e.which}else{return null}}}Keyboard.specialKeyEntered=function(e){e=originalEvent(e);if(Navigator.isMozilla()){if(e.type==="keypress"){var characterCode=characterCodeForKeypress(e);if(characterCode===null){return SpecialKey.fromKeyCode(e.keyCode)}else{if(SpecialKey.isAscii(characterCode)){return SpecialKey.fromKeyCode(characterCode)}}}}else{if(e.type!=="keypress"){return SpecialKey.fromKeyCode(e.keyCode)}}return undefined};function keyEntered(e){e=originalEvent(e);var special=Keyboard.specialKeyEntered(e);if(special){return special}else{if(Navigator.isMozilla()){if(e.type==="keypress"){var characterCode=characterCodeForKeypress(e);if(characterCode!==null){return String.fromCharCode(characterCode).toLowerCase()}}}else{if(e.type!=="keypress"){return String.fromCharCode(e.keyCode).toLowerCase()}}}return undefined}Keyboard.shortcutEntered=function(e){e=originalEvent(e);if(e.type===SpecialKey.eventType()){var specialKey=Keyboard.specialKeyEntered(e),modifiers="";if(e.altKey&&specialKey!==SpecialKey.ALT){modifiers+=modifier(SpecialKey.ALT)}if(e.ctrlKey&&specialKey!==SpecialKey.CTRL){modifiers+=modifier(SpecialKey.CTRL)}if(e.metaKey&&!e.ctrlKey&&specialKey!==SpecialKey.META){modifiers+=modifier(SpecialKey.META)}if(e.shiftKey&&specialKey!==SpecialKey.SHIFT){modifiers+=modifier(SpecialKey.SHIFT)}if(specialKey){return modifiers+specialKey}else{if(modifiers.length>0&&modifiers!=="shift+"){var key=keyEntered(e);if(key){return modifiers+key}}}}return undefined};function modifier(modifier){return modifier+"+"}return Keyboard});AJS.namespace("JIRA.Keyboard",null,require("jira/ajs/input/keyboard"));;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/ajs/input/Mouse.js' */
define("jira/ajs/input/mouse",["jquery"],function($){var Mouse={};var MotionDetector=Mouse.MotionDetector=function(){this.reset()};MotionDetector.prototype.reset=function(){this._handler=null;this._x=null;this._y=null;this.moved=false};MotionDetector.prototype.wait=function(eventHandler){var instance=this;if(!instance._handler){this.reset();$(window.top.document).bind("mousemove",instance._handler=function(e){if(!instance._x&&!instance._y){instance._x=e.pageX;instance._y=e.pageY}else{if(!(e.pageX===instance._x&&e.pageY===instance._y)){instance.unbind();instance.moved=true;if(eventHandler){eventHandler.call(this,e)}}}})}};MotionDetector.prototype.unbind=function(){if(this._handler){$(window.top.document).unbind("mousemove",this._handler);this.reset()}};return Mouse});AJS.namespace("JIRA.Mouse",null,require("jira/ajs/input/mouse"));;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/jquery/plugins/getoptionsfromattributes/getOptionsFromAttributes.js' */
jQuery.fn.getOptionsFromAttributes=function(){var options={};if(this.length){jQuery.each(this[0].attributes,function(){var map,nodeValue=this.nodeValue,target=options;if(/^data-/.test(this.nodeName)){map=this.nodeName.replace(/^data-/,"").split("."),AJS.$.each(map,function(i,propertyName){propertyName=propertyName.replace(/([a-z])-([a-z])/gi,function(entireMatch,firstMatch,secondMatch){return firstMatch+secondMatch.toUpperCase()});propertyName=propertyName.replace(/_([a-z]+)/gi,function(entireMatch,firstMatch){return firstMatch.toUpperCase()});if(i===map.length-1){target[propertyName]=nodeValue.match(/^(tru|fals)e$/i)?nodeValue.toLowerCase()=="true":nodeValue}else{if(!target[propertyName]){target[propertyName]={}}}target=target[propertyName]})}})}return options};;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/ajs/ajax/SmartAjax.js' */
define("jira/ajs/ajax/smart-ajax",["jquery","jira/util/data/meta"],function($,Meta){var SmartAjax={};SmartAjax.SmartAjaxResult=function(xhr,requestId,statusText,data,successful,errorThrown){var status=tryIt(function(){return xhr.status},0);var result={successful:successful,status:status,statusText:statusText,errorThrown:errorThrown,readyState:xhr.readyState,hasData:data!=null&&data.length>0,data:data,xhr:xhr,aborted:xhr.aborted,requestId:requestId,validationError:!!(xhr.status===400&&data&&data.errors)};result.toString=function(){return"{\n"+"successful  : "+this.successful+",\n"+"status      : "+this.status+",\n"+"statusText  : "+this.statusText+",\n"+"hasData     : "+this.hasData+",\n"+"readyState  : "+this.readyState+",\n"+"requestId   : "+this.requestId+",\n"+"aborted     : "+this.aborted+",\n"+"}"};return result};SmartAjax.SmartAjaxResult.ERROR="error";SmartAjax.SmartAjaxResult.TIMEOUT="timeout";SmartAjax.SmartAjaxResult.NOTMODIFIED="notmodified";SmartAjax.SmartAjaxResult.PARSEERROR="parseerror";SmartAjax.makeRequest=function(ajaxOptions){var _smartAjaxResult={};var log=function(calltype,requestId,msg){if(AJS.log){var id=requestId?"["+requestId+"] ":" ";AJS.log("ajax"+id+calltype+" : "+msg)}};var generateRequestId=function(){var now=new Date();var midnight=new Date(now.getFullYear(),now.getMonth(),now.getDate(),0,0,0,0);var ms=(now.getTime()-midnight.getTime());return Math.max(Math.floor(ms),1)};var errorHandler=function(xhr,statusText,errorThrown,smartAjaxResult){if(!smartAjaxResult){var data=tryIt(function(){return xhr.responseText},"");smartAjaxResult=_smartAjaxResult=new SmartAjax.SmartAjaxResult(xhr,_requestId,statusText,data,false,errorThrown)}log("error",smartAjaxResult.requestId,smartAjaxResult);if($.isFunction(ajaxOptions.error)){ajaxOptions.error(xhr,statusText,errorThrown,smartAjaxResult)}};var successHandler=function(data,statusText,xhr){if(xhr.status<100){_smartAjaxResult=new SmartAjax.SmartAjaxResult(xhr,_requestId,SmartAjax.SmartAjaxResult.ERROR,"",false);errorHandler(xhr,SmartAjax.SmartAjaxResult.ERROR,undefined,_smartAjaxResult);return }_smartAjaxResult=new SmartAjax.SmartAjaxResult(xhr,_requestId,statusText,data,true);if($.isFunction(ajaxOptions.success)){ajaxOptions.success(data,statusText,xhr,_smartAjaxResult)}};var completeHandler=function(xhr,textStatus){if($.isFunction(ajaxOptions.complete)){ajaxOptions.complete(xhr,textStatus,_smartAjaxResult)}};var DEFAULT_AJAX_OPTS={jqueryAjaxFn:$.ajax,headers:{"X-AUSERNAME":encodeURIComponent(loggedInUser())}};var ourAjaxOptions=$.extend(true,{},DEFAULT_AJAX_OPTS,ajaxOptions);ourAjaxOptions.error=errorHandler;ourAjaxOptions.success=successHandler;ourAjaxOptions.complete=completeHandler;var xhr=ourAjaxOptions.jqueryAjaxFn.apply(ourAjaxOptions,[ourAjaxOptions]);var _requestId=generateRequestId();try{xhr.abort=function(oldabort){return function(){log("aborted",_requestId,"");xhr.aborted=true;if($.isFunction(oldabort)){try{oldabort.apply(xhr,arguments)}catch(ex){}}}}(xhr.abort)}catch(ex){}return xhr};SmartAjax.buildDialogErrorContent=function(smartAjaxResult,noHeader){var fourHundredClass=Math.floor(smartAjaxResult.status/100);if(smartAjaxResult.hasData&&fourHundredClass!==4){return wrapDialogErrorContent(AJS.extractBodyFromResponse(smartAjaxResult.data))}else{var errMsg=buildRawHttpErrorMessage(smartAjaxResult);return buildDialogAjaxErrorMessage(errMsg,noHeader)}};SmartAjax.buildSimpleErrorContent=function(smartAjaxResult,options){return buildRawHttpErrorMessage(smartAjaxResult,options?options:{})};function loggedInUser(){var user=Meta.get("remote-user");if(typeof user==="undefined"){return"undefined"}return user}function buildRawHttpErrorMessage(smartAjaxResult,options){var AJS=window.top.AJS;var errMsg;if(smartAjaxResult.statusText==SmartAjax.SmartAjaxResult.TIMEOUT){errMsg="The call to the JIRA server did not complete within the timeout period.  We are unsure of the result of this operation."}else{if(smartAjaxResult.status===401){errMsg="You are not authorized to perform this operation.  Please log in."}else{if(smartAjaxResult.hasData){errMsg="The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."}else{errMsg="The JIRA server could not be contacted. This may be a temporary glitch or the server may be down."}}}return errMsg}function buildDialogAjaxErrorMessage(errorMessage,noHeader){var errorContent='<div class="dialog-error">'+"<p>"+errorMessage+"</p>"+"<p>"+"Close this dialog and press refresh in your browser"+"</p>"+"</div>";if(!noHeader){errorContent="<h1>"+"Communications Breakdown"+"</h1>"+errorContent}return wrapDialogErrorContent(errorContent)}function wrapDialogErrorContent(content){var $container=$('<div class="ajaxerror"/>');$container.append(content);return $container}return SmartAjax});AJS.namespace("JIRA.SmartAjax",null,require("jira/ajs/ajax/smart-ajax"));AJS.namespace("jira.ajax",null,require("jira/ajs/ajax/smart-ajax"));;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/ajs/ajax/initAjaxSetup.js' */
(function(){var $=require("jquery");$.ajaxSetup({timeout:60000,async:true,cache:false,global:true})})();;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/ajs/reasons.js' */
AJS.HIDE_REASON={clickOutside:"clickOutside",toggle:"toggle",escPressed:"esc",cancelClicked:"cancelClicked",submit:"submit",tabbedOut:"tabbedOut"};;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/ajs/layer/LayerManager.js' */
(function(){var Strings=require("jira/util/strings");var jQuery=require("jquery");var _=require("underscore");var $doc=jQuery(document);function anyStringContains(haystack,needles){if(typeof needles==="string"){needles=[needles]}return _.any(needles,function(n){return Strings.contains(haystack,n)})}JIRA.bind("Dialog.beforeHide",function(e){if(typeof Calendar!=="undefined"&&Calendar.current){e.preventDefault()}if(JIRA.Dropdown&&JIRA.Dropdown.current){e.preventDefault()}if(AJS.InlineLayer&&AJS.InlineLayer.current){e.preventDefault()}if(AJS.Dropdown&&AJS.Dropdown.current){e.preventDefault()}if(AJS.InlineDialog&&AJS.InlineDialog.current){e.preventDefault()}});JIRA.bind("Dialog.show",function(e){if(JIRA.Dropdown&&JIRA.Dropdown.current){JIRA.Dropdown.current.hide()}if(AJS.InlineLayer&&AJS.InlineLayer.current){AJS.InlineLayer.current.hide();e.preventDefault()}if(AJS.Dropdown&&AJS.Dropdown.current){AJS.Dropdown.current.hide();e.preventDefault()}if(AJS.InlineDialog&&AJS.InlineDialog.current){AJS.InlineDialog.current.hide();e.preventDefault()}});jQuery(function(){if(typeof Calendar!=="undefined"){$doc.bind("beforeBlurInput",function(e){if(Calendar.current){e.preventDefault()}if(JIRA.InlineLayer&&JIRA.InlineLayer.current){e.preventDefault()}});if(JIRA.Events&&JIRA.Events.BEFORE_INLINE_EDIT_CANCEL){JIRA.bind(JIRA.Events.BEFORE_INLINE_EDIT_CANCEL,function(e,id,type,reason){if(reason===JIRA.Issues.CANCEL_REASON.escPressed&&Calendar.current){e.preventDefault()}})}}});function getWindow(){var topWindow=window;try{while(topWindow.parent.window!==topWindow.window&&topWindow.parent.AJS){topWindow=topWindow.parent}}catch(error){}return topWindow}function getLayer(instance){return(instance.$layer||instance.$popup||instance.$||instance.popup||instance.element||instance)[0]}function listenForLayerEvents($doc){$doc.bind("showLayer",function(e,type,item){if(anyStringContains(item&&item.id,["user-hover-dialog","aui-inline-edit-error","watchers","jira-help-tip"])){return }var topWindow=getWindow().AJS;if(topWindow.currentLayerItem&&item!==topWindow.currentLayerItem&&topWindow.currentLayerItem.type!=="popup"){topWindow.currentLayerItem.hide()}if(item){topWindow.currentLayerItem=item;topWindow.currentLayerItem.type=type}}).bind("hideLayer",function(e,type,item){if(!item||anyStringContains(item.id,["user-hover-dialog","aui-inline-edit-error","jira-help-tip"])){return }var topWindow=getWindow().AJS;if(topWindow.currentLayerItem){if(topWindow.currentLayerItem===item){topWindow.currentLayerItem=null}else{if(jQuery.contains(getLayer(item),getLayer(topWindow.currentLayerItem))){topWindow.currentLayerItem.hide()}}}}).bind("hideAllLayers",function(){var topWindow=getWindow().AJS;if(topWindow.currentLayerItem){topWindow.currentLayerItem.hide()}}).click(function(e){var topWindow=getWindow().AJS;var layerItem=topWindow.currentLayerItem;if(!layerItem||layerItem.type==="popup"||(layerItem.type==="inlineDialog"&&layerItem.persistent)){return }if(layerItem._validateClickToClose){if(layerItem._validateClickToClose(e)){if(layerItem instanceof AJS.InlineLayer){layerItem.hide(AJS.HIDE_REASON.clickOutside,e)}else{layerItem.hide()}}}else{layerItem.hide()}})}$doc.bind("iframeAppended",function(e,iframe){iframe=jQuery(iframe);iframe.load(function(){listenForLayerEvents(iframe.contents())})});listenForLayerEvents($doc)})();;
;
/* module-key = 'jira.webresources:util-lite', location = '/includes/jquery/plugins/hasFixedParent/hasFixedParent.js' */
jQuery.fn.hasFixedParent=function(){var hasFixedParent=false;this.parents().each(function(){if(AJS.$(this).css("position")==="fixed"){hasFixedParent=this;return false}});return hasFixedParent};;
;
/* module-key = 'com.atlassian.auiplugin:ajs-backbone', location = 'js-vendor/backbone/backbone.js' */
/* THIS FILE HAS BEEN MODIFIED BY ATLASSIAN. Modified lines are marked below, search "ATLASSIAN" */
(function(){var U=this;var b=U.Backbone;var G=[];var d=G.push;var N=G.slice;var T=G.splice;var Z;if(typeof exports!=="undefined"){Z=exports}else{Z=U.Backbone={}}Z.VERSION="1.0.0";var l=U._;if(!l&&(typeof require!=="undefined")){l=require("underscore")}Z.$=U.jQuery||U.Zepto||U.ender||U.$;Z.noConflict=function(){U.Backbone=b;return this};Z.emulateHTTP=false;Z.emulateJSON=false;var j=Z.Events={on:function(m,p,o){if(!X(this,"on",m,[p,o])||!p){return this}this._events||(this._events={});var n=this._events[m]||(this._events[m]=[]);n.push({callback:p,context:o,ctx:o||this});return this},once:function(n,q,o){if(!X(this,"once",n,[q,o])||!q){return this}var m=this;var p=l.once(function(){m.off(n,p);q.apply(this,arguments)});p._callback=q;return this.on(n,p,o)},off:function(m,v,n){var t,u,w,s,r,o,q,p;if(!this._events||!X(this,"off",m,[v,n])){return this}if(!m&&!v&&!n){this._events={};return this}s=m?[m]:l.keys(this._events);for(r=0,o=s.length;r<o;r++){m=s[r];if(w=this._events[m]){this._events[m]=t=[];if(v||n){for(q=0,p=w.length;q<p;q++){u=w[q];if((v&&v!==u.callback&&v!==u.callback._callback)||(n&&n!==u.context)){t.push(u)}}}if(!t.length){delete this._events[m]}}}return this},trigger:function(o){if(!this._events){return this}var n=N.call(arguments,1);if(!X(this,"trigger",o,n)){return this}var p=this._events[o];var m=this._events.all;if(p){B(p,n)}if(m){B(m,arguments)}return this},stopListening:function(p,m,r){var n=this._listeners;if(!n){return this}var o=!m&&!r;if(typeof m==="object"){r=this}if(p){(n={})[p._listenerId]=p}for(var q in n){n[q].off(m,r,this);if(o){delete this._listeners[q]}}return this}};var W=/\s+/;var X=function(t,r,n,q){if(!n){return true}if(typeof n==="object"){for(var p in n){t[r].apply(t,[p,n[p]].concat(q))}return false}if(W.test(n)){var s=n.split(W);for(var o=0,m=s.length;o<m;o++){t[r].apply(t,[s[o]].concat(q))}return false}return true};var B=function(r,p){var s,q=-1,o=r.length,n=p[0],m=p[1],t=p[2];switch(p.length){case 0:while(++q<o){(s=r[q]).callback.call(s.ctx)}return ;case 1:while(++q<o){(s=r[q]).callback.call(s.ctx,n)}return ;case 2:while(++q<o){(s=r[q]).callback.call(s.ctx,n,m)}return ;case 3:while(++q<o){(s=r[q]).callback.call(s.ctx,n,m,t)}return ;default:while(++q<o){(s=r[q]).callback.apply(s.ctx,p)}}};var c={listenTo:"on",listenToOnce:"once"};l.each(c,function(m,n){j[n]=function(q,o,s){var p=this._listeners||(this._listeners={});var r=q._listenerId||(q._listenerId=l.uniqueId("l"));p[r]=q;if(typeof o==="object"){s=this}q[m](o,s,this);return this}});j.bind=j.on;j.unbind=j.off;l.extend(Z,j);var e=Z.Model=function(m,o){var p;var n=m||{};o||(o={});this.cid=l.uniqueId("c");this.attributes={};l.extend(this,l.pick(o,f));if(o.parse){n=this.parse(n,o)||{}}if(p=l.result(this,"defaults")){n=l.defaults({},n,p)}this.set(n,o);this.changed={};this.initialize.apply(this,arguments)};var f=["url","urlRoot","collection"];l.extend(e.prototype,j,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(m){return l.clone(this.attributes)},sync:function(){return Z.sync.apply(this,arguments)},get:function(m){return this.attributes[m]},escape:function(m){return l.escape(this.get(m))},has:function(m){return this.get(m)!=null},set:function(u,m,y){var s,v,w,t,r,x,o,q;if(u==null){return this}if(typeof u==="object"){v=u;y=m}else{(v={})[u]=m}y||(y={});if(!this._validate(v,y)){return false}w=y.unset;r=y.silent;t=[];x=this._changing;this._changing=true;if(!x){this._previousAttributes=l.clone(this.attributes);this.changed={}}q=this.attributes,o=this._previousAttributes;if(this.idAttribute in v){this.id=v[this.idAttribute]}for(s in v){m=v[s];if(!l.isEqual(q[s],m)){t.push(s)}if(!l.isEqual(o[s],m)){this.changed[s]=m}else{delete this.changed[s]}w?delete q[s]:q[s]=m}if(!r){if(t.length){this._pending=true}for(var p=0,n=t.length;p<n;p++){this.trigger("change:"+t[p],this,q[t[p]],y)}}if(x){return this}if(!r){while(this._pending){this._pending=false;this.trigger("change",this,y)}}this._pending=false;this._changing=false;return this},unset:function(m,n){return this.set(m,void 0,l.extend({},n,{unset:true}))},clear:function(n){var m={};for(var o in this.attributes){m[o]=void 0}return this.set(m,l.extend({},n,{unset:true}))},hasChanged:function(m){if(m==null){return !l.isEmpty(this.changed)}return l.has(this.changed,m)},changedAttributes:function(o){if(!o){return this.hasChanged()?l.clone(this.changed):false}var q,p=false;var n=this._changing?this._previousAttributes:this.attributes;for(var m in o){if(l.isEqual(n[m],(q=o[m]))){continue}(p||(p={}))[m]=q}return p},previous:function(m){if(m==null||!this._previousAttributes){return null}return this._previousAttributes[m]},previousAttributes:function(){return l.clone(this._previousAttributes)},fetch:function(n){n=n?l.clone(n):{};if(n.parse===void 0){n.parse=true}var m=this;var o=n.success;n.success=function(p){if(!m.set(m.parse(p,n),n)){return false}if(o){o(m,p,n)}m.trigger("sync",m,p,n)};h(this,n);return this.sync("read",this,n)},save:function(q,n,u){var r,m,t,o=this.attributes;if(q==null||typeof q==="object"){r=q;u=n}else{(r={})[q]=n}if(r&&(!u||!u.wait)&&!this.set(r,u)){return false}u=l.extend({validate:true},u);if(!this._validate(r,u)){return false}if(r&&u.wait){this.attributes=l.extend({},o,r)}if(u.parse===void 0){u.parse=true}var p=this;var s=u.success;u.success=function(w){p.attributes=o;var v=p.parse(w,u);if(u.wait){v=l.extend(r||{},v)}if(l.isObject(v)&&!p.set(v,u)){return false}if(s){s(p,w,u)}p.trigger("sync",p,w,u)};h(this,u);m=this.isNew()?"create":(u.patch?"patch":"update");if(m==="patch"){u.attrs=r}t=this.sync(m,this,u);if(r&&u.wait){this.attributes=o}return t},destroy:function(n){n=n?l.clone(n):{};var m=this;var q=n.success;var o=function(){m.trigger("destroy",m,m.collection,n)};n.success=function(r){if(n.wait||m.isNew()){o()}if(q){q(m,r,n)}if(!m.isNew()){m.trigger("sync",m,r,n)}};if(this.isNew()){n.success();return false}h(this,n);var p=this.sync("delete",this,n);if(!n.wait){o()}return p},url:function(){var m=l.result(this,"urlRoot")||l.result(this.collection,"url")||R();if(this.isNew()){return m}return m+(m.charAt(m.length-1)==="/"?"":"/")+encodeURIComponent(this.id)},parse:function(n,m){return n},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},isValid:function(m){return this._validate({},l.extend(m||{},{validate:true}))},_validate:function(o,n){if(!n.validate||!this.validate){return true}o=l.extend({},this.attributes,o);var m=this.validationError=this.validate(o,n)||null;if(!m){return true}this.trigger("invalid",this,m,l.extend(n||{},{validationError:m}));return false}});var A=["keys","values","pairs","invert","pick","omit"];l.each(A,function(m){e.prototype[m]=function(){var n=N.call(arguments);n.unshift(this.attributes);return l[m].apply(l,n)}});var C=Z.Collection=function(n,m){m||(m={});if(m.url){this.url=m.url}if(m.model){this.model=m.model}if(m.comparator!==void 0){this.comparator=m.comparator}this._reset();this.initialize.apply(this,arguments);if(n){this.reset(n,l.extend({silent:true},m))}};var O={add:true,remove:true,merge:true};var k={add:true,merge:false,remove:false};l.extend(C.prototype,j,{model:e,initialize:function(){},toJSON:function(m){return this.map(function(n){return n.toJSON(m)})},sync:function(){return Z.sync.apply(this,arguments)},add:function(n,m){return this.set(n,l.defaults(m||{},k))},remove:function(r,p){r=l.isArray(r)?r.slice():[r];p||(p={});var q,m,o,n;for(q=0,m=r.length;q<m;q++){n=this.get(r[q]);if(!n){continue}delete this._byId[n.id];delete this._byId[n.cid];o=this.indexOf(n);this.models.splice(o,1);this.length--;if(!p.silent){p.index=o;n.trigger("remove",n,this,p)}this._removeReference(n)}return this},set:function(n,z){z=l.defaults(z||{},O);if(z.parse){n=this.parse(n,z)}if(!l.isArray(n)){n=n?[n]:[]}var u,q,w,x,o,v;var p=z.at;var t=this.comparator&&(p==null)&&z.sort!==false;var r=l.isString(this.comparator)?this.comparator:null;var y=[],m=[],s={};for(u=0,q=n.length;u<q;u++){if(!(w=this._prepareModel(n[u],z))){continue}if(o=this.get(w)){if(z.remove){s[o.cid]=true}if(z.merge){o.set(w.attributes,z);if(t&&!v&&o.hasChanged(r)){v=true}}}else{if(z.add){y.push(w);w.on("all",this._onModelEvent,this);this._byId[w.cid]=w;if(w.id!=null){this._byId[w.id]=w}}}}if(z.remove){for(u=0,q=this.length;u<q;++u){if(!s[(w=this.models[u]).cid]){m.push(w)}}if(m.length){this.remove(m,z)}}if(y.length){if(t){v=true}this.length+=y.length;if(p!=null){T.apply(this.models,[p,0].concat(y))}else{d.apply(this.models,y)}}if(v){this.sort({silent:true})}if(z.silent){return this}for(u=0,q=y.length;u<q;u++){(w=y[u]).trigger("add",w,this,z)}if(v){this.trigger("sort",this,z)}return this},reset:function(p,n){n||(n={});for(var o=0,m=this.models.length;o<m;o++){this._removeReference(this.models[o])}n.previousModels=this.models;this._reset();this.add(p,l.extend({silent:true},n));if(!n.silent){this.trigger("reset",this,n)}return this},push:function(n,m){n=this._prepareModel(n,m);this.add(n,l.extend({at:this.length},m));return n},pop:function(n){var m=this.at(this.length-1);this.remove(m,n);return m},unshift:function(n,m){n=this._prepareModel(n,m);this.add(n,l.extend({at:0},m));return n},shift:function(n){var m=this.at(0);this.remove(m,n);return m},slice:function(n,m){return this.models.slice(n,m)},get:function(m){if(m==null){return void 0}return this._byId[m.id!=null?m.id:m.cid||m]},at:function(m){return this.models[m]},where:function(m,n){if(l.isEmpty(m)){return n?void 0:[]}return this[n?"find":"filter"](function(o){for(var p in m){if(m[p]!==o.get(p)){return false}}return true})},findWhere:function(m){return this.where(m,true)},sort:function(m){if(!this.comparator){throw new Error("Cannot sort a set without a comparator")}m||(m={});if(l.isString(this.comparator)||this.comparator.length===1){this.models=this.sortBy(this.comparator,this)}else{this.models.sort(l.bind(this.comparator,this))}if(!m.silent){this.trigger("sort",this,m)}return this},sortedIndex:function(m,p,n){p||(p=this.comparator);var o=l.isFunction(p)?p:function(q){return q.get(p)};return l.sortedIndex(this.models,m,o,n)},pluck:function(m){return l.invoke(this.models,"get",m)},fetch:function(m){m=m?l.clone(m):{};if(m.parse===void 0){m.parse=true}var o=m.success;var n=this;m.success=function(p){var q=m.reset?"reset":"set";n[q](p,m);if(o){o(n,p,m)}n.trigger("sync",n,p,m)};h(this,m);return this.sync("read",this,m)},create:function(n,m){m=m?l.clone(m):{};if(!(n=this._prepareModel(n,m))){return false}if(!m.wait){this.add(n,m)}var p=this;var o=m.success;m.success=function(r,s,q){if(q.wait){p.add(r,q)}if(o){o(r,s,q)}};n.save(null,m);return n},parse:function(n,m){return n},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(o,n){if(o instanceof e){if(!o.collection){o.collection=this}return o}n||(n={});n.collection=this;var m=new this.model(o,n);if(!m._validate(o,n)){this.trigger("invalid",this,o,n);return false}return m},_removeReference:function(m){if(this===m.collection){delete m.collection}m.off("all",this._onModelEvent,this)},_onModelEvent:function(o,n,p,m){if((o==="add"||o==="remove")&&p!==this){return }if(o==="destroy"){this.remove(n,m)}if(n&&o==="change:"+n.idAttribute){delete this._byId[n.previous(n.idAttribute)];if(n.id!=null){this._byId[n.id]=n}}this.trigger.apply(this,arguments)}});var Y=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];l.each(Y,function(m){C.prototype[m]=function(){var n=N.call(arguments);n.unshift(this.models);return l[m].apply(l,n)}});var K=["groupBy","countBy","sortBy"];l.each(K,function(m){C.prototype[m]=function(p,n){var o=l.isFunction(p)?p:function(q){return q.get(p)};return l[m](this.models,o,n)}});var g=Z.View=function(m){this.cid=l.uniqueId("view");this._configure(m||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var V=/^(\S+)\s*(.*)$/;var E=["model","collection","el","id","attributes","className","tagName","events"];l.extend(g.prototype,j,{tagName:"div",$:function(m){return this.$el.find(m)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(m,n){if(this.$el){this.undelegateEvents()}this.$el=m instanceof Z.$?m:Z.$(m);this.el=this.$el[0];if(n!==false){this.delegateEvents()}return this},delegateEvents:function(q){if(!(q||(q=l.result(this,"events")))){return this}this.undelegateEvents();for(var p in q){var r=q[p];if(!l.isFunction(r)){r=this[q[p]]}if(!r){continue}var o=p.match(V);var n=o[1],m=o[2];r=l.bind(r,this);n+=".delegateEvents"+this.cid;if(m===""){this.$el.on(n,r)}else{this.$el.on(n,m,r)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_configure:function(m){if(this.options){m=l.extend({},l.result(this,"options"),m)}l.extend(this,l.pick(m,E));this.options=m},_ensureElement:function(){if(!this.el){var m=l.extend({},l.result(this,"attributes"));if(this.id){m.id=l.result(this,"id")}if(this.className){m["class"]=l.result(this,"className")}var n=Z.$("<"+l.result(this,"tagName")+">").attr(m);this.setElement(n,false)}else{this.setElement(l.result(this,"el"),false)}}});Z.sync=function(s,n,m){var p=J[s];l.defaults(m||(m={}),{emulateHTTP:Z.emulateHTTP,emulateJSON:Z.emulateJSON});var r={type:p,dataType:"json"};if(!m.url){r.url=l.result(n,"url")||R()}if(m.data==null&&n&&(s==="create"||s==="update"||s==="patch")){r.contentType="application/json";r.data=JSON.stringify(m.attrs||n.toJSON(m))}if(m.emulateJSON){r.contentType="application/x-www-form-urlencoded";r.data=r.data?{model:r.data}:{}}if(m.emulateHTTP&&(p==="PUT"||p==="DELETE"||p==="PATCH")){r.type="POST";if(m.emulateJSON){r.data._method=p}var o=m.beforeSend;m.beforeSend=function(t){t.setRequestHeader("X-HTTP-Method-Override",p);if(o){return o.apply(this,arguments)}}}if(r.type!=="GET"&&!m.emulateJSON){r.processData=false}if(r.type==="PATCH"&&window.ActiveXObject&&!(window.external&&window.external.msActiveXFilteringEnabled)){r.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}var q=m.xhr=Z.ajax(l.extend(r,m));n.trigger("request",n,q,m);return q};var J={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};Z.ajax=function(){return Z.$.ajax.apply(Z.$,arguments)};var P=Z.Router=function(m){m||(m={});if(m.routes){this.routes=m.routes}this._bindRoutes();this.initialize.apply(this,arguments)};var Q=/\((.*?)\)/g;var S=/(\(\?)?:\w+/g;var D=/\*\w+/g;var H=/[\-{}\[\]+?.,\\\^$|#\s]/g;l.extend(P.prototype,j,{initialize:function(){},route:function(n,o,p){if(!l.isRegExp(n)){n=this._routeToRegExp(n)}if(l.isFunction(o)){p=o;o=""}if(!p){p=this[o]}var m=this;Z.history.route(n,function(r){var q=m._extractParameters(n,r);p&&p.apply(m,q);m.trigger.apply(m,["route:"+o].concat(q));m.trigger("route",o,q);Z.history.trigger("route",m,o,q)});return this},navigate:function(n,m){Z.history.navigate(n,m);return this},_bindRoutes:function(){if(!this.routes){return }this.routes=l.result(this,"routes");var n,m=l.keys(this.routes);while((n=m.pop())!=null){this.route(n,this.routes[n])}},_routeToRegExp:function(m){m=m.replace(H,"\\$&").replace(Q,"(?:$1)?").replace(S,function(o,n){return n?o:"([^/]+)"}).replace(D,"(.*?)");return new RegExp("^"+m+"$")},_extractParameters:function(m,n){var o=m.exec(n).slice(1);return l.map(o,function(p){return p?decodeURIComponent(p):null})}});var I=Z.History=function(){this.handlers=[];l.bindAll(this,"checkUrl");if(typeof window!=="undefined"){this.location=window.location;this.history=window.history}};var a=/^[#\/]|\s+$/g;var F=/^\/+|\/+$/g;var i=/msie [\w.]+/;var M=/\/$/;I.started=false;l.extend(I.prototype,j,{interval:50,getHash:function(n){var m=(n||this).location.href.match(/#(.*)$/);return m?m[1]:""},getFragment:function(o,n){if(o==null){if(this._hasPushState||!this._wantsHashChange||n){o=this.location.pathname;var m=this.root.replace(M,"");if(!o.indexOf(m)){o=o.substr(m.length)}}else{o=this.getHash()}}return o.replace(a,"")},start:function(o){if(I.started){throw new Error("Backbone.history has already been started")}I.started=true;this.options=l.extend({},{root:"/"},this.options,o);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==false;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment();var m=document.documentMode;var q=(i.exec(navigator.userAgent.toLowerCase())&&(!m||m<=7));this.root=("/"+this.root+"/").replace(F,"/");if(q&&this._wantsHashChange){this.iframe=Z.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow;this.navigate(n)}if(this._hasPushState){Z.$(window).on("popstate",this.checkUrl)}else{if(this._wantsHashChange&&("onhashchange" in window)&&!q){Z.$(window).on("hashchange",this.checkUrl)}else{if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}}}this.fragment=n;var r=this.location;var p=r.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!p){this.fragment=this.getFragment(null,true);this.location.replace(this.root+this.location.search+"#"+this.fragment);return true}else{if(this._wantsPushState&&this._hasPushState&&p&&r.hash){this.fragment=this.getHash().replace(a,"");this.history.replaceState({},document.title,this.root+this.fragment+r.search)}}if(!this.options.silent){return this.loadUrl()}},stop:function(){Z.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);I.started=false},route:function(m,n){this.handlers.unshift({route:m,callback:n})},checkUrl:function(n){var m=this.getFragment();if(m===this.fragment&&this.iframe){m=this.getFragment(this.getHash(this.iframe))}if(m===this.fragment){return false}if(this.iframe){this.navigate(m)}this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(o){var n=this.fragment=this.getFragment(o);var m=l.any(this.handlers,function(p){if(p.route.test(n)){p.callback(n);return true}});return m},navigate:function(o,n){if(!I.started){return false}if(!n||n===true){n={trigger:n}}o=this.getFragment(o||"");if(this.fragment===o){return }this.fragment=o;var m=this.root+o;if(this._hasPushState){this.history[n.replace?"replaceState":"pushState"]({},document.title,m)}else{if(this._wantsHashChange){this._updateHash(this.location,o,n.replace);if(this.iframe&&(o!==this.getFragment(this.getHash(this.iframe)))){if(!n.replace){this.iframe.document.open().close()}this._updateHash(this.iframe.location,o,n.replace)}}else{return this.location.assign(m)}}if(n.trigger){this.loadUrl(o)}},_updateHash:function(m,o,p){if(p){var n=m.href.replace(/(javascript:|#).*$/,"");m.replace(n+"#"+o)}else{m.hash="#"+o}}});Z.history=new I;var L=function(m,o){var n=this;var q;if(m&&l.has(m,"constructor")){q=m.constructor}else{q=function(){return n.apply(this,arguments)}}l.extend(q,n,o);var p=function(){this.constructor=q};p.prototype=n.prototype;q.prototype=new p;if(m){l.extend(q.prototype,m)}q.__super__=n.prototype;return q};e.extend=C.extend=P.extend=g.extend=I.extend=L;var R=function(){throw new Error('A "url" property or function must be specified')};var h=function(o,n){var m=n.error;n.error=function(p){if(m){m(o,p,n)}o.trigger("error",o,p,n)}}}).call(this);;
;
/* module-key = 'jira.webresources:ajs-backbone-amd-shim', location = '/static/lib/amd-shims/backbone-amd.js' */
define("backbone",["underscore","jquery"],function(){return Backbone});;
;
/* module-key = 'jira.webresources:number-formatter', location = '/includes/jira/numberformatter/NumberFormatter.js' */
JIRA.NumberFormatter={format:function(integer){var groupSeparator=AJS.Meta.get("user-locale-group-separator")||"";return integer.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g,groupSeparator)}};;
;
/* module-key = 'jira.webresources:util', location = '/includes/jira/common/meta.js' */
AJS.namespace("JIRA.Meta");(function(){var Meta=require("jira/util/data/meta");var params=require("aui/params");JIRA.Meta.getLoggedInUser=function(){return{name:Meta.get("remote-user"),fullName:Meta.get("remote-user-fullname")}};JIRA.Meta.getProject=function(){return params.projectKey};JIRA.Meta.getIssueKey=function(){return Meta.get("issue-key")}})();;
;
/* module-key = 'jira.webresources:util', location = '/includes/ajs/ajax/AjaxUtil.js' */
define("jira/ajs/ajax/ajax-util",["jquery","underscore","exports"],function($,_,exports){var messageFromErrorCollection=function(data){if(data){if(_.isArray(data.errorMessages)&&!_.isEmpty(data.errorMessages)){return data.errorMessages.join(" ")}else{if(_.isObject(data.errors)&&!_.isEmpty(data.errors)){return _.values(data.errors).join(" ")}}}return null};var getMessageFromXHRBody=function(xhr){var data;try{data=xhr.responseText&&$.parseJSON(xhr.responseText);return messageFromErrorCollection(data)}catch(e){}return null};var getMessageFromXHRStatus=function(xhr){if(xhr.status===401){return "You are not authorized to perform this operation. Please log in."}else{if(xhr.responseText){return "The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation."}else{return "The JIRA server could not be contacted. This may be a temporary glitch or the server may be down."}}};var WEBSUDO_REGEX=/websudo/i;exports.getErrorMessageFromXHR=function(xhr){return getMessageFromXHRBody(xhr)||getMessageFromXHRStatus(xhr)};exports.isWebSudoFailure=function(xhr){return xhr&&xhr.status===401&&WEBSUDO_REGEX.test(xhr.responseText)}});AJS.namespace("JIRA.Ajax",null,require("jira/ajs/ajax/ajax-util"));;
;
/* module-key = 'jira.webresources:util', location = '/includes/jira/common/observer.js' */
(function(){var Events=require("jira/util/events");var Types=require("jira/util/events/types");var Reasons=require("jira/util/events/reasons");var jQuery=require("jquery");jQuery(function(){var ctx=jQuery(document);Events.trigger(Types.NEW_CONTENT_ADDED,[ctx,Reasons.pageLoad]);Events.trigger(Types.NEW_PAGE_ADDED,[ctx])});Events.bind("dialogContentReady",function(e,dialog){var ctx=dialog.get$popupContent();Events.trigger(Types.NEW_CONTENT_ADDED,[ctx,Reasons.dialogReady]);Events.trigger(Types.NEW_PAGE_ADDED,[ctx])});Events.bind("contentRefreshed",function(e,context){var ctx=jQuery(context);Events.trigger(Types.NEW_CONTENT_ADDED,[ctx])})})();;
;
/* module-key = 'jira.webresources:util', location = '/includes/jquery/plugins/getdocheight/getDocHeight.js' */
jQuery.getDocHeight=function(){return Math.max(jQuery(document).height(),jQuery(window).height(),document.documentElement.clientHeight)};;
;
/* module-key = 'jira.webresources:util', location = '/includes/jquery/plugins/os/os.js' */
jQuery.os={};if(navigator.platform.toLowerCase().indexOf("win")!=-1){jQuery.os.windows=true}if(navigator.platform.toLowerCase().indexOf("mac")!=-1){jQuery.os.mac=true}if(navigator.platform.toLowerCase().indexOf("linux")!=-1){jQuery.os.linux=true};;
;
/* module-key = 'jira.webresources:util', location = '/includes/lib/json/JSONiefix.js' */
if(jQuery.browser.msie&&jQuery.browser.version>7&&typeof JSON!=="undefined"){JSON.stringify=null};;
;
/* module-key = 'jira.webresources:util', location = '/includes/jira/common/version.js' */
define("jira/util/version",["aui/params"],function(params){var Version={};Version.compare=function(str2){if(!params.JiraVersion){return }var parts1=params.JiraVersion.split(".");var parts2=str2.split(".");var len;var ret=-1;len=parts1.length;if(parts1.length>parts2.length){len=parts2.length;ret=1}else{if(parts1.length===parts2.length){ret=0}}for(var i=0;i<len;i++){var p1,p2;var m1,m2;var pat;var i1,i2;p1=parts1[i];p2=parts2[i];pat=/^(0+)(.*)$/;m1=p1.match(pat);if(m1!=null){p1="0."+p1;i1=parseFloat(p1)}else{i1=parseInt(p1,10)}m2=p2.match(pat);if(m2!=null){p2="0."+p2;i2=parseFloat(p2)}else{i2=parseInt(p2,10)}if(i1<i2){return -1}if(i1>i2){return 1}}return ret};Version.isGreaterThanOrEqualTo=function(ver){return Version.compare(ver)!==-1};return Version});AJS.namespace("JIRA.Version",null,require("jira/util/version"));;
;
/* module-key = 'jira.webresources:util', location = '/includes/lib/json/JSON.js' */
if(!this.JSON){this.JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){k=rep[i];if(typeof k==="string"){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());;
;
/* module-key = 'jira.webresources:util', location = '/includes/lib/parseuri/parseUri.js' */
function parseUri(str){var o=parseUri.options,m=o.parser[o.strictMode?"strict":"loose"].exec(str),uri={},i=14;while(i--){uri[o.key[i]]=m[i]||""}uri[o.q.name]={};uri[o.key[12]].replace(o.q.parser,function($0,$1,$2){if($1){uri[o.q.name][$1]=$2}});return uri}parseUri.options={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};;
;
/* module-key = 'jira.webresources:util', location = '/includes/jquery/plugins/effects/effects.js' */
jQuery.effects||(function($){$.effects={};$.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(i,attr){$.fx.step[attr]=function(fx){if(!fx.colorInit){fx.start=getColor(fx.elem,attr);fx.end=getRGB(fx.end);fx.colorInit=true}fx.elem.style[attr]="rgb("+Math.max(Math.min(parseInt((fx.pos*(fx.end[0]-fx.start[0]))+fx.start[0],10),255),0)+","+Math.max(Math.min(parseInt((fx.pos*(fx.end[1]-fx.start[1]))+fx.start[1],10),255),0)+","+Math.max(Math.min(parseInt((fx.pos*(fx.end[2]-fx.start[2]))+fx.start[2],10),255),0)+")"}});function getRGB(color){var result;if(color&&color.constructor==Array&&color.length==3){return color}if(result=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(color)){return[parseInt(result[1],10),parseInt(result[2],10),parseInt(result[3],10)]}if(result=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(color)){return[parseFloat(result[1])*2.55,parseFloat(result[2])*2.55,parseFloat(result[3])*2.55]}if(result=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(color)){return[parseInt(result[1],16),parseInt(result[2],16),parseInt(result[3],16)]}if(result=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(color)){return[parseInt(result[1]+result[1],16),parseInt(result[2]+result[2],16),parseInt(result[3]+result[3],16)]}if(result=/rgba\(0, 0, 0, 0\)/.exec(color)){return colors["transparent"]}return colors[$.trim(color).toLowerCase()]}function getColor(elem,attr){var color;do{color=$.curCSS(elem,attr);if(color!=""&&color!="transparent"||$.nodeName(elem,"body")){break}attr="backgroundColor"}while(elem=elem.parentNode);return getRGB(color)}var colors={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]};var classAnimationActions=["add","remove","toggle"],shorthandStyles={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function getElementStyles(){var style=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,newStyle={},key,camelCase;if(style&&style.length&&style[0]&&style[style[0]]){var len=style.length;while(len--){key=style[len];if(typeof style[key]=="string"){camelCase=key.replace(/\-(\w)/g,function(all,letter){return letter.toUpperCase()});newStyle[camelCase]=style[key]}}}else{for(key in style){if(typeof style[key]==="string"){newStyle[key]=style[key]}}}return newStyle}function filterStyles(styles){var name,value;for(name in styles){value=styles[name];if(value==null||$.isFunction(value)||name in shorthandStyles||(/scrollbar/).test(name)||(!(/color/i).test(name)&&isNaN(parseFloat(value)))){delete styles[name]}}return styles}function styleDifference(oldStyle,newStyle){var diff={_:0},name;for(name in newStyle){if(oldStyle[name]!=newStyle[name]){diff[name]=newStyle[name]}}return diff}$.effects.animateClass=function(value,duration,easing,callback){if($.isFunction(easing)){callback=easing;easing=null}return this.each(function(){var that=$(this),originalStyleAttr=that.attr("style")||" ",originalStyle=filterStyles(getElementStyles.call(this)),newStyle,className=that.prop("className");$.each(classAnimationActions,function(i,action){if(value[action]){that[action+"Class"](value[action])}});newStyle=filterStyles(getElementStyles.call(this));that.prop("className",className);that.animate(styleDifference(originalStyle,newStyle),duration,easing,function(){$.each(classAnimationActions,function(i,action){if(value[action]){that[action+"Class"](value[action])}});if(typeof that.attr("style")=="object"){that.attr("style").cssText="";that.attr("style").cssText=originalStyleAttr}else{that.attr("style",originalStyleAttr)}if(callback){callback.apply(this,arguments)}})})};$.fn.extend({_addClass:$.fn.addClass,addClass:function(classNames,speed,easing,callback){return speed?$.effects.animateClass.apply(this,[{add:classNames},speed,easing,callback]):this._addClass(classNames)},_removeClass:$.fn.removeClass,removeClass:function(classNames,speed,easing,callback){return speed?$.effects.animateClass.apply(this,[{remove:classNames},speed,easing,callback]):this._removeClass(classNames)},_toggleClass:$.fn.toggleClass,toggleClass:function(classNames,force,speed,easing,callback){if(typeof force=="boolean"||force===undefined){if(!speed){return this._toggleClass(classNames,force)}else{return $.effects.animateClass.apply(this,[(force?{add:classNames}:{remove:classNames}),speed,easing,callback])}}else{return $.effects.animateClass.apply(this,[{toggle:classNames},force,speed,easing])}},switchClass:function(remove,add,speed,easing,callback){return $.effects.animateClass.apply(this,[{add:add,remove:remove},speed,easing,callback])}});$.extend($.effects,{version:"1.8rc3",save:function(element,set){for(var i=0;i<set.length;i++){if(set[i]!==null){element.data("ec.storage."+set[i],element[0].style[set[i]])}}},restore:function(element,set){for(var i=0;i<set.length;i++){if(set[i]!==null){element.css(set[i],element.data("ec.storage."+set[i]))}}},setMode:function(el,mode){if(mode=="toggle"){mode=el.is(":hidden")?"show":"hide"}return mode},getBaseline:function(origin,original){var y,x;switch(origin[0]){case"top":y=0;break;case"middle":y=0.5;break;case"bottom":y=1;break;default:y=origin[0]/original.height}switch(origin[1]){case"left":x=0;break;case"center":x=0.5;break;case"right":x=1;break;default:x=origin[1]/original.width}return{x:x,y:y}},createWrapper:function(element){if(element.parent().is(".ui-effects-wrapper")){return element.parent()}var props={width:element.outerWidth(true),height:element.outerHeight(true),"float":element.css("float")},wrapper=$("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0});element.wrap(wrapper);wrapper=element.parent();if(element.css("position")=="static"){wrapper.css({position:"relative"});element.css({position:"relative"})}else{$.extend(props,{position:element.css("position"),zIndex:element.css("z-index")});$.each(["top","left","bottom","right"],function(i,pos){props[pos]=element.css(pos);if(isNaN(parseInt(props[pos],10))){props[pos]="auto"}});element.css({position:"relative",top:0,left:0})}return wrapper.css(props).show()},removeWrapper:function(element){if(element.parent().is(".ui-effects-wrapper")){return element.parent().replaceWith(element)}return element},setTransition:function(element,list,factor,value){value=value||{};$.each(list,function(i,x){unit=element.cssUnit(x);if(unit[0]>0){value[x]=unit[0]*factor+unit[1]}});return value}});function _normalizeArguments(effect,options,speed,callback){if(typeof effect=="object"){callback=options;speed=null;options=effect;effect=options.effect}if($.isFunction(options)){callback=options;speed=null;options={}}if(typeof options=="number"||$.fx.speeds[options]){callback=speed;speed=options;options={}}options=options||{};speed=speed||options.duration;speed=$.fx.off?0:typeof speed=="number"?speed:$.fx.speeds[speed]||$.fx.speeds._default;callback=callback||options.complete;return[effect,options,speed,callback]}$.fn.extend({effect:function(effect,options,speed,callback){var args=_normalizeArguments.apply(this,arguments),args2={options:args[1],duration:args[2],callback:args[3]},effectMethod=$.effects[effect];return effectMethod&&!$.fx.off?effectMethod.call(this,args2):this},_show:$.fn.show,show:function(speed){if(!speed||typeof speed=="number"||$.fx.speeds[speed]){return this._show.apply(this,arguments)}else{var args=_normalizeArguments.apply(this,arguments);args[1].mode="show";return this.effect.apply(this,args)}},_hide:$.fn.hide,hide:function(speed){if(!speed||typeof speed=="number"||$.fx.speeds[speed]){return this._hide.apply(this,arguments)}else{var args=_normalizeArguments.apply(this,arguments);args[1].mode="hide";return this.effect.apply(this,args)}},__toggle:$.fn.toggle,toggle:function(speed){if(!speed||typeof speed=="number"||$.fx.speeds[speed]||typeof speed=="boolean"||$.isFunction(speed)){return this.__toggle.apply(this,arguments)}else{var args=_normalizeArguments.apply(this,arguments);args[1].mode="toggle";return this.effect.apply(this,args)}},cssUnit:function(key){var style=this.css(key),val=[];$.each(["em","px","%","pt"],function(i,unit){if(style.indexOf(unit)>0){val=[parseFloat(style),unit]}});return val}});$.easing.jswing=$.easing.swing;$.extend($.easing,{def:"easeOutQuad",swing:function(x,t,b,c,d){return $.easing[$.easing.def](x,t,b,c,d)},easeInQuad:function(x,t,b,c,d){return c*(t/=d)*t+b},easeOutQuad:function(x,t,b,c,d){return -c*(t/=d)*(t-2)+b},easeInOutQuad:function(x,t,b,c,d){if((t/=d/2)<1){return c/2*t*t+b}return -c/2*((--t)*(t-2)-1)+b},easeInCubic:function(x,t,b,c,d){return c*(t/=d)*t*t+b},easeOutCubic:function(x,t,b,c,d){return c*((t=t/d-1)*t*t+1)+b},easeInOutCubic:function(x,t,b,c,d){if((t/=d/2)<1){return c/2*t*t*t+b}return c/2*((t-=2)*t*t+2)+b},easeInQuart:function(x,t,b,c,d){return c*(t/=d)*t*t*t+b},easeOutQuart:function(x,t,b,c,d){return -c*((t=t/d-1)*t*t*t-1)+b},easeInOutQuart:function(x,t,b,c,d){if((t/=d/2)<1){return c/2*t*t*t*t+b}return -c/2*((t-=2)*t*t*t-2)+b},easeInQuint:function(x,t,b,c,d){return c*(t/=d)*t*t*t*t+b},easeOutQuint:function(x,t,b,c,d){return c*((t=t/d-1)*t*t*t*t+1)+b},easeInOutQuint:function(x,t,b,c,d){if((t/=d/2)<1){return c/2*t*t*t*t*t+b}return c/2*((t-=2)*t*t*t*t+2)+b},easeInSine:function(x,t,b,c,d){return -c*Math.cos(t/d*(Math.PI/2))+c+b},easeOutSine:function(x,t,b,c,d){return c*Math.sin(t/d*(Math.PI/2))+b},easeInOutSine:function(x,t,b,c,d){return -c/2*(Math.cos(Math.PI*t/d)-1)+b},easeInExpo:function(x,t,b,c,d){return(t==0)?b:c*Math.pow(2,10*(t/d-1))+b},easeOutExpo:function(x,t,b,c,d){return(t==d)?b+c:c*(-Math.pow(2,-10*t/d)+1)+b},easeInOutExpo:function(x,t,b,c,d){if(t==0){return b}if(t==d){return b+c}if((t/=d/2)<1){return c/2*Math.pow(2,10*(t-1))+b}return c/2*(-Math.pow(2,-10*--t)+2)+b},easeInCirc:function(x,t,b,c,d){return -c*(Math.sqrt(1-(t/=d)*t)-1)+b},easeOutCirc:function(x,t,b,c,d){return c*Math.sqrt(1-(t=t/d-1)*t)+b},easeInOutCirc:function(x,t,b,c,d){if((t/=d/2)<1){return -c/2*(Math.sqrt(1-t*t)-1)+b}return c/2*(Math.sqrt(1-(t-=2)*t)+1)+b},easeInElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0){return b}if((t/=d)==1){return b+c}if(!p){p=d*0.3}if(a<Math.abs(c)){a=c;var s=p/4}else{var s=p/(2*Math.PI)*Math.asin(c/a)}return -(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b},easeOutElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0){return b}if((t/=d)==1){return b+c}if(!p){p=d*0.3}if(a<Math.abs(c)){a=c;var s=p/4}else{var s=p/(2*Math.PI)*Math.asin(c/a)}return a*Math.pow(2,-10*t)*Math.sin((t*d-s)*(2*Math.PI)/p)+c+b},easeInOutElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0){return b}if((t/=d/2)==2){return b+c}if(!p){p=d*(0.3*1.5)}if(a<Math.abs(c)){a=c;var s=p/4}else{var s=p/(2*Math.PI)*Math.asin(c/a)}if(t<1){return -0.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b}return a*Math.pow(2,-10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p)*0.5+c+b},easeInBack:function(x,t,b,c,d,s){if(s==undefined){s=1.70158}return c*(t/=d)*t*((s+1)*t-s)+b},easeOutBack:function(x,t,b,c,d,s){if(s==undefined){s=1.70158}return c*((t=t/d-1)*t*((s+1)*t+s)+1)+b},easeInOutBack:function(x,t,b,c,d,s){if(s==undefined){s=1.70158}if((t/=d/2)<1){return c/2*(t*t*(((s*=(1.525))+1)*t-s))+b}return c/2*((t-=2)*t*(((s*=(1.525))+1)*t+s)+2)+b},easeInBounce:function(x,t,b,c,d){return c-$.easing.easeOutBounce(x,d-t,0,c,d)+b},easeOutBounce:function(x,t,b,c,d){if((t/=d)<(1/2.75)){return c*(7.5625*t*t)+b}else{if(t<(2/2.75)){return c*(7.5625*(t-=(1.5/2.75))*t+0.75)+b}else{if(t<(2.5/2.75)){return c*(7.5625*(t-=(2.25/2.75))*t+0.9375)+b}else{return c*(7.5625*(t-=(2.625/2.75))*t+0.984375)+b}}}},easeInOutBounce:function(x,t,b,c,d){if(t<d/2){return $.easing.easeInBounce(x,t*2,0,c,d)*0.5+b}return $.easing.easeOutBounce(x,t*2-d,0,c,d)*0.5+c*0.5+b}})})(jQuery);;
;
/* module-key = 'jira.webresources:util', location = '/includes/jira/data/parseOptionsFromFieldset.js' */
define("jira/data/parse-options-from-fieldset",["jquery"],function(jQuery){function parseOptionsFromFieldset($fieldset){var parsedValues=parseFieldset($fieldset,$fieldset);$fieldset.remove();return parsedValues}function parseFieldset($fieldset,$parentFieldset){var ret={};$fieldset.children().each(function(){var itemValue,$item=jQuery(this);if($item.is("input[type=hidden]")){itemValue=parseValue($item);if(ret.hasOwnProperty(itemValue.id)){if(jQuery.isArray(ret[itemValue.id])){ret[itemValue.id].push(itemValue.value)}else{ret[itemValue.id]=[ret[itemValue.id],itemValue.value]}}else{ret[itemValue.id]=itemValue.value}}else{if($item.is("fieldset")){ret[$item.attr("title")||$item.attr("id")]=parseFieldset($item,$parentFieldset)}else{$item.insertBefore($parentFieldset)}}});return ret}function parseValue($item){var itemValue={},value=$item.val();itemValue.id=$item.attr("title")||$item.attr("id");itemValue.value=(value.match(/^(tru|fals)e$/i)?value.toLowerCase()=="true":value);return itemValue}return parseOptionsFromFieldset});AJS.namespace("JIRA.parseOptionsFromFieldset",null,require("jira/data/parse-options-from-fieldset"));;
;
/* module-key = 'jira.webresources:util', location = '/includes/jquery/plugins/handleaccesskeys/handleAccessKeys.js' */
jQuery.fn.handleAccessKeys=function(options){var accessKeyAttr="accesskey";if(jQuery.browser.msie&&jQuery.browser.version=="7.0"){accessKeyAttr="accessKey"}options=options||{};this.each(function(){var $form=AJS.$(this),accesskeyElements={getBlackList:_.once(function getBlackList(){var blacklist=[];this.getMyAccesskeyElems().each(function(){if(this.hasAttribute(accessKeyAttr)){blacklist.push(this.getAttribute(accessKeyAttr).toLowerCase())}});return blacklist}),getMyAccesskeyElems:_.once(function getMyAccesskeyElems(){return jQuery(":input["+accessKeyAttr+"], a["+accessKeyAttr+"]",$form)}),getOtherAccesskeyElems:_.once(function getOtherAccesskeyElems(){return jQuery("form").not($form).find(":input["+accessKeyAttr+"], a["+accessKeyAttr+"]")})};if(!$form.is("form")){console.warn("jQuery.fn.handleAccessKeys: node type ["+$form.prop("nodeName")+"] is not valid. "+"Only <form> supported");return this}if($form.data("handleAccessKeys.applied")){return }$form.data("handleAccessKeys.applied",true);$form.delegate(":input, a","focus",function(){removeAccessKeys(accesskeyElements.getOtherAccesskeyElems(),accesskeyElements.getBlackList());attachAccessKeys(accesskeyElements.getMyAccesskeyElems())}).delegate(":input, a","blur",function(){attachAccessKeys(accesskeyElements.getOtherAccesskeyElems())})});function isInvalid(key,blackList){if(key){if(options.selective===false){return true}if(/[a-z]/i.test(key)){key=key.toLowerCase()}return jQuery.inArray(key,blackList)!==-1}}function attachAccessKeys($accessKeyElems){$accessKeyElems.each(function(){var $this=AJS.$(this);if($this.data(accessKeyAttr)){$this.attr(accessKeyAttr,$this.data(accessKeyAttr))}})}function removeAccessKeys($accessKeyElems,blackList){$accessKeyElems.each(function(){var $this=AJS.$(this);if(isInvalid($this.attr(accessKeyAttr),blackList)){$this.data(accessKeyAttr,$this.attr(accessKeyAttr));$this.removeAttr(accessKeyAttr)}})}return this};;
;
/* module-key = 'jira.webresources:util', location = '/includes/jquery/plugins/setselectionrange/setSelectionRange.js' */
jQuery.fn.setSelectionRange=function(selectionStart,selectionEnd){if(this.length==0){return }if(this[0].setSelectionRange){this[0].focus();this[0].setSelectionRange(selectionStart,selectionEnd)}else{if(this[0].createTextRange){var range=this[0].createTextRange();range.collapse(true);range.moveEnd("character",selectionEnd);range.moveStart("character",selectionStart);range.select()}}},jQuery.fn.setCaretToPosition=function(position){this.setSelectionRange(position,position)};;
;
/* module-key = 'jira.webresources:util', location = '/includes/jquery/plugins/pjax/jquery.pjax.js' */
(function($){$.fn.pjax=function(container,options){if(options){options.container=container}else{options=$.isPlainObject(container)?container:{container:container}}if(options.container&&typeof options.container!=="string"){throw"pjax container must be a string selector!";return false}return this.live("click",function(event){if(event.which>1||event.metaKey){return true}var defaults={url:this.href,container:$(this).attr("data-pjax"),clickedElement:$(this),fragment:null};$.pjax($.extend({},defaults,options));event.preventDefault()})};$.pjax=function(options){var $container=$(options.container),success=options.success||$.noop;delete options.success;if(typeof options.container!=="string"){throw"pjax container must be a string selector!"}var defaults={timeout:650,push:true,replace:false,data:{_pjax:true},type:"GET",dataType:"html",beforeSend:function(xhr){$container.trigger("start.pjax");xhr.setRequestHeader("X-PJAX","true")},error:function(){window.location=options.url},complete:function(){$container.trigger("end.pjax")},success:function(data){if(options.fragment){var $fragment=$(data).find(options.fragment);if($fragment.length){data=$fragment.children()}else{return window.location=options.url}}else{if(!$.trim(data)||/<html/i.test(data)){return window.location=options.url}}$container.html(data);var oldTitle=document.title,title=$.trim($container.find("title").remove().text());if(title){document.title=title}var state={pjax:options.container,fragment:options.fragment,timeout:options.timeout};var query=$.param(options.data);if(query!="_pjax=true"){state.url=options.url+(/\?/.test(options.url)?"&":"?")+query}if(options.replace){window.history.replaceState(state,document.title,options.url)}else{if(options.push){if(!$.pjax.active){window.history.replaceState($.extend({},state,{url:null}),oldTitle);$.pjax.active=true}window.history.pushState(state,document.title,options.url)}}if((options.replace||options.push)&&window._gaq){_gaq.push(["_trackPageview"])}var hash=window.location.hash.toString();if(hash!==""){window.location.href=hash}success.apply(this,arguments)}};options=$.extend(true,{},defaults,options);if($.isFunction(options.url)){options.url=options.url()}var xhr=$.pjax.xhr;if(xhr&&xhr.readyState<4){xhr.onreadystatechange=$.noop;xhr.abort()}$.pjax.xhr=$.ajax(options);$(document).trigger("pjax",$.pjax.xhr,options);return $.pjax.xhr};var popped=("state" in window.history),initialURL=location.href;$(window).bind("popstate",function(event){var initialPop=!popped&&location.href==initialURL;popped=true;if(initialPop){return }var state=event.state;if(state&&state.pjax){var container=state.pjax;if($(container+"").length){$.pjax({url:state.url||location.href,fragment:state.fragment,container:container,push:false,timeout:state.timeout})}else{window.location=location.href}}});if($.inArray("state",$.event.props)<0){$.event.props.push("state")}$.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/(iPod|iPhone|iPad|WebApps\/.+CFNetwork)/);if(!$.support.pjax){$.pjax=function(options){window.location=$.isFunction(options.url)?options.url():options.url};$.fn.pjax=function(){return this}}})(jQuery);;
;
/* module-key = 'jira.webresources:util', location = '/includes/jquery/plugins/simpleclick/simpleClick.js' */
(function($){$.event.special.simpleClick={add:function(handleObj){handleObj._clickHandler=function(event){if(!event.ctrlKey&&!event.metaKey&&!event.shiftKey){return handleObj.handler.apply(this,arguments)}};$(this).on("click",handleObj.selector,handleObj._clickHandler)},remove:function(handleObj){$(this).off("click",handleObj.selector,handleObj._clickHandler)}}})(jQuery);;
;
/* module-key = 'jira.webresources:util', location = '/includes/jira/data/SessionStorage.js' */
define("jira/data/session-storage",function(){return{nativesupport:true,length:function(){return sessionStorage.length},key:function(index){return sessionStorage.key(index)},getItem:function(key){return sessionStorage.getItem(key)},setItem:function(key,value){return sessionStorage.setItem(key,value)},removeItem:function(key){return sessionStorage.removeItem(key)},clear:function(){return sessionStorage.clear()},asJSON:function(){var len=this.length();var jsData="{\n";for(var i=0;i<len;i++){var key=this.key(i);var value=this.getItem(key);jsData+=key+":"+value;if(i<len-1){jsData+=","}jsData+="\n"}jsData+="}\n";return jsData}}});AJS.namespace("jira.app.session.storage",null,require("jira/data/session-storage"));AJS.namespace("JIRA.SessionStorage",null,require("jira/data/session-storage"));;
;
/* module-key = 'jira.webresources:util', location = '/includes/jira/data/LocalStorage.js' */
define("jira/data/local-storage",["jquery"],function(jQuery){if(typeof localStorage==="undefined"){localStorage={getItem:jQuery.noop,setItem:jQuery.noop,removeItem:jQuery.noop,clear:jQuery.noop}}return localStorage});;
;
/* module-key = 'jira.webresources:util', location = '/includes/ajs/persistence/persistence.js' */
define("jira/ajs/persistence",["jira/data/session-storage","jquery","exports"],function(sessionStorage,jQuery,exports){var STORAGE_KEY="AJS.thisPage";exports.nextPage=function(){var data=[];jQuery(window).unload(function(){sessionStorage.setItem(STORAGE_KEY,JSON.stringify(data))});return function(name,value){var replaced;jQuery.each(data,function(){if(this.name===name){this.value=value;replaced=true}});if(!replaced){data.push({name:name,value:value})}}}();exports.thisPage=function(){var i,value,unformattedData,data={};unformattedData=sessionStorage.getItem(STORAGE_KEY);sessionStorage.removeItem(STORAGE_KEY);if(unformattedData){unformattedData=JSON.parse(unformattedData);for(i=0;i<unformattedData.length;i++){data[unformattedData[i].name]=unformattedData[i].value}}return function(name){return data[name]}}()});(function(persistence){AJS.namespace("AJS.nextPage",null,persistence.nextPage);AJS.namespace("AJS.thisPage",null,persistence.thisPage)})(require("jira/ajs/persistence"));;
;
/* module-key = 'jira.webresources:util', location = '/includes/jira/xsrf/XSRF.js' */
define("jira/xsrf",["jquery"],function($){var META_TOKEN_ID="atlassian-token";var PARAM_TOKEN_NAME="atl_token";var INPUT_TOKEN_NAME="atl_token";var tokenQueryParam=function(token){return AJS.format("{0}={1}",PARAM_TOKEN_NAME,token)};var replaceTokenInMeta=function(oldToken,newToken){var metaTokenSelector=AJS.format("meta#{0}",META_TOKEN_ID);$(metaTokenSelector).attr("content",newToken)};var replaceTokenInLinks=function(oldToken,newToken){$("a,link").each(function(){var link=$(this);var href=link.attr("href");if(href){link.attr("href",href.replace(tokenQueryParam(oldToken),tokenQueryParam(newToken)))}})};var replaceTokenInForms=function(oldToken,newToken){$("form").each(function(){var $form=$(this);var action=$form.attr("action");if(action){$form.attr("action",action.replace(tokenQueryParam(oldToken),tokenQueryParam(newToken)))}var formInputSelector=AJS.format('input[name="{0}"][value="{1}"]',INPUT_TOKEN_NAME,oldToken);$form.find(formInputSelector).each(function(){$(this).attr("value",newToken)})})};function updateTokenOnPage(newToken){var oldToken=atl_token();if(oldToken!==newToken){replaceTokenInMeta(oldToken,newToken);replaceTokenInLinks(oldToken,newToken);replaceTokenInForms(oldToken,newToken)}}return{updateTokenOnPage:updateTokenOnPage}});AJS.namespace("jira.xsrf",null,require("jira/xsrf"));AJS.namespace("JIRA.XSRF",null,require("jira/xsrf"));;
;
/* module-key = 'jira.webresources:util', location = '/includes/ajs/bindDefaultCustomEvent/bindDefaultCustomEvent.js' */
(function(){var defaultEvents={};AJS.bindDefaultCustomEvent=function(name,defaultHandler){if(defaultEvents[name]){throw new Error("You have already bound a default handler for ["+name+"] event")}defaultEvents[name]=function(e){var events=AJS.$(document).data("events")[name],lastEventHandler=events[events.length-1].handler;if(lastEventHandler!==arguments.callee){e.preventDefault=function(){defaultHandler=null};events[events.length-1].handler=function(){lastEventHandler.apply(this,arguments);if(defaultHandler){defaultHandler.apply(this,arguments)}events[events.length-1].handler=lastEventHandler}}else{defaultHandler.apply(this,arguments)}};AJS.$(document).bind(name,defaultEvents[name])};AJS.unbindDefaultCustomEvent=function(name){if(defaultEvents[name]){AJS.$(document).unbind(name,defaultEvents[name]);delete defaultEvents[name]}}})();;
;
/* module-key = 'jira.webresources:content-retrievers', location = '/includes/ajs/contentretriever/ContentRetriever.js' */
define("jira/ajs/contentretriever/content-retriever",["jira/lib/class","jquery"],function(Class,jQuery){return Class.extend({startingRequest:jQuery.noop,finishedRequest:jQuery.noop,cache:jQuery.noop,isLocked:jQuery.noop,content:jQuery.noop})});AJS.namespace("AJS.ContentRetriever",null,require("jira/ajs/contentretriever/content-retriever"));;
;
/* module-key = 'jira.webresources:content-retrievers', location = '/includes/ajs/contentretriever/AjaxContentRetriever.js' */
define("jira/ajs/contentretriever/ajax-content-retriever",["jira/ajs/contentretriever/content-retriever","jira/ajs/ajax/smart-ajax","jquery"],function(ContentRetriever,SmartAjax,$){return ContentRetriever.extend({init:function(options){var instance=this;this.ajaxOptions=options;if(!this.ajaxOptions.requestDelay&&this.ajaxOptions.requestDelay!==0){this.ajaxOptions.requestDelay=75}},getAjaxOptions:function(){var ajaxOptions,instance=this;if(typeof this.ajaxOptions==="string"){ajaxOptions={url:this.ajaxOptions}}else{if($.isFunction(this.ajaxOptions)){ajaxOptions=this.ajaxOptions()}else{ajaxOptions=this.ajaxOptions}}ajaxOptions.globalThrobber=false;ajaxOptions.success=function(data,textStatus,xhr){instance._requestComplete(xhr,textStatus,data,true,null)};ajaxOptions.error=function(xhr,textStatus){if(xhr.rc){xhr.status=xhr.rc}instance._requestComplete(xhr,textStatus,null,false,null)};return ajaxOptions},content:function(arg){if($.isFunction(arg)){this.callback=arg;this._makeRequest(arg)}else{if(arg){if(this.callback){this.callback(arg);delete this.callback}}}return this.$content},startingRequest:function(callback){if(callback){this.startingCallback=callback}else{if(this.startingCallback){this.locked=true;this.startingCallback()}}},finishedRequest:function(callback){if(callback){this.finishedCallback=callback}else{if(this.finishedCallback){this.locked=false;this.finishedCallback()}}},failedRequest:function(callback){if(callback){this.failedCallback=callback}else{if(this.failedCallback){this.locked=false;this.failedCallback()}}},cache:function(cache){if(typeof cache!=="undefined"){this.getAjaxOptions().cache=cache}return this.getAjaxOptions().cache},isLocked:function(){return this.locked},_requestComplete:function(xhr,statusText,data,successful,errorThrown){if(statusText==="abort"){this.locked=false;return }var $content,smartAjaxResult,ajaxOptions=this.getAjaxOptions();if(SmartAjax.SmartAjaxResult){smartAjaxResult=SmartAjax.SmartAjaxResult.apply(window,arguments)}if(successful){if($.isFunction(ajaxOptions.formatSuccess)){$content=ajaxOptions.formatSuccess(data)}else{$content=$("<div>"+data+"</div>")}}else{if($.isFunction(ajaxOptions.formatError)){$content=ajaxOptions.formatError(data)}else{if(smartAjaxResult){var errorClass=smartAjaxResult.status===401?"warning":"error";$content=$('<div class="aui-message '+errorClass+'"><span class="aui-icon icon-'+errorClass+'"></span>'+SmartAjax.buildSimpleErrorContent(smartAjaxResult)+"</div>")}}this.failedRequest()}this.content($content);this.finishedRequest()},_makeRequest:function(){var instance=this,ajaxOptions=this.getAjaxOptions();if(this.outstandingRequest){this.outstandingRequest.abort();this.outstandingRequest=null}clearTimeout(this._queuedRequest);if(this.isLocked()){this._queuedRequest=setTimeout(function(){instance._makeRequest()},this.ajaxOptions.requestDelay)}else{doRequest()}function doRequest(){instance.startingRequest();instance.outstandingRequest=$.ajax(instance.getAjaxOptions())}}})});AJS.namespace("AJS.AjaxContentRetriever",null,require("jira/ajs/contentretriever/ajax-content-retriever"));;
;
/* module-key = 'jira.webresources:content-retrievers', location = '/includes/ajs/contentretriever/DOMContentRetriever.js' */
define("jira/ajs/contentretriever/dom-content-retriever",["jira/ajs/contentretriever/content-retriever","jquery"],function(ContentRetriever,$){return ContentRetriever.extend({init:function(content){this.$content=$(content)},content:function(callback){if($.isFunction(callback)){callback(this.$content)}return this.$content}})});AJS.namespace("AJS.DOMContentRetriever",null,require("jira/ajs/contentretriever/dom-content-retriever"));;
;
/* module-key = 'jira.webresources:content-retrievers', location = '/includes/ajs/contentretriever/DeferredContentRetriever.js' */
define("jira/ajs/contentretriever/deferred-content-retriever",["jira/ajs/contentretriever/content-retriever","jquery","underscore"],function(ContentRetriever,$,_){return ContentRetriever.extend({init:function(func){this.func=func},content:function(callback){if($.isFunction(callback)){var res=this.func();if(res instanceof $){callback(res)}else{res.done(_.bind(function(content){callback(content)},this))}}},cache:function(){return false}})});AJS.namespace("AJS.DeferredContentRetriever",null,require("jira/ajs/contentretriever/deferred-content-retriever"));;
;
/* module-key = 'jira.webresources:inline-layer', location = '/includes/ajs/layer/InlineLayer.StandardPositioning.js' */
define("jira/ajs/layer/inline-layer/standard-positioning",["jira/lib/class","jquery"],function(Class,jQuery){return Class.extend({init:function(){this.rebuiltCallbacks=[]},left:function(){var offset=this.offset();return{left:offset.left,top:offset.top+this.offsetTarget().outerHeight()}},right:function(){var offset=this.offset();return{left:offset.left-this.layer().outerWidth()+this.offsetTarget().outerWidth(),top:offset.top+this.offsetTarget().outerHeight()}},window:function(){return window},offset:function(){var offset=this.offsetTarget().offset();if(this.offsetTarget().hasFixedParent()){this.layer().css("position","fixed");offset.top=offset.top-jQuery(window).scrollTop()}else{this.layer().css("position","absolute")}return offset},rebuilt:function(arg){var instance=this;if(jQuery.isFunction(arg)){this.rebuiltCallbacks.push(arg)}else{jQuery.each(this.rebuiltCallbacks,function(){this(instance.layer())})}},appendToBody:function(){this.layer().appendTo("body")},appendToPlaceholder:function(){this.layer().appendTo(this.$placeholder)},scrollTo:function(){}})});;
;
/* module-key = 'jira.webresources:inline-layer', location = '/includes/ajs/layer/InlineLayer.WindowPositioning.js' */
define("jira/ajs/layer/inline-layer/window-positioning",["jira/ajs/layer/inline-layer/standard-positioning","jquery"],function(StandardPositioning,jQuery){return StandardPositioning.extend({_calculateOverflow:function(offset){var isFixed=this.layer().css("position")==="fixed",layerBottom=offset.top+this.layer().outerHeight(true),windowHeight=jQuery(window).outerHeight(),windowScroll=jQuery(window).scrollTop();if(isFixed){return Math.max(0,layerBottom-windowHeight)}else{return Math.max(0,layerBottom-windowScroll-windowHeight)}},left:function(){var offset=this._super(),overflow=this._calculateOverflow(offset);if(overflow>0){offset.left+=this.offsetTarget().outerWidth();offset.top-=overflow}return offset},right:function(){var offset=this._super(),overflow=this._calculateOverflow(offset);if(overflow>0){offset.left-=this.offsetTarget().outerWidth();offset.top-=overflow}return offset}})});;
;
/* module-key = 'jira.webresources:inline-layer', location = '/includes/ajs/layer/InlineLayer.IframePositioning.js' */
define("jira/ajs/layer/inline-layer/iframe-positioning",["jira/ajs/layer/inline-layer/standard-positioning","jira/util/navigator","jquery"],function(StandardPositioning,Navigator,jQuery){var IframePositioning=StandardPositioning.extend({offset:function(){var window=IframePositioning.window();var topWindow=IframePositioning.topWindow();var $iframe=jQuery("iframe",topWindow.document.body).filter(function(){return this.getAttribute("name")===window.name});var iframeOffset=$iframe.parent().offset();var offsetInDocument=this._super();var topDocumentScrollTop=this._topDocumentScrollTop();var topDocumentScrollLeft=this._topDocumentScrollLeft();var iframeScrollTop=this._iframeScrollTop();var iframeScrollLeft=this._iframeScrollLeft();var scrollTopModifier=topDocumentScrollTop-iframeScrollTop;var scrollLeftModifier=topDocumentScrollLeft-iframeScrollLeft;return{left:iframeOffset.left+offsetInDocument.left+scrollLeftModifier,top:iframeOffset.top+offsetInDocument.top+scrollTopModifier}},_topDocumentScrollTop:function(){return this.isOffsetIncludingScroll()?0:Math.max(window.top.document.body.scrollTop,window.top.document.documentElement.scrollTop)},_topDocumentScrollLeft:function(){return this.isOffsetIncludingScroll()?0:Math.max(window.top.document.body.scrollLeft,window.top.document.documentElement.scrollLeft)},_iframeScrollTop:function(){return this.isOffsetIncludingScroll()?2*Math.max(window.document.body.scrollTop,window.document.documentElement.scrollTop):0},_iframeScrollLeft:function(){return this.isOffsetIncludingScroll()?2*Math.max(window.document.body.scrollLeft,window.document.documentElement.scrollLeft):0},isOffsetIncludingScroll:function(offsetIncludingScroll){if(typeof this.offsetIncludingScroll==="undefined"){this.offsetIncludingScroll=true}if(typeof offsetIncludingScroll!=="undefined"){this.offsetIncludingScroll=offsetIncludingScroll}return this.offsetIncludingScroll},appendToBody:function(){window.top.jQuery("body").append(this.layer())},window:function(){return window.top},scrollTo:function(){}});if(Navigator.isWebkit()){IframePositioning=IframePositioning.extend({appendToBody:function(){var oldLayer=this.layer();this.layer(this._rebuildLayerInParent());window.top.jQuery("body").append(this.layer());oldLayer.remove();this.rebuilt()},appendToPlaceholder:function(){var oldLayer=this.layer();this.layer(this._rebuildLayerInIframe());this.layer().appendTo(this.placeholder());oldLayer.remove();this.rebuilt()},_rebuildLayerInParent:function(){return window.top.jQuery("<div class='ajs-layer'>"+this.layer().html()+"</div>")},_rebuildLayerInIframe:function(){return jQuery("<div class='ajs-layer'>"+this.layer().html()+"</div>")}})}if(Navigator.isMozilla()){IframePositioning=IframePositioning.extend({appendToPlaceholder:function(){var $oldLayer=this.layer();this.layer($oldLayer.clone(true).appendTo(this.placeholder()));this.rebuilt();window.setTimeout(function(){$oldLayer.remove()},10)}})}IframePositioning.window=function(){return window};IframePositioning.topWindow=function(){return window.top};return IframePositioning});;
;
/* module-key = 'jira.webresources:inline-layer', location = '/includes/ajs/layer/InlineLayer.OptionsDescriptor.js' */
define("jira/ajs/layer/inline-layer/options-descriptor",["jira/ajs/descriptor","jira/ajs/contentretriever/ajax-content-retriever","jira/ajs/contentretriever/deferred-content-retriever","jira/ajs/contentretriever/dom-content-retriever","jira/ajs/layer/inline-layer/iframe-positioning","jira/ajs/layer/inline-layer/window-positioning","jira/ajs/layer/inline-layer/standard-positioning","aui/params","jquery"],function(Descriptor,AjaxContentRetriever,DeferredContentRetriever,DOMContentRetriever,IframePositioning,WindowPositioning,StandardPositioning,params,jQuery){return Descriptor.extend({init:function(properties){this._super(properties);if(!this.contentRetriever()){if(this.ajaxOptions()){this.contentRetriever(new AjaxContentRetriever(this.ajaxOptions()))}else{if(jQuery.isFunction(this.content())){this.contentRetriever(new DeferredContentRetriever(this.content()))}else{if(this.content()){this.contentRetriever(new DOMContentRetriever(this.content()))}else{throw new Error("InlineLayer.OptionsDescriptor: Expected either [ajaxOptions] or [contentRetriever] or [content] to be defined")}}}}if(!this.positioningController()){if(!params.ignoreFrame&&this._inIFrame()){this.positioningController(new IframePositioning())}else{var $body=jQuery("body");var isBodyOverflowHidden=$body.css("overflow")==="hidden"||$body.css("overflowY")==="hidden";if(isBodyOverflowHidden){this.positioningController(new WindowPositioning())}else{this.positioningController(new StandardPositioning())}}}if(!this.offsetTarget()&&this.content() instanceof jQuery){this.offsetTarget(this.content().prev())}},_inIFrame:function(){var parentWindow=window;try{while(parentWindow.parent.window!==parentWindow.window){parentWindow=parentWindow.parent;if(parentWindow.AJS){return true}}}catch(error){}return false},_getDefaultOptions:function(){return{alignment:AJS.INTELLIGENT_GUESS,hideOnScroll:".form-body",cushion:20,width:200}},positioningController:function(positioningController){if(positioningController){this.properties.positioningController=positioningController}else{return this.properties.positioningController}},ajaxOptions:function(ajaxOptions){if(ajaxOptions){this.properties.ajaxOptions=ajaxOptions}else{return this.properties.ajaxOptions}},content:function(content){if(content){content=jQuery(content);if(content.length){this.properties.content=content}}else{if(this.properties.content&&(this.properties.content.length||jQuery.isFunction(this.properties.content))){return this.properties.content}}},contentRetriever:function(contentRetriever){if(contentRetriever){this.properties.contentRetriever=contentRetriever}else{return this.properties.contentRetriever}},offsetTarget:function(offsetTarget){if(offsetTarget){offsetTarget=jQuery(offsetTarget);if(offsetTarget.length){this.properties.offsetTarget=offsetTarget}}else{if(this.properties.offsetTarget&&(this.properties.offsetTarget.length||jQuery.isFunction(this.properties.offsetTarget))){return this.properties.offsetTarget}}},cushion:function(cushion){if(cushion){this.properties.cushion=cushion}else{return this.properties.cushion}},styleClass:function(styleClass){if(styleClass){this.properties.styleClass=styleClass}else{return this.properties.styleClass}},hideOnScroll:function(hideOnScroll){if(hideOnScroll){this.properties.hideOnScroll=hideOnScroll}else{return this.properties.hideOnScroll}},alignment:function(alignment){if(alignment){this.properties.alignment=alignment}else{return this.properties.alignment}},width:function(width){if(width){this.properties.width=width}else{if(jQuery.isFunction(this.properties.width)){return this.properties.width.call(this)}else{return this.properties.width}}},allowDownsize:function(allowDownsize){if(allowDownsize){this.properties.allowDownsize=allowDownsize}else{return this.properties.allowDownsize}},customEvents:function(customEvents){if(customEvents){this.properties.customEvents=customEvents}else{return this.properties.customEvents}}})});;
;
/* module-key = 'jira.webresources:inline-layer', location = '/includes/ajs/layer/InlineLayer.js' */
define("jira/ajs/layer/inline-layer",["jira/ajs/control","jira/ajs/layer/inline-layer/options-descriptor","jira/ajs/contentretriever/content-retriever","jira/util/events","jquery"],function(Control,OptionsDescriptor,ContentRetriever,Event,jQuery){var InlineLayer=Control.extend({CLASS_SIGNATURE:"AJS_InlineLayer",SCROLL_HIDE_EVENT:"scroll.hide-dropdown",init:function(options){var instance=this;if(!(options instanceof OptionsDescriptor)){this.options=new OptionsDescriptor(options)}else{this.options=options}this.offsetTarget(this.options.offsetTarget());this.contentRetriever=this.options.contentRetriever();jQuery.extend(this,this.options.positioningController());if(!(this.contentRetriever instanceof ContentRetriever)){throw new Error("InlineLayer: Failed construction, Content retriever does not implement interface "+"[AJS.ContentRetrieverInterface]")}this.contentRetriever.startingRequest(function(){instance._showLoading()});this.contentRetriever.finishedRequest(function(){instance._hideLoading()});if(this.contentRetriever.failedRequest){this.contentRetriever.failedRequest(function(){instance.onerror()})}this.$layer=this._render("layer",this.options.alignment())},content:function(arg){var instance=this;if(jQuery.isFunction(arg)){this.contentRetriever.content(function(content){instance.$content=content.removeClass("hidden");arg.call(instance)})}else{return this.$content}},offsetTarget:function(){var $offsetTarget=this.options.offsetTarget();if(jQuery.isFunction($offsetTarget)){$offsetTarget=$offsetTarget()}return $offsetTarget},contentChange:function(callback){var instance=this;if(jQuery.isFunction(callback)){if(!this.contentChangeCallback){this.contentChangeCallback=[]}this.contentChangeCallback.push(callback)}else{if(!callback){this.trigger("contentChanged",[this]);this.setWidth(this.options.width());this.setPosition();if(this.contentChangeCallback){jQuery.each(this.contentChangeCallback,function(i,callback){callback(instance)})}}}},onhide:function(callback){var instance=this;if(jQuery.isFunction(callback)){if(!this.hideCallback){this.hideCallback=[]}this.hideCallback.push(callback)}else{if(!callback&&this.hideCallback){jQuery.each(this.hideCallback,function(i,callback){callback(instance)})}}},onerror:function(callback){var instance=this;if(jQuery.isFunction(callback)){if(!this.errorCallback){this.errorCallback=[]}this.errorCallback.push(callback)}else{if(!callback&&this.errorCallback){jQuery.each(this.errorCallback,function(i,callback){callback(instance)})}}},layer:function(layer){if(layer){this.$layer=layer}else{return this.$layer}},placeholder:function(placeholder){if(placeholder){this._throwReadOnlyError("placeholder")}else{return this.$placeholder}},isVisible:function(visible){if(typeof visible!=="undefined"){this._throwReadOnlyError("visible")}return this.visible},scrollableContainer:function(scrollableContainer){if(scrollableContainer){this._throwReadOnlyError("scrollableContainer")}return this.$scrollableContainer},isInitialized:function(initialised){if(initialised){this._throwReadOnlyError("initialized")}return this.initialized},hide:function(reason,e){var event;var target=e&&e.target;if(!this.isVisible()){return false}event=jQuery.Event(InlineLayer.EVENTS.beforeHide);this.trigger(event,[this.layer(),reason,this.options.id,target]);Event.trigger(event,[this.layer(),reason,this.options.id,target]);if(!event.isDefaultPrevented()){this.visible=false;this._makeInactiveAndHideLayer();var positionController=this;setTimeout(function(){positionController.appendToPlaceholder()},0);this.layer().attr("aria-hidden","true");this._unbindEvents();this.onhide();this.trigger("hideLayer",[this]);jQuery(document).trigger("hideLayer",[this.CLASS_SIGNATURE,this]);this.trigger(InlineLayer.EVENTS.hide,[this.layer(),reason,this.options.id]);Event.trigger(InlineLayer.EVENTS.hide,[this.layer(),reason,this.options.id]);InlineLayer.current=null}},_makeInactiveAndHideLayer:function(){this.layer().removeClass(AJS.ACTIVE_CLASS).hide();this.offsetTarget().removeClass(AJS.ACTIVE_CLASS)},refreshContent:function(callback){var instance=this;this.content(function(){if(this.layer().has(this.content()).length===0){this.layer().html(this.content())}if(jQuery.isFunction(callback)){callback.call(instance)}this.contentChange()})},show:function(){var instance=this,event;if(this.isVisible()){return }event=jQuery.Event(InlineLayer.EVENTS.beforeShow);this.trigger(event,[this.layer(),this.options.id]);Event.trigger(event,[this.layer(),this.options.id]);if(!event.isDefaultPrevented()){if(!this.isInitialized()){this._lazyInit(function(){instance._showContent()})}else{if(this.contentRetriever.cache()===false){this.refreshContent(function(){instance._showContent()})}else{instance._showContent()}}}},_showContent:function(){if(this.offsetTarget().is(":visible")){this._show()}else{this._makeInactiveAndHideLayer()}},toggle:function(shouldShow){if(shouldShow==null){shouldShow=!this.isVisible()}if(shouldShow){this.show()}else{this.hide(AJS.HIDE_REASON.toggle)}},setPosition:function(){var positioning,$window=jQuery(window);if(!this.isInitialized()||!this.offsetTarget()||this.offsetTarget().length===0){return }var offsetTargetLeft=this.offsetTarget().offset().left;var layerWidth=this.layer().width();var hasSpaceOnRight=offsetTargetLeft+layerWidth<$window.width()+$window.scrollLeft();var hasSpaceOnLeft=offsetTargetLeft+this.offsetTarget().outerWidth()-layerWidth>$window.scrollLeft();if(this.options.alignment()===AJS.RIGHT){if(hasSpaceOnLeft||!hasSpaceOnRight){positioning=this.right()}else{positioning=this.left()}}else{if(this.options.alignment()===AJS.LEFT){if(hasSpaceOnRight||!hasSpaceOnLeft){positioning=this.left()}else{positioning=this.right()}}else{if(this.options.alignment()===AJS.INTELLIGENT_GUESS){if((offsetTargetLeft+(this.offsetTarget().width()/2))>$window.width()/2){positioning=this.right()}else{positioning=this.left()}}}}this.trigger("setLayerPosition",[positioning,this]);if(this.options.properties.setMaxHeightToWindow||(this.options.properties.setMaxHeightToWindow!==false&&jQuery(".aui-blanket").is(":visible"))){var scrollLeft=$window.scrollLeft();if(scrollLeft>0){positioning.left-=scrollLeft}var $fixedParents=this.fixedParent();var scrollTop;if($fixedParents.size()){scrollTop=0}else{scrollTop=$window.scrollTop()}positioning.maxHeight=$window.height()-positioning.top+scrollTop-this.options.cushion()}positioning.minHeight=this.options.properties.minHeight;this.layer().css(positioning)},setOverflowAndHeight:function(){if(this.options.properties.maxInlineResultsDisplayed){this.layer().addClass("limited")}},fixedParent:function(){return this.offsetTarget().parents().filter(function(){return jQuery(this).css("position")==="fixed"})},setWidth:function(width){this.layer().width(width)},_lazyInit:function(callback){if(this.initializing){return }this.initializing=true;this.refreshContent(function(){var instance=this;this.initializing=false;this.initialized=true;this.layer().insertAfter(this.offsetTarget());if(this._supportsBoxShadow()){this.layer().addClass(AJS.BOX_SHADOW_CLASS)}this.$placeholder=jQuery("<div class='ajs-layer-placeholder' />").insertAfter(this.offsetTarget());this.$scrollableContainer=this.offsetTarget().closest(this.options.hideOnScroll());this.rebuilt(function(layer){instance.layer(layer)});callback()})},_show:function(){if(InlineLayer.current){InlineLayer.current.hide()}this.visible=true;this.content().show();this.appendToBody();this.layer().addClass(AJS.ACTIVE_CLASS);this.offsetTarget().addClass(AJS.ACTIVE_CLASS);this.layer().show();this.layer().attr("aria-hidden","false");this.setWidth(this.options.width());this.setPosition();this.setOverflowAndHeight();this._bindEvents();if(!AJS.dim.dim){this.scrollTo()}InlineLayer.current=this;this.trigger("showLayer",[this]);jQuery(document).trigger("showLayer",[this.CLASS_SIGNATURE,this]);this.trigger(InlineLayer.EVENTS.show,[this.layer(),this.options.id]);Event.trigger(InlineLayer.EVENTS.show,[this.layer(),this.options.id])},_hideLoading:function(){this.$layer.removeClass(AJS.LOADING_CLASS);this.offsetTarget().removeClass(AJS.LOADING_CLASS)},_showLoading:function(){this.$layer.addClass(AJS.LOADING_CLASS);this.offsetTarget().addClass(AJS.LOADING_CLASS)},_unbindEvents:function(){this.$scrollableContainer.unbind(this.SCROLL_HIDE_EVENT);this._unassignCustomEvents();this._unassignEvents("container",document);this._unassignEvents("win",window)},_bindEvents:function(){var instance=this;this.$scrollableContainer.one(this.SCROLL_HIDE_EVENT,function(){instance.hide()});this._assignCustomEvents();this._assignEvents("container",document);this._assignEvents("win",window)},_assignCustomEvents:function(){var customEvents=this.options.customEvents();if(!customEvents){return }this._unassignCustomEvents();for(var target in customEvents){for(var eventType in customEvents[target]){jQuery(target).on(eventType,this._getCustomEventsDispatcher(target,eventType,customEvents))}}},_unassignCustomEvents:function(){var customEvents=this.options.customEvents();if(!customEvents){return }for(var target in customEvents){for(var eventType in customEvents[target]){jQuery(target).off(eventType,this._getCustomEventsDispatcher(target,eventType,customEvents))}}},_getCustomEventsDispatcher:function(target,eventType,events){var group="custom";var ns=group+"/"+target+"/"+eventType;if(!this._dispatchers){this._dispatchers={}}if(!this._dispatchers[ns]){var instance=this;var handler=events[target][eventType];this._dispatchers[ns]=function(event){return handler.call(instance,event,jQuery(this))}}return this._dispatchers[ns]},_validateClickToClose:function(e){if(e.target===this.offsetTarget()[0]){return false}else{if(e.target===this.layer()[0]){return false}else{if(this.offsetTarget().has(e.target).length>0){return false}else{if(this.layer().has(e.target).length>0){return false}}}}return true},"keys":{Esc:function(e){this.hide(AJS.HIDE_REASON.escPressed,e)}},_events:{container:{"aui:keydown":function(event){this._handleKeyEvent(event)},click:function(e){if(this._validateClickToClose(e)){this.hide(AJS.HIDE_REASON.clickOutside,e)}}},win:{resize:function(){this.setPosition()},scroll:function(){this.setPosition()}}},_renders:{layer:function(){return jQuery("<div />").addClass("ajs-layer "+(this.options.styleClass()||""))}}});InlineLayer.EVENTS={beforeHide:"InlineLayer.beforeHide",hide:"InlineLayer.hide",beforeShow:"InlineLayer.beforeShow",show:"InlineLayer.show"};return InlineLayer});;
;
/* module-key = 'jira.webresources:inline-layer', location = '/includes/ajs/layer/InlineLayer.create.js' */
define("jira/ajs/layer/inline-layer-factory",["jira/ajs/layer/inline-layer","jira/util/objects","jquery","exports"],function(InlineLayer,Objects,jQuery,exports){exports.createInlineLayers=function(options){var inlineLayers=[];if(options.content){options.content=jQuery(options.content);jQuery.each(options.content,function(){var instanceOptions=Objects.copyObject(options);instanceOptions.content=jQuery(this);inlineLayers.push(new InlineLayer(instanceOptions))})}if(inlineLayers.length===1){return inlineLayers[0]}else{return inlineLayers}}});;
;
/* module-key = 'jira.webresources:inline-layer', location = '/includes/ajs/layer/initInlineLayer.js' */
AJS.namespace("AJS.InlineLayer",null,require("jira/ajs/layer/inline-layer"));AJS.namespace("AJS.InlineLayer.create",null,require("jira/ajs/layer/inline-layer-factory").createInlineLayers);AJS.namespace("AJS.InlineLayer.OptionsDescriptor",null,require("jira/ajs/layer/inline-layer/options-descriptor"));AJS.namespace("AJS.InlineLayer.StandardPositioning",null,require("jira/ajs/layer/inline-layer/standard-positioning"));AJS.namespace("AJS.InlineLayer.WindowPositioning",null,require("jira/ajs/layer/inline-layer/window-positioning"));AJS.namespace("AJS.InlineLayer.IframePositioning",null,require("jira/ajs/layer/inline-layer/iframe-positioning"));JIRA.bind(AJS.InlineLayer.EVENTS.beforeHide,function(e){if(typeof Calendar!=="undefined"&&Calendar.current){e.preventDefault()}});;
;
/* module-key = 'jira.webresources:list', location = '/includes/ajs/group/Group.js' */
define("jira/ajs/group",["jira/ajs/control","jquery"],function(Control,$){return Control.extend({init:function(){this.items=[];this.index=-1;this._assignEvents("instance",this)},addItem:function(item){this.items.push(item);this._assignEvents("item",item)},_removeItem:function(item){var index=$.inArray(item,this.items);if(index<0){throw new Error("Group: item ["+item+"] is not a member of this group")}item.trigger("blur");if(index<this.index){this.index--}this.items.splice(index,1);this._unassignEvents("item",item)},removeItem:function(item){item.trigger("remove")},removeAllItems:function(){while(this.items.length){this.items[0].trigger("remove")}},shiftFocus:function(offset){if(this.index===-1&&offset===1){offset=0}if(this.items.length>0){var i=(Math.max(0,this.index)+this.items.length+offset)%this.items.length;this.items[i].trigger("focus")}},prepareForInput:function(){this._assignEvents("keys",document)},_events:{"instance":{"focus":function(){if(this.items.length===0){return }if(this.index<0){this.items[0].trigger("focus")}else{this._assignEvents("keys",document)}},"blur":function(){if(this.index>=0){this.items[this.index].trigger("blur")}else{this._unassignEvents("keys",document)}}},"keys":{"aui:keydown":function(event){this._handleKeyEvent(event)}},"item":{"focus":function(event){var index=this.index;this.index=$.inArray(event.target,this.items);if(index<0){this.trigger("focus")}else{if(index!==this.index){this.items[index].trigger("blur")}}},"blur":function(event){if(this.index===$.inArray(event.target,this.items)){this.index=-1;this.trigger("blur")}},"remove":function(event){this._removeItem(event.target)}}},keys:{}})});AJS.namespace("AJS.Group",null,require("jira/ajs/group"));;
;
/* module-key = 'jira.webresources:list', location = '/includes/ajs/list/ItemDescriptor.js' */
define("jira/ajs/list/item-descriptor",["jira/ajs/descriptor","jquery"],function(Descriptor,jQuery){return Descriptor.extend({init:function(options){if(options&&typeof options.meta==="object"){options.meta=JSON.stringify(options.meta)}this._super(options)},REQUIRED_PROPERTIES:{label:true},_getDefaultOptions:function(){return{showLabel:true}},styleClass:function(){return this.properties.styleClass},meta:function(){if(this.properties.meta){return JSON.parse(this.properties.meta)}},value:function(){return this.properties.value},invalid:function(){return this.properties.invalid},labelSuffix:function(value){if(typeof value!=="undefined"){this.properties.labelSuffix=value}return this.properties.labelSuffix},title:function(){return this.properties.title},label:function(){return this.properties.label},disabled:function(disabled){if(disabled){this.properties.disabled=disabled}else{return this.properties.disabled}},allowDuplicate:function(){return this.properties.allowDuplicate},removeOnUnSelect:function(value){if(typeof value!=="undefined"){this.properties.removeOnUnSelect=value}return this.properties.removeOnUnSelect},icon:function(){return this.properties.icon},fallbackIcon:function(){return this.properties.fallbackIcon},selected:function(value){if(typeof value!=="undefined"){this.properties.selected=value}return this.properties.selected},model:function($model){if($model){this.properties.model=$model}else{return this.properties.model}},keywords:function(){return this.properties.keywords},href:function(){return this.properties.href},highlighted:function(value){if(value===false){if(this.properties.html){this.properties.label=jQuery("<div>"+this.properties.html+"</div>").text();this.properties.html=null}this.properties.highlighted=false}return this.properties.highlighted&&this.properties.html},html:function(){return this.properties.html},fieldText:function(){return this.properties.fieldText},noExactMatch:function(){return this.properties.noExactMatch}})});AJS.namespace("AJS.ItemDescriptor",null,require("jira/ajs/list/item-descriptor"));;
;
/* module-key = 'jira.webresources:list', location = '/includes/ajs/list/MessageDescriptor.js' */
define("jira/ajs/list/message-descriptor",["jira/ajs/list/item-descriptor","jquery"],function(ItemDescriptor,$){return ItemDescriptor.extend({useAUI:function(){return this.properties.useAUI},messageID:function(){return this.properties.messageID},_getDefaultOptions:function(){return $.extend(this._super(),{useAUI:true})}})});AJS.namespace("AJS.MessageDescriptor",null,require("jira/ajs/list/message-descriptor"));;
;
/* module-key = 'jira.webresources:list', location = '/includes/ajs/list/GroupDescriptor.js' */
define("jira/ajs/list/group-descriptor",["jira/ajs/descriptor","jira/ajs/list/item-descriptor"],function(Descriptor,ItemDescriptor){return Descriptor.extend({_getDefaultOptions:function(){return{showLabel:true,label:"",items:[]}},placement:function(){return this.properties.placement},styleClass:function(){return this.properties.styleClass},weight:function(){return this.properties.weight},label:function(){return this.properties.label},footerText:function(footerText){if(footerText){this.properties.footerText=footerText}else{return this.properties.footerText}},footerHtml:function(footerHtml){if(footerHtml){this.properties.footerHtml=footerHtml}else{return this.properties.footerHtml}},actionBarHtml:function(actionBarHtml){if(actionBarHtml){this.properties.actionBarHtml=actionBarHtml}return this.properties.actionBarHtml},showLabel:function(){return this.properties.showLabel},items:function(items){if(items){this.properties.items=items;return this}else{return this.properties.items}},addItem:function(item){this.properties.items.push(item);return this},id:function(){return this.properties.id},setModel:function($model){this.properties.model=$model},replace:function(){return this.properties.replace},uniqueItemScope:function(){return this.properties.uniqueItemScope},description:function(){return this.properties.description},model:function($model){if($model){this.properties.model=$model}else{return this.properties.model}}})});AJS.namespace("AJS.GroupDescriptor",null,require("jira/ajs/list/group-descriptor"));;
;
/* module-key = 'jira.webresources:list', location = '/includes/ajs/list/ItemDescriptorFactory.js' */
define("jira/ajs/list/item-descriptor-factory",["jira/ajs/list/item-descriptor","jira/ajs/list/message-descriptor"],function(ItemDescriptor,MessageDescriptor){function createItemDescriptor(suggestion,groupIndex){if(suggestion.isMessage){return createMessageDescriptor(suggestion,groupIndex)}else{return new ItemDescriptor({label:suggestion.label,styleClass:suggestion.styleClass,value:suggestion.value,keywords:suggestion.keywords,meta:{groupIndex:groupIndex}})}}function createMessageDescriptor(suggestion,groupIndex){return new MessageDescriptor({label:suggestion.label,styleClass:suggestion.styleClass,useAUI:suggestion.useAUI,messageID:suggestion.messageID,value:suggestion.value,keywords:suggestion.keywords,meta:{groupIndex:groupIndex}})}return{createItemDescriptor:createItemDescriptor,createMessageDescriptor:createMessageDescriptor}});(function(Factory){AJS.namespace("AJS.ItemDescriptor.create",null,Factory.createItemDescriptor);AJS.namespace("AJS.MessageDescriptor.create",null,Factory.createMessageDescriptor)})(require("jira/ajs/list/item-descriptor-factory"));;
;
/* module-key = 'jira.webresources:list', location = '/includes/ajs/list/List.js' */
define("jira/ajs/list/list",["jira/ajs/control","jira/ajs/list/group-descriptor","jira/ajs/list/item-descriptor","jira/ajs/input/mouse","jira/util/assistive","jira/util/browser","jquery","underscore"],function(Control,GroupDescriptor,ItemDescriptor,Mouse,Assistive,Browser,jQuery,_){function buildElementId(id){return id.trim().toLowerCase().replace(/[\s\.]+/g,"-")}var globalItemId=0;return Control.extend({MAX_RESULT_LIMIT:2000,init:function(options){options=options||{};if(options){this.options=jQuery.extend(true,this._getDefaultOptions(options),options)}else{this.options=this._getDefaultOptions(options)}this.maxInlineResultsDisplayed=this.options.maxInlineResultsDisplayed||this.MAX_RESULT_LIMIT;this._renders=jQuery.extend({},this._renders,this.options.renderers);this.disabled=true;this.reset();var instance=this;if(this.options.selectionHandler){this.$container.delegate(this.options.itemSelector,this.options.selectionEvent,function(e){instance.options.selectionHandler.call(instance,e)})}this.motionDetector.wait();this.$container.delegate(this.options.itemSelector,"mousemove",function(){if(!instance.disabled&&(instance.motionDetector.moved||Browser.isSelenium())){instance.index=jQuery.inArray(this,instance.$visibleItems);instance.focus(true)}})},_getDefaultOptions:function(){return{selectionEvent:"click",delegateTarget:document,matchingStrategy:"(^|.*?(\\s+|\\())({0})(.*)",itemSelector:"li.aui-list-item",hasLinks:true,stallEventBind:true,expandAllResults:false,suggestionRole:"option"}},index:0,moveToFirst:function(){if(this.$visibleItems.length>0){this.index=0;this.focus()}},moveToNext:function(){if(this.index<this.maxIndex){++this.index;this.focus()}else{if(this.options.expandAllResults&&this.hasTooManySuggestions){this._expandAllResults();++this.index;this.focus()}else{if(this.$visibleItems.length>1){this.index=0;this.focus()}}}},container:function(container){if(container){this.$container=jQuery(container);this.containerSelector=container}else{return this.$container}},getItemsByDescriptor:function(descriptorToMatch){var $matches=jQuery();this.$container.find(this.options.itemSelector).each(function(){var descriptor=jQuery.data(this,"descriptor");if(descriptor&&descriptor.value()===descriptorToMatch.value()){$matches=$matches.add(this)}});return $matches},scrollContainer:function(){return(this.options.scrollContainer)?this.$container.find(this.options.scrollContainer):this.$container.parent()},_isScrollConstrained:function(){var scrollContainer=this.scrollContainer()[0];return scrollContainer.clientHeight<scrollContainer.scrollHeight},moveToPrevious:function(){if(this.index>0){--this.index;this.focus()}else{if(this.$visibleItems.length>0){this.index=this.$visibleItems.length-1;this.focus()}}},scrollActiveItemIntoView:function(){var $activeItem=this.$visibleItems.filter(".active");var $scrollContainer=this.scrollContainer();var scrollTop=$scrollContainer.scrollTop();if($activeItem.length===0){return }if(!this._isScrollConstrained()){$activeItem.scrollIntoView({callback:jQuery.proxy(this.motionDetector,"wait")});return }if($activeItem.closest($scrollContainer).length===0){return }if($activeItem.is($scrollContainer.find(this.items).first())){this._scrollContainerTo(0);return }var roomAbove=$activeItem.offset().top-$scrollContainer.offset().top;var roomBelow=$scrollContainer.outerHeight()-$activeItem.outerHeight()-roomAbove;if(roomAbove>=0){if(roomBelow<0){this._scrollContainerTo(scrollTop-roomBelow)}}else{this._scrollContainerTo(scrollTop+roomAbove)}},_scrollContainerTo:function(scrollTop){var $scrollContainer=this.scrollContainer();if($scrollContainer.scrollTop()!==scrollTop){this.motionDetector.unbind();this.motionDetector.wait();$scrollContainer.scrollTop(scrollTop)}},focus:function(noScroll){this.$visibleItems.removeClass("active");var $target=this.$visibleItems.eq(this.index);$target.addClass("active");this.lastFocusedItemDescriptor=$target.data("descriptor");this.trigger("itemFocus",$target,this.lastFocusedItemDescriptor);if(!noScroll){this.scrollActiveItemIntoView()}},motionDetector:new Mouse.MotionDetector(),disable:function(){if(this.disabled){return }this._unassignEvents("delegateTarget",this.options.delegateTarget);this.disabled=true;this.lastFocusedItemDescriptor=null},enable:function(){var instance=this;if(!instance.disabled){return }if(this.options.stallEventBind){window.setTimeout(function(){instance._assignEvents("delegateTarget",instance.options.delegateTarget)},0)}else{instance._assignEvents("delegateTarget",instance.options.delegateTarget)}instance.disabled=false;this._scrollContainerTo(0)},getFocused:function(){return this.$visibleItems.filter(".active")},reset:function(index){this.$container=jQuery(this.options.containerSelector);this.items=jQuery(this.options.itemSelector,this.$container).not(".no-suggestions");this.$visibleItems=this._computeVisibleItems();this.groups=jQuery(this.options.groupSelector,this.$container);this.maxIndex=this.$visibleItems.length-1;this.index=this.$visibleItems[index]?index:0;this.focus(true)},_computeVisibleItems:function(){return this.items.not(".hidden, .disabled")},selectValue:function(value){var matchedItem=this.$container.find(this.options.itemSelector).filter(function(){return jQuery(this).parent().data("descriptor").value()==value});if(!matchedItem.length){AJS.log("WARN: No List item found with Decriptor value '"+value+"'")}matchedItem.click()},_getLinkFromItem:function(item){var link;item=jQuery(item);if(item.is("a")){link=item}else{link=item.find("a")}return link},_makeResultDiv:function(data,query){var $fixedContainer=jQuery('<div class="aui-list-fixed" role="presentation">'),$resultsContainer=jQuery('<div class="aui-list-scroll" tabindex="-1" role="presentation">'),instance=this,ungrouped=[];function appendUngrouped(){if(ungrouped.length>0){$resultsContainer.append(instance._generateUngroupedOptions(ungrouped,query));ungrouped=[]}}jQuery.each(data,function(i,descriptor){var $container,$optgroup;if(descriptor instanceof GroupDescriptor){appendUngrouped();$container=(descriptor.placement()==="fixed")?$fixedContainer:$resultsContainer;$optgroup=instance._generateOptGroup(descriptor,query);$container.append($optgroup)}else{if(descriptor instanceof ItemDescriptor){ungrouped.push(descriptor)}}});appendUngrouped();if($fixedContainer.children().length===0){return $resultsContainer}return $fixedContainer.add($resultsContainer)},_addResultToContainer:function($result){if($result.not(".aui-list-fixed").find(this.options.itemSelector).length===0){var $scrollContainer=this.$container.find(".aui-list-scroll");if($scrollContainer.length===0){$scrollContainer=jQuery('<div class="aui-list-scroll" tabindex="-1" role="presentation">').appendTo(this.$container)}var $noSuggestions=this._render("noSuggestion");Assistive.readText($noSuggestions.text());$scrollContainer.html($noSuggestions)}else{$result.find("ul:last").addClass("aui-last");this.$container.html($result)}},generateListFromJSON:function(data,query,forceAllResults){this.suggestions=0;this.exactMatchIndex=-1;this.lastFocusedIndex=-1;this.lastQuery=query;this.lastData=data;this.forceAllResults=forceAllResults;this.hasTooManySuggestions=false;var $result=this._makeResultDiv(data,query);this.$container.hide();this._addResultToContainer($result,query);this.$container.show();var indexToHighlight=this.exactMatchIndex>=0?this.exactMatchIndex:this.lastFocusedIndex;this.reset(indexToHighlight)},appendToGroupDescriptor:function(groupId,data){var group=_.find(this.lastData,function(suggestion){return suggestion.id()===groupId});_.forEach(data,function(item){group.addItem(item)})},_generateOption:function(item,query,labelRegex){var replacementText;if(!item.highlighted()&&labelRegex&&labelRegex.test(item.label())){replacementText=item.label().replace(labelRegex,function(_,prefix,spaceOrParenthesis,match,suffix){var div=jQuery("<div>");prefix&&div.append(jQuery("<span>").text(prefix));div.append(jQuery("<em>").text(match));suffix&&div.append(jQuery("<span>").text(suffix));return div.html()})}if(this.exactMatchIndex<0){var itemValue=jQuery.trim(item.label()).toLowerCase();if(!item.noExactMatch()&&itemValue===jQuery.trim(query).toLowerCase()){this.exactMatchIndex=this.suggestions}else{if(this.lastFocusedIndex<0&&this.lastFocusedItemDescriptor&&itemValue===jQuery.trim(this.lastFocusedItemDescriptor.label()).toLowerCase()){this.lastFocusedIndex=this.suggestions}}}this.suggestions++;return this._render("suggestion",item,replacementText)},_filterOptions:function(options,regexEscapedQuery,labelRegex){if(!regexEscapedQuery){return options}var filtered=[],keywordsRegex=new RegExp(AJS.format(".*{0}.*",regexEscapedQuery),"i");for(var i=0,len=options.length;i<len;i++){var item=this._filterOption(options[i],keywordsRegex,labelRegex);if(item){filtered.push(item)}}return filtered},_filterOption:function(item,keywordsRegex,labelRegex){var result;if(item.highlighted()){result=item}else{if(labelRegex.test(item.label())){result=item}else{if(item.keywords()){var matchedKeywords=[];var keywordString=""+item.keywords(),keywords=keywordString.split(",");for(var j=0;j<keywords.length;j++){var keyword=keywords[j];if(keywordsRegex.test(keyword)){matchedKeywords.push(keyword)}}if(matchedKeywords.length){item.labelSuffix(" "+matchedKeywords.join(", "));result=item}}}}return result},_addOptionsToContainer:function(options,$container,query,labelRegex){var instance=this,maxResult=this.maxInlineResultsDisplayed,hasSuggestion=false,forceAllResults=this.forceAllResults,suggestions=[];for(var i=0,len=options.length;i<len;i++){var option=options[i];if(i<maxResult||forceAllResults){var $suggestion=instance._generateOption(option,query,labelRegex);if($suggestion){hasSuggestion=true;suggestions.push($suggestion[0])}}else{this.hasTooManySuggestions=true;var $tooMany=instance._render("tooManySuggestions",options.length-i);Assistive.readText($tooMany.text());suggestions.push($tooMany[0]);break}}$container.html(jQuery(suggestions));return hasSuggestion},_filterAndAddOptions:function(options,container,query){var regexEscapedQuery,labelRegex;if(query){regexEscapedQuery=RegExp.escape(query);labelRegex=new RegExp(AJS.format(this.options.matchingStrategy,regexEscapedQuery),"i");options=this._filterOptions(options,regexEscapedQuery,labelRegex)}if(this.options.maxResultsDisplayedPerGroup){options=options.slice(0,this.options.maxResultsDisplayedPerGroup)}return this._addOptionsToContainer(options,container,query,labelRegex)},_generateUngroupedOptions:function(options,query){var $container=this._render("ungroupedSuggestions");var optionsAdded=this._filterAndAddOptions(options,$container,query);if(optionsAdded){return $container}},_generateOptGroup:function(groupDescriptor,query){var res=jQuery(),optContainer=this._render("suggestionGroup",groupDescriptor),options=groupDescriptor.items(),optionsAdded;optionsAdded=this._filterAndAddOptions(options,optContainer,query);if(!optionsAdded){return }if(groupDescriptor.label()&&groupDescriptor.showLabel()!==false){res=res.add(this._render("suggestionGroupHeading",groupDescriptor))}if(groupDescriptor.footerText()){optContainer.append(this._render("suggestionsGroupFooter",groupDescriptor.footerText()))}else{if(groupDescriptor.footerHtml()){optContainer.append(groupDescriptor.footerHtml())}}if(groupDescriptor.actionBarHtml()){optContainer.prepend(groupDescriptor.actionBarHtml())}res=res.add(optContainer);return res},_expandAllResults:function(){this.generateListFromJSON(this.lastData,this.lastQuery,true)},_events:{delegateTarget:{"aui:keydown":function(event){this._handleKeyEvent(event)}}},_renders:{suggestion:function(descriptor,replacementText){globalItemId+=1;var idSuffix=descriptor.fieldText()||descriptor.label();var itemId=AJS.escapeHtml(buildElementId(idSuffix)),listElem=jQuery('<li class="aui-list-item aui-list-item-li-'+itemId+'" role="'+this.options.suggestionRole+'" id="'+itemId+"-"+globalItemId+'"><a class="aui-list-item-link" role="presentation" /></li>'),linkElem=listElem.children();if(descriptor.selected()){listElem.addClass("aui-checked")}if(this.options.hasLinks){linkElem.attr("href",descriptor.href()||"#")}if(descriptor.styleClass()){linkElem.addClass(descriptor.styleClass())}if(replacementText){linkElem.html(replacementText)}else{if(descriptor.html()){linkElem.html(descriptor.html())}else{linkElem.text(descriptor.label())}}if(descriptor.labelSuffix()){var suffixSpan=jQuery("<span class='aui-item-suffix' />").text(descriptor.labelSuffix());linkElem.append(suffixSpan)}if(descriptor.icon()&&descriptor.icon()!=="none"){var icon=jQuery('<img class="icon"  alt="" />');icon.attr("src",descriptor.icon());linkElem.addClass("aui-iconised-link").prepend(icon)}if(descriptor.title()){linkElem.prop("title",descriptor.title())}listElem.data("descriptor",descriptor);return listElem},noSuggestion:function(){return jQuery('<li class="no-suggestions">'+"No Matches"+"</li>")},tooManySuggestions:function(suggestionCount){if(this.options.expandAllResults){var instance=this;var $button=jQuery(["<button type='button' class='aui-button aui-button-link view-all'>",AJS.format("View all ({0} more)",suggestionCount),"</button>"].join(""));var $li=jQuery('<li class="no-suggestions"></li>').append($button);$button.click(function(ev){instance._expandAllResults();ev.stopPropagation()});$button=null;return $li}else{return jQuery('<li class="no-suggestions">'+AJS.format("{0} more options. Continue typing to refine further.",suggestionCount)+"</li>")}},ungroupedSuggestions:function(){return jQuery("<ul>")},suggestionGroup:function(descriptor){return jQuery("<ul/>").attr({"id":buildElementId(descriptor.label()),"class":"aui-list-section","aria-label":descriptor.label()}).addClass(descriptor.styleClass()).data("descriptor",descriptor)},suggestionGroupHeading:function(descriptor){var elem=jQuery("<h5 />").text(descriptor.label()).addClass(descriptor.styleClass()).data("descriptor",descriptor);if(descriptor.description()){jQuery("<span class='aui-section-description' />").text(" ("+descriptor.description()+")").appendTo(elem)}return elem},suggestionsGroupFooter:function(text){return jQuery("<li class='aui-list-section-footer' />").text(text)}},_acceptSuggestion:function(item){if(!item instanceof jQuery){item=jQuery(item)}var linkNode=this._getLinkFromItem(item);if(linkNode.length){var event=new jQuery.Event("click");linkNode.trigger(event,[linkNode]);if(!event.isDefaultPrevented()){window.location.href=linkNode.attr("href")}}},getAllItems:function(){return this.$container.find(this.options.itemSelector)},_acceptUserInput:function($field){$field.triggerHandler("blur")},_handleSectionByKeyboard:function(e){var $focusedItem=this.getFocused();var $field=jQuery(e.target);if($focusedItem.length===0){return }if(this._latestQuery&&jQuery.trim($field.val())!==this._latestQuery){var inputWords=$field.val().toLowerCase().match(/\S+/g);if(inputWords){var html=this.lastFocusedItemDescriptor&&this.lastFocusedItemDescriptor.html();var $item=html?jQuery("<div>").html(html):$focusedItem;var matches=[];$item.find("em,b").each(function(){var $match=jQuery(this),nextText=jQuery($match.attr("nextSibling")).text().toLowerCase().match(/^\S*/)[0];jQuery.each($match.text().toLowerCase().match(/\S+/g),function(i,match){matches.push(match+nextText)})});for(var i=0;i<inputWords.length;i++){var word=inputWords[i];var n=word.length;var hasMatch=false;for(var j=0;j<matches.length;j++){if(matches[j].slice(0,n)===word){hasMatch=true;break}}if(!hasMatch){this._acceptUserInput($field);return }}}}this.scrollActiveItemIntoView();if(this.options.selectionHandler&&!this.options.selectionHandler.call(this,e)){return }this._acceptSuggestion($focusedItem)},_isValidInput:function(){return !this.disabled&&this.$container.is(":visible")},keys:{"Down":function(event){this.moveToNext();event.preventDefault()},"Up":function(event){this.moveToPrevious();event.preventDefault()},"Return":function(event){this._handleSectionByKeyboard(event);event.preventDefault()}},_buildElementId:buildElementId})});AJS.namespace("AJS.List",null,require("jira/ajs/list/list"));;
;
/* module-key = 'jira.webresources:list', location = '/includes/ajs/list/PageableList.js' */
define("jira/ajs/list/pageable-list",["jira/ajs/list/list","jira/ajs/list/group-descriptor","underscore"],function(List,GroupDescriptor,_){return List.extend({init:function(options){var defaults={pageSize:50,pagingThreshold:100};options=jQuery.extend(true,defaults,options);this._super(options);this.pageSize=this.options.pageSize},generateListFromJSON:function(data,query,forceAllResults){var filteredData=[],suggestionsCount=0,regexEscapedQuery,labelRegex;this.pageNumber=this.pageNumber||1;if(query!==this.lastQuery){this.pageNumber=1}if(query){regexEscapedQuery=RegExp.escape(query);labelRegex=new RegExp(AJS.format(this.options.matchingStrategy,regexEscapedQuery),"i");for(var i=0;i<data.length;i++){filteredData.push(new GroupDescriptor(_.omit(data[i].allProperties(),"items")));filteredData[i].items(this._filterOptions(data[i].items(),regexEscapedQuery,labelRegex));suggestionsCount+=filteredData[i].items().length}}else{filteredData=data;for(var i=0;i<data.length;i++){suggestionsCount+=data[i].items().length}}if(suggestionsCount<this.options.pagingThreshold){forceAllResults=true}this._super(filteredData,query,forceAllResults)},_filterAndAddOptions:function(options,container,query){var labelRegex;if(query){labelRegex=new RegExp(AJS.format(this.options.matchingStrategy,RegExp.escape(query)),"i")}return this._addOptionsToContainer(options,container,query,labelRegex)},_addOptionsToContainer:function(options,$container,query,labelRegex){var hasSuggestion=false,suggestions=[],shouldBeVisible=this.pageNumber*this.pageSize;for(var i=0,len=options.length;i<len;i++){var option=options[i];if(this.forceAllResults||this.suggestions<shouldBeVisible){var $suggestion=this._generateOption(option,query,labelRegex);if($suggestion){hasSuggestion=true;suggestions.push($suggestion[0])}}}if($container.children().length){$container.find(".aui-list-item:last").after(jQuery(suggestions))}else{$container.html(jQuery(suggestions))}return hasSuggestion},addNextPage:function(){var displayed=this.suggestions,group,$groupContainer,$resultContainer;this.pageNumber++;for(var i=0;i<this.lastData.length;i++){group=this.lastData[i];if(group.items().length>displayed){$groupContainer=this.$container.find("#"+this._buildElementId(group.label()));if($groupContainer.length===0){$groupContainer=this._generateOptGroup(group,this.lastQuery);$resultContainer=group.placement()==="fixed"?this.$container.find(".aui-list-fixed"):this.$container.find(".aui-list-scroll");$resultContainer.append($groupContainer)}else{this._filterAndAddOptions(group.items().slice(displayed),$groupContainer,this.lastQuery)}}displayed=displayed-group.items().length}this.reset(this.index);return this.suggestions},disable:function(){this._super();this.pageNumber=1},showPageRenderError:function(){this.$container.find(".aui-last").append(this._render("errorRenderingPage"))},_renders:{errorRenderingPage:function(){return jQuery("<li class='no-suggestions'>"+"Error rendering next page of results. Close dropdown and try again."+"</li>")}},isDisplayedAllItems:function(){var currentDisplayedItems=_.reduce(this.lastData,function(memo,group){return memo+group.items().length},0);return currentDisplayedItems===this.suggestions}})});;
;
/* module-key = 'jira.webresources:list', location = '/includes/ajs/list/ListWithMessages.js' */
define("jira/ajs/list/list-with-messages",["jira/ajs/list/list","jira/ajs/list/message-descriptor","jquery"],function(List,MessageDescriptor,$){var ListWithMessages=List.extend({_filterOption:function(item,keywordsRegex,labelRegex){if(item instanceof MessageDescriptor){return item}else{return this._super(item,keywordsRegex,labelRegex)}},_computeVisibleItems:function(){return this.items.not(".hidden, .disabled, .nofocus")},_generateOption:function(item,query,labelRegex){if(item instanceof MessageDescriptor){return this._render((item.useAUI()?"AUImessage":"message"),item)}else{return this._super(item,query,labelRegex)}}});ListWithMessages.prototype._renders.message=function(descriptor){var rawItemId=descriptor.messageID()||descriptor.fieldText()||descriptor.label(),itemId=AJS.escapeHtml($.trim(rawItemId).toLowerCase()).replace(/[\s\.]+/g,"-"),listElem=$('<li class="aui-list-item nofocus aui-list-item-li-'+itemId+'">'),messageElem=$('<span class="aui-list-item-message" />');if(descriptor.styleClass()){messageElem.addClass(descriptor.styleClass())}messageElem.text(descriptor.label());listElem.append(messageElem).data("descriptor",descriptor);return listElem};ListWithMessages.prototype._renders.AUImessage=function(descriptor){var rawItemId=descriptor.messageID()||descriptor.fieldText()||descriptor.label(),itemId=AJS.escapeHtml($.trim(rawItemId).toLowerCase()).replace(/[\s\.]+/g,"-"),listElem=$('<li class="aui-list-item nofocus aui-list-item-li-'+itemId+'">'),messageElem=$('<div class="aui-list-item-aui-message aui-message" />'),iconElem=$('<span class="aui-icon"/>'),contentElem=$("<p />");if(descriptor.styleClass()){messageElem.addClass(descriptor.styleClass());iconElem.addClass("icon-"+descriptor.styleClass())}else{iconElem.addClass("icon-generic")}contentElem.text(descriptor.label());messageElem.append(iconElem).append(contentElem);listElem.append(messageElem).data("descriptor",descriptor);return listElem};return ListWithMessages});AJS.namespace("AJS.ListWithMessages",null,require("jira/ajs/list/list-with-messages"));;
;
/* module-key = 'jira.webresources:dropdown', location = '/includes/ajs/dropdown/Dropdown.constants.js' */
define("jira/ajs/dropdown/dropdown-constants",{TRIGGER_SELECTOR:".aui-dropdown-trigger",CONTENT_SELECTOR:".aui-dropdown-content"});;
;
/* module-key = 'jira.webresources:dropdown', location = '/includes/ajs/dropdown/Dropdown.ListItem.js' */
define("jira/ajs/dropdown/dropdown-list-item",["jira/ajs/control","jira/ajs/input/mouse","jquery"],function(Control,Mouse,$){var ListItem=Control.extend({init:function(options){this._setOptions(options);this.$element=$(this.options.element);this.hasFocus=false;this._assignEvents("instance",this);this._assignEvents("element",this.$element)},_getDefaultOptions:function(){return{element:null,autoScroll:true,focusClass:AJS.ACTIVE_CLASS}},_events:{"instance":{"focus":function(event){this.hasFocus=true;this.$element.addClass(this.options.focusClass);if(!event.noscrolling){ListItem.MOTION_DETECTOR.unbind();this.isWaitingForMove=true;if(this.options.autoScroll){this.$element.scrollIntoView(ListItem.SCROLL_INTO_VIEW_OPTIONS)}}},"blur":function(){this.hasFocus=false;this.$element.removeClass(this.options.focusClass)},"accept":function(){var event=new $.Event("click");var $target=this.$element.is("a[href]")?this.$element:this.$element.find("a[href]");$target.trigger(event);if(!event.isDefaultPrevented()){window.top.location=$target.attr("href")}}},"element":{"mousemove":function(){if(((this.isWaitingForMove&&ListItem.MOTION_DETECTOR.moved)&&!this.hasFocus)||!this.hasFocus){this.isWaitingForMove=false;this.trigger({type:"focus",noscrolling:true})}}}}});ListItem.MOTION_DETECTOR=new Mouse.MotionDetector();ListItem.SCROLL_INTO_VIEW_OPTIONS={duration:100,callback:function(){ListItem.MOTION_DETECTOR.wait()}};return ListItem});AJS.namespace("AJS.Dropdown.ListItem",null,require("jira/ajs/dropdown/dropdown-list-item"));;
;
/* module-key = 'jira.webresources:dropdown', location = '/includes/ajs/dropdown/Dropdown.ListItemGroup.js' */
define("jira/ajs/dropdown/dropdown-list-item-group",["jira/ajs/group"],function(Group){return Group.extend({keys:{"Up":function(event){this.shiftFocus(-1);event.preventDefault()},"Down":function(event){this.shiftFocus(1);event.preventDefault()},"Return":function(event){this.items[this.index].trigger("accept");event.preventDefault()}}})});AJS.namespace("AJS.Dropdown.ListItemGroup",null,require("jira/ajs/dropdown/dropdown-list-item-group"));;
;
/* module-key = 'jira.webresources:dropdown', location = '/includes/ajs/dropdown/Dropdown.OptionsDescriptor.js' */
define("jira/ajs/dropdown/dropdown-options-descriptor",["jira/ajs/descriptor","jira/ajs/dropdown/dropdown-constants","jira/ajs/dropdown/dropdown-list-item-group","jira/ajs/contentretriever/ajax-content-retriever","jira/ajs/contentretriever/deferred-content-retriever","jira/ajs/contentretriever/dom-content-retriever","jquery"],function(Descriptor,Constants,ListItemGroup,AjaxContentRetriever,DeferredContentRetriever,DOMContentRetriever,$){return Descriptor.extend({init:function(properties){this._super(properties);if(!this.content()&&!this.trigger()){throw new Error("Dropdown.OptionsDescriptor: expected either [content] or [trigger] to be defined.")}if(this.trigger()&&!this.content()){this.content(this.trigger().next(Constants.CONTENT_SELECTOR))}else{if(this.content()&&!this.trigger()){this.content(this.trigger().next(Constants.TRIGGER_SELECTOR))}}if(this.trigger()&&!this.content()){if(!this.ajaxOptions()){if(this.trigger().attr("href")){this.ajaxOptions(this.trigger().attr("href"))}}else{if(!this.ajaxOptions().url){this.ajaxOptions().url=this.trigger().attr("href")}}this.contentRetriever(new AjaxContentRetriever(this.ajaxOptions()))}else{if(this.content()){if($.isFunction(this.content())){this.contentRetriever(new DeferredContentRetriever(this.content()))}else{this.contentRetriever(new DOMContentRetriever(this.content()))}}}if(!this.listController()){this.listController(new ListItemGroup())}},_getDefaultOptions:function(){return{trigger:null,ajaxOptions:null,autoScroll:true}},content:function(content){if(content){content=$(content);if(content.length){this.properties.content=content}}else{return this.properties.content}},trigger:function(trigger){if(trigger){this.properties.trigger=trigger}else{return this.properties.trigger}},contentRetriever:function(contentRetriever){if(contentRetriever){this.properties.contentRetriever=contentRetriever}else{return this.properties.contentRetriever}},listController:function(listController){if(listController){this.properties.listController=listController}else{return this.properties.listController}},focusFirstItem:function(focusFirstItem){if(focusFirstItem){this.properties.focusFirstItem=focusFirstItem}else{return this.properties.focusFirstItem}},autoScroll:function(autoScroll){if(typeof autoScroll!=="undefined"){this.properties.autoScroll=!!autoScroll}return this.properties.autoScroll},ajaxOptions:function(ajaxOptions){if(ajaxOptions){this.properties.ajaxOptions=ajaxOptions}else{return this.properties.ajaxOptions}},loop:function(loop){if(typeof loop!=="undefined"){this.properties.loop=loop}else{return this.properties.loop}},alignment:function(alignment){if(alignment){this.properties.alignment=alignment}else{return this.properties.alignment}},eventDelegator:function(eventDelegator){if(typeof eventDelegator!=="undefined"){this.properties.eventDelegator=eventDelegator}else{return this.properties.eventDelegator}}})});AJS.namespace("AJS.Dropdown.OptionsDescriptor",null,require("jira/ajs/dropdown/dropdown-options-descriptor"));;
;
/* module-key = 'jira.webresources:dropdown', location = '/includes/ajs/dropdown/Dropdown.js' */
define("jira/ajs/dropdown/dropdown",["jira/ajs/control","jira/ajs/layer/inline-layer","jira/ajs/dropdown/dropdown-constants","jira/ajs/dropdown/dropdown-list-item","jira/ajs/dropdown/dropdown-options-descriptor","jquery"],function(Control,InlineLayer,Constants,ListItem,OptionsDescriptor,$){var Dropdown=Control.extend({CLASS_SIGNATURE:"AJS_DROPDOWN",init:function(options){var layerProperties,instance=this;if(!(options instanceof OptionsDescriptor)){this.options=new OptionsDescriptor(options)}else{this.options=options}layerProperties=this.options.allProperties();if(!layerProperties.offsetTarget){layerProperties.offsetTarget=layerProperties.trigger}this.layerController=new InlineLayer(this.options.allProperties());this.layerController._validateClickToClose=function(e){if(e.target===this.offsetTarget()[0]){return false}else{if(e.target===this.layer()[0]){return false}else{if(this.offsetTarget().has(e.target).length>0){return false}}}return true};this.listController=this.options.listController();this.listEnabler=function(e){instance.listController._handleKeyEvent(e)};this.layerController.onhide(function(){instance.hide()});this.layerController.onerror(function(){if($.isFunction(instance.options.properties.onerror)){instance.options.properties.onerror(instance)}});this.layerController.contentChange(function(){instance.listController.removeAllItems();instance.layerController.layer().find("div > ul > li:visible:has(a)").each(function(){instance.listController.addItem(new ListItem({element:this,autoScroll:instance.options.autoScroll()}))});if(instance.options.focusFirstItem()){instance.listController.shiftFocus(0)}else{instance.listController.prepareForInput()}});this.trigger(this.options.trigger());this._applyIdToLayer()},show:function(){var instance=this;this.trigger().addClass(AJS.ACTIVE_CLASS);$(this).trigger("showLayer");this.layerController.show();if(this.options.focusFirstItem()){this.listController.shiftFocus(0)}else{this.listController.prepareForInput()}},hide:function(){$(this).trigger("hideLayer");this.trigger().removeClass(AJS.ACTIVE_CLASS);this.layerController.hide();this.listController.trigger("blur")},toggle:function(){if(this.layerController.isVisible()){this.hide()}else{this.show()}},content:function(content){if(content){this.layerController.content(content)}else{return this.layerController.content()}},trigger:function(trigger){if(trigger){if(this.options.trigger()){this._unassignEvents("trigger",this.options.trigger())}this.options.trigger($(trigger));if(!this.layerController.offsetTarget()){this.layerController.offsetTarget(this.options.trigger())}this._assignEvents("trigger",this.options.trigger())}else{return this.options.trigger()}},_applyIdToLayer:function(){if(this.trigger().attr("id")){this.layerController.layer().attr("id",this.trigger().attr("id")+"_drop")}},_events:{trigger:{click:function(e){e.preventDefault();this.toggle()}}}});$.extend(Dropdown,Constants);return Dropdown});AJS.namespace("AJS.DropDown",null,require("jira/ajs/dropdown/dropdown"));AJS.namespace("AJS.Dropdown",null,require("jira/ajs/dropdown/dropdown"));;
;
/* module-key = 'jira.webresources:dropdown', location = '/includes/jira/dropdown/Dropdown.js' */
JIRA.Dropdown=(function(){var instances=[];return{addInstance:function(){instances.push(this)},hideInstances:function(){var that=this;jQuery(instances).each(function(){if(that!==this){this.hideDropdown()}})},getHash:function(){if(!this.hash){this.hash={container:this.dropdown,hide:this.hideDropdown,show:this.displayDropdown}}return this.hash},displayDropdown:function(){if(JIRA.Dropdown.current===this){return }this.hideInstances();JIRA.Dropdown.current=this;this.dropdown.css({display:"block"});this.displayed=true;var dd=this.dropdown;if(window.top.JIRA&&!window.top.JIRA.Dialog.current){setTimeout(function(){var win=jQuery(window);var minScrollTop=dd.offset().top+dd.prop("offsetHeight")-win.height()+10;if(win.scrollTop()<minScrollTop){jQuery("html,body").animate({scrollTop:minScrollTop},300,"linear")}},100)}},hideDropdown:function(){if(this.displayed===false){return }JIRA.Dropdown.current=null;this.dropdown.css({display:"none"});this.displayed=false},init:function(trigger,dropdown){var that=this;this.addInstance(this);this.dropdown=jQuery(dropdown);this.dropdown.css({display:"none"});jQuery(document).keydown(function(e){if(e.keyCode===9){that.hideDropdown()}});if(trigger.target){jQuery.aop.before(trigger,function(){if(!that.displayed){that.displayDropdown()}})}else{that.dropdown.css("top",jQuery(trigger).outerHeight()+"px");trigger.click(function(e){if(!that.displayed){that.displayDropdown();e.stopPropagation()}else{that.hideDropdown()}e.preventDefault()})}jQuery(document.body).click(function(){if(that.displayed){that.hideDropdown()}})}}})();JIRA.Dropdown.Standard=function(trigger,dropdown){var that=begetObject(JIRA.Dropdown);that.init(trigger,dropdown);return that};JIRA.Dropdown.AutoComplete=function(trigger,dropdown){var that=begetObject(JIRA.Dropdown);that.init=function(trigger,dropdown){this.addInstance(this);this.dropdown=jQuery(dropdown).click(function(e){e.stopPropagation()});this.dropdown.css({display:"none"});if(trigger.target){jQuery.aop.before(trigger,function(){if(!that.displayed){that.displayDropdown()}})}else{trigger.click(function(e){if(!that.displayed){that.displayDropdown();e.stopPropagation()}})}jQuery(document.body).click(function(){if(that.displayed){that.hideDropdown()}})};that.init(trigger,dropdown);return that};AJS.namespace("jira.widget.dropdown",null,JIRA.Dropdown);;
;
/* module-key = 'jira.webresources:dropdown', location = '/includes/ajs/dropdown/Dropdown.create.js' */
define("jira/ajs/dropdown/dropdown-factory",["jira/ajs/dropdown/dropdown","jira/util/objects","jquery"],function(Dropdown,Objects,$){function createDropdown(options){var dropdowns=[];if(options.content&&!options.trigger){options.content=$(options.content);$.each(options.content,function(){var instanceOptions=Objects.copyObject(options);instanceOptions.content=$(this);dropdowns.push(new Dropdown(instanceOptions))})}else{if(!options.content&&options.trigger){options.trigger=$(options.trigger);$.each(options.trigger,function(){var instanceOptions=Objects.copyObject(options);instanceOptions.trigger=$(this);dropdowns.push(new Dropdown(instanceOptions))})}else{if(options.content&&options.trigger){options.content=$(options.content);options.trigger=$(options.trigger);if(options.content.length===options.trigger.length){options.trigger.each(function(i){var instanceOptions=Objects.copyObject(options);instanceOptions.trigger=$(this);instanceOptions.content=options.content.eq(i);dropdowns.push(new Dropdown(instanceOptions))})}else{throw new Error("Dropdown.create: Expected the same number of content elements as trigger elements")}}}}return dropdowns}return{createDropdown:createDropdown}});AJS.namespace("AJS.Dropdown.create",null,require("jira/ajs/dropdown/dropdown-factory").createDropdown);;
;
/* module-key = 'jira.webresources:dropdown', location = '/includes/jira/dropdown/containDropdown.js' */
define("jira/dropdown/contain-dropdown",["jquery","exports"],function(jQuery,exports){function containDropdown(dropdown,containerSelector,dynamic){function getDropdownOffset(){return dropdown.$.offset().top-jQuery(containerSelector).offset().top}var container,ddOffset,availableArea,shadowOffset=25;if(dropdown.$.parents(containerSelector).length!==-1){container=jQuery(containerSelector),ddOffset=getDropdownOffset(),shadowOffset=30,availableArea=container.outerHeight()-ddOffset-shadowOffset;if(availableArea<=parseInt(dropdown.$.prop("scrollHeight"),10)){containHeight(dropdown,availableArea)}else{if(dynamic){releaseContainment(dropdown)}}dropdown.reset()}}function containHeight(dropdown,availableArea){dropdown.$.css({height:availableArea});if(dropdown.$.css("overflowY")!=="scroll"){dropdown.$.css({width:15+dropdown.$.prop("scrollWidth"),overflowY:"scroll",overflowX:"hidden"})}}function releaseContainment(dropdown){dropdown.$.css({height:"",width:"",overflowY:"",overflowX:""})}exports=containDropdown;exports.containHeight=containHeight;exports.releaseContainment=releaseContainment});AJS.namespace("AJS.containDropdown",null,require("jira/dropdown/contain-dropdown"));AJS.namespace("JIRA.containDropdown",null,require("jira/dropdown/contain-dropdown"));;
;
/* module-key = 'jira.webresources:dropdown', location = '/includes/jquery/plugins/linkedmenu/linkedMenu.js' */
AJS.$.deactivateLinkedMenu=function(){};AJS.$.linkedMenuInstances=[];AJS.$.fn.linkedMenu=function(opts){var idx,that=this,onDisable,enabled=false,focusElement=function(elem){elem=AJS.$(elem);that.blur();elem.trigger("click","focus","mousedown")},keyHandler=function(e){var targ;if(e.keyCode===37||e.keyCode===39||e.keyCode===27){if(e.keyCode===37){targ=idx-1;if(idx-1>=0){if(isNotActive(that[targ])){idx=targ;focusElement(that[idx])}}else{targ=that.length-1;if(isNotActive(that[targ])){idx=targ;focusElement(that[idx])}}}else{if(e.keyCode===39){targ=idx+1;if(targ<that.length){if(isNotActive(that[targ])){idx=targ;focusElement(that[idx])}}else{targ=0;if(isNotActive(that[targ])){idx=targ;focusElement(that[idx])}}}else{that.disableLinkedMenu(e)}}e.preventDefault()}},isNotActive=function(elem){if(elem!==that[idx]){return true}},focusBridge=function(){if(isNotActive(this)){idx=AJS.$.inArray(this,that);focusElement(this)}},reflectionBridge=function(){var targ=AJS.$.inArray(this,AJS.$(opts.reflectFocus));if(isNotActive(that[targ])){idx=targ;focusElement(that[idx])}},enable=function(){var elem,clss;if(!enabled){AJS.$.currentLinkedMenu=that;if(opts.onFocusRemoveClass){elem=AJS.$(opts.onFocusRemoveClass);clss=opts.onFocusRemoveClass.match(/\.([a-z]*)$/);if(clss&&clss[1]&&elem.length>0){AJS.$(opts.onFocusRemoveClass).removeClass(clss[1]);onDisable=function(){AJS.$(elem).addClass(clss[1])}}}enabled=true;idx=AJS.$.inArray(this,that);that.mouseover(focusBridge);if(AJS.$.browser.mozilla){AJS.$(document).keypress(keyHandler)}else{AJS.$(document).keydown(keyHandler)}AJS.$(document).mousedown(that.disableLinkedMenu);if(opts.reflectFocus){AJS.$(opts.reflectFocus).mouseover(reflectionBridge)}}};that.disableLinkedMenu=function(e){AJS.$(document).unbind("keypress",keyHandler);AJS.$(document).unbind("keydown",keyHandler);that.unbind("mouseover",focusBridge);AJS.$(document).unbind("mousedown",arguments.callee);if(opts.reflectFocus){AJS.$(opts.reflectFocus).unbind("mouseover",reflectionBridge)}if(onDisable){onDisable()}that.blur();delete AJS.$.currentLinkedMenu;window.setTimeout(function(){enabled=false},200)};opts=opts||{};focusElement=opts.focusElement||focusElement;that.click(enable);return that};;
;
/* module-key = 'jira.webresources:dropdown', location = '/includes/jquery/plugins/scrollintoview/scrollIntoView.js' */
(function(){var jQuery=window.top.jQuery||window.jQuery;function getNewScrollTop(options){options=options||{};options.marginTop=options.marginTop||options.margin||0;options.marginBottom=options.marginBottom||options.margin||0;var $window=jQuery(window.top);var $stalker=jQuery("#stalker");var scrollTop=$window.scrollTop();var scrollHeight=$window.height();var offsetTop=Math.max(0,getPageY(this[0])-options.marginTop);var offsetHeight=options.marginTop+this.outerHeight()+options.marginBottom;var newScrollTop=scrollTop;if(newScrollTop+scrollHeight<offsetTop+offsetHeight){newScrollTop=offsetTop+offsetHeight-scrollHeight}if($stalker.length!==0){var offsetParent=this[0];var positionedParent=null;do{if(jQuery(offsetParent).css("position")==="absolute"){positionedParent=offsetParent}}while(offsetParent=offsetParent.offsetParent);if(positionedParent&&getPageY(positionedParent)>getPageY($stalker[0])){offsetTop-=$stalker.outerHeight()}}if(newScrollTop>offsetTop){newScrollTop=offsetTop}return newScrollTop}function getPageY(element){var currElement=element,offsetTop=0;do{offsetTop+=currElement.offsetTop}while(currElement=currElement.offsetParent);currElement=element;do{if(currElement&&currElement.scrollTop){offsetTop-=currElement.scrollTop}currElement=currElement.parentNode}while(currElement&&currElement!=document.body);return offsetTop}window.jQuery.fn.scrollIntoView=function(options){if(this.length===0){return this}var fixedParent=this.hasFixedParent();if(!fixedParent){options=options||{};if(!this.is(":visible")&&options.callback){options.callback();return this}var scrollTop=jQuery(window.top).scrollTop();var newScrollTop=getNewScrollTop.call(this,options);var $stalker=jQuery("#stalker");if(newScrollTop!==scrollTop){var $target=this;var $document=jQuery(window.top.document);$document.trigger("moveToStarted",$target);if(options.duration){$document.find("body, html").stop(true).animate({scrollTop:newScrollTop},options.duration,"swing",function(){if(options.callback){options.callback()}$document.trigger("moveToFinished",$target);$stalker.trigger("positionChanged")})}else{$document.find("body, html").prop("scrollTop",newScrollTop)}}else{if(options.callback){options.callback()}}}else{var $elementToScrollTo=jQuery(this),$fixedParent=jQuery(fixedParent),fixedParentHeight=$fixedParent.outerHeight(),fixedParentScrollTop=$fixedParent.scrollTop(),fixedParentScrollBottom=fixedParentScrollTop+fixedParentHeight,elementPosition=$elementToScrollTo.position(),elementPositionBottom=elementPosition.top+$elementToScrollTo.height();var below=elementPositionBottom+fixedParentScrollTop>fixedParentScrollBottom,above=elementPosition.top<0;if(below){$fixedParent.scrollTop(fixedParentScrollTop+elementPositionBottom-fixedParentHeight)}else{if(above){$fixedParent.scrollTop(fixedParentScrollTop+elementPosition.top)}}}return this};jQuery.fn.isInView=function(options){if(this.length>0&&!this.hasFixedParent()){options=options||{};var scrollTop=jQuery(window.top).scrollTop();var newScrollTop=getNewScrollTop.call(this,options);return newScrollTop===scrollTop}return this}})();;
;
/* module-key = 'com.atlassian.auiplugin:aui-tipsy', location = 'js-vendor/jquery/jquery.tipsy.js' */
(function(E){function D(H,G){return(typeof H=="function")?(H.call(G)):H}function F(G){while(G=G.parentNode){if(G==document){return true}}return false}var A=0;function B(){var G=A++;return"tipsyuid"+G}function C(H,G){this.$element=E(H);this.options=G;this.enabled=true;this.fixTitle()}C.prototype={show:function(){if(!F(this.$element[0])){return }var P=this.getTitle();if(P&&this.enabled){var I=this.tip();I.find(".tipsy-inner")[this.options.html?"html":"text"](P);I[0].className="tipsy";I.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).appendTo(document.body);var L=this;function H(){L.hoverTooltip=true}function M(){if(L.hoverState=="in"){return }L.hoverTooltip=false;if(L.options.trigger!="manual"){var R=L.options.trigger=="hover"?"mouseleave.tipsy":"blur.tipsy";L.$element.trigger(R)}}if(this.options.hoverable){I.hover(H,M)}if(this.options.className){I.addClass(D(this.options.className,this.$element[0]))}var N=E.extend({},this.$element.offset(),{width:this.$element[0].getBoundingClientRect().width,height:this.$element[0].getBoundingClientRect().height});var G=I[0].offsetWidth,K=I[0].offsetHeight,Q=D(this.options.gravity,this.$element[0]);var O;switch(Q.charAt(0)){case"n":O={top:N.top+N.height+this.options.offset,left:N.left+N.width/2-G/2};break;case"s":O={top:N.top-K-this.options.offset,left:N.left+N.width/2-G/2};break;case"e":O={top:N.top+N.height/2-K/2,left:N.left-G-this.options.offset};break;case"w":O={top:N.top+N.height/2-K/2,left:N.left+N.width+this.options.offset};break}if(Q.length==2){if(Q.charAt(1)=="w"){O.left=N.left+N.width/2-15}else{O.left=N.left+N.width/2-G+15}}I.css(O).addClass("tipsy-"+Q);I.find(".tipsy-arrow")[0].className="tipsy-arrow tipsy-arrow-"+Q.charAt(0);if(this.options.fade){I.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity})}else{I.css({visibility:"visible",opacity:this.options.opacity})}if(this.options.aria){var J=B();I.attr("id",J);this.$element.attr("aria-describedby",J)}}},destroy:function(){this.$element.removeData("tipsy");this.unbindHandlers();this.hide()},unbindHandlers:function(){if(this.options.live){E(this.$element.context).off(".tipsy")}else{this.$element.unbind(".tipsy")}},hide:function(){if(this.options.fade){this.tip().stop().fadeOut(function(){E(this).remove()})}else{this.tip().remove()}if(this.options.aria){this.$element.removeAttr("aria-describedby")}},fixTitle:function(){var G=this.$element;if(G.attr("title")||typeof (G.attr("original-title"))!="string"){G.attr("original-title",G.attr("title")||"").removeAttr("title")}},getTitle:function(){var I,G=this.$element,H=this.options;this.fixTitle();var I,H=this.options;if(typeof H.title=="string"){I=G.attr(H.title=="title"?"original-title":H.title)}else{if(typeof H.title=="function"){I=H.title.call(G[0])}}I=(""+I).replace(/(^\s*|\s*$)/,"");return I||H.fallback},tip:function(){if(!this.$tip){this.$tip=E('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>').attr("role","tooltip");this.$tip.data("tipsy-pointee",this.$element[0])}return this.$tip},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled}};E.fn.tipsy=function(J){if(J===true){return this.data("tipsy")}else{if(typeof J=="string"){var L=this.data("tipsy");if(L){L[J]()}return this}}J=E.extend({},E.fn.tipsy.defaults,J);if(J.hoverable){J.delayOut=J.delayOut||20}function I(N){var O=E.data(N,"tipsy");if(!O){O=new C(N,E.fn.tipsy.elementOptions(N,J));E.data(N,"tipsy",O)}return O}function M(){var N=I(this);N.hoverState="in";if(J.delayIn==0){N.show()}else{N.fixTitle();setTimeout(function(){if(N.hoverState=="in"){N.show()}},J.delayIn)}}function H(){var N=I(this);N.hoverState="out";if(J.delayOut==0){N.hide()}else{setTimeout(function(){if(N.hoverState=="out"&&!N.hoverTooltip){N.hide()}},J.delayOut)}}if(!J.live){this.each(function(){I(this)})}if(J.trigger!="manual"){var K=J.trigger=="hover"?"mouseenter.tipsy focus.tipsy":"focus.tipsy",G=J.trigger=="hover"?"mouseleave.tipsy blur.tipsy":"blur.tipsy";if(J.live){E(this.context).on(K,this.selector,M).on(G,this.selector,H)}else{this.bind(K,M).bind(G,H)}}return this};E.fn.tipsy.defaults={aria:false,className:null,delayIn:0,delayOut:0,fade:false,fallback:"",gravity:"n",html:false,live:false,hoverable:false,offset:0,opacity:0.8,title:"title",trigger:"hover"};E.fn.tipsy.revalidate=function(){E(".tipsy").each(function(){var G=E.data(this,"tipsy-pointee");if(!G||!F(G)){E(this).remove()}})};E.fn.tipsy.elementOptions=function(H,G){return E.metadata?E.extend({},G,E(H).metadata()):G};E.fn.tipsy.autoNS=function(){return E(this).offset().top>(E(document).scrollTop()+E(window).height()/2)?"s":"n"};E.fn.tipsy.autoWE=function(){return E(this).offset().left>(E(document).scrollLeft()+E(window).width()/2)?"e":"w"};E.fn.tipsy.autoBounds=function(H,G){return function(){var I={ns:G[0],ew:(G.length>1?G[1]:false)},L=E(document).scrollTop()+H,J=E(document).scrollLeft()+H,K=E(this);if(K.offset().top<L){I.ns="n"}if(K.offset().left<J){I.ew="w"}if(E(window).width()+E(document).scrollLeft()-K.offset().left<H){I.ew="e"}if(E(window).height()+E(document).scrollTop()-K.offset().top<H){I.ns="s"}return I.ns+(I.ew?I.ew:"")}}})(jQuery);;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-tooltips', location = 'js/aui-experimental-tooltip.js' */
(function(A){A.fn.tooltip=function(B){if(typeof B=="string"){this.tipsy(B);return C}var E=A.extend({},A.fn.tooltip.defaults,B),C=this.tipsy(E);if(E.hideOnClick&&(E.trigger=="hover"||!E.trigger&&this.tipsy.defaults.trigger=="hover")){var D=function(){A(this).tipsy("hide")};if(E.live){A(this.context).on("click.tipsy",this.selector,D)}else{this.bind("click.tipsy",D)}}return C};A.fn.tooltip.defaults={opacity:1,offset:1,delayIn:500,hoverable:true,hideOnClick:true}}(AJS.$));;
;
/* module-key = 'com.atlassian.plugins.issue-status-plugin:issue-status-resources', location = 'templates/status.soy' */
// This file was automatically generated from status.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Template.Util.Issue.Status.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Template == 'undefined') { JIRA.Template = {}; }
if (typeof JIRA.Template.Util == 'undefined') { JIRA.Template.Util = {}; }
if (typeof JIRA.Template.Util.Issue == 'undefined') { JIRA.Template.Util.Issue = {}; }
if (typeof JIRA.Template.Util.Issue.Status == 'undefined') { JIRA.Template.Util.Issue.Status = {}; }


JIRA.Template.Util.Issue.Status.issueStatusResolver = function(opt_data, opt_ignored) {
  return '' + ((! opt_data.issueStatus) ? '<span class="aui-icon aui-icon-small aui-iconfont-help jira-issue-status-render-error" title="' + soy.$$escapeHtml("No issue status information was provided") + '"></span>' : (opt_data.issueStatus.statusCategory) ? JIRA.Template.Util.Issue.Status.issueStatus(opt_data) : JIRA.Template.Util.Issue.Status.iconStatus({name: opt_data.issueStatus.name, iconUrl: opt_data.issueStatus.iconUrl, description: opt_data.issueStatus.description, isCompact: opt_data.isCompact}));
};
if (goog.DEBUG) {
  JIRA.Template.Util.Issue.Status.issueStatusResolver.soyTemplateName = 'JIRA.Template.Util.Issue.Status.issueStatusResolver';
}


JIRA.Template.Util.Issue.Status.iconStatus = function(opt_data, opt_ignored) {
  return '<img src="' + soy.$$escapeHtml(opt_data.iconUrl) + '" width="16" height="16" alt="' + soy.$$escapeHtml(opt_data.name) + '" title="' + soy.$$escapeHtml(opt_data.name) + ((opt_data.description) ? ' - ' + soy.$$escapeHtml(opt_data.description) : '') + '" class="jira-issue-status-icon">' + ((! opt_data.isCompact) ? ' ' + soy.$$escapeHtml(opt_data.name) : '');
};
if (goog.DEBUG) {
  JIRA.Template.Util.Issue.Status.iconStatus.soyTemplateName = 'JIRA.Template.Util.Issue.Status.iconStatus';
}


JIRA.Template.Util.Issue.Status.issueStatus = function(opt_data, opt_ignored) {
  return '' + JIRA.Template.Util.Issue.Status.statusLozenge({name: opt_data.issueStatus.name, categoryKey: opt_data.issueStatus.statusCategory.key, colorName: opt_data.issueStatus.statusCategory.colorName, description: opt_data.issueStatus.description, isSubtle: opt_data.isSubtle, isCompact: opt_data.isCompact, maxWidth: opt_data.maxWidth});
};
if (goog.DEBUG) {
  JIRA.Template.Util.Issue.Status.issueStatus.soyTemplateName = 'JIRA.Template.Util.Issue.Status.issueStatus';
}


JIRA.Template.Util.Issue.Status.statusLozenge = function(opt_data, opt_ignored) {
  var output = '';
  var maxWidth__soy46 = opt_data.maxWidth ? opt_data.maxWidth : 'medium';
  var tooltipContent__soy47 = '<span class="jira-issue-status-tooltip-title">' + soy.$$escapeHtml(opt_data.name) + '</span>' + ((opt_data.description) ? '<br><span class="jira-issue-status-tooltip-desc">' + soy.$$escapeHtml(opt_data.description) + '</span>' : '');
  output += '<span class=" jira-issue-status-lozenge aui-lozenge ' + JIRA.Template.Util.Issue.Status.statusLozengeClasses(opt_data) + ((opt_data.isSubtle && ! opt_data.isCompact) ? ' aui-lozenge-subtle' : '') + ((opt_data.isCompact) ? ' jira-issue-status-lozenge-compact' : '') + ' jira-issue-status-lozenge-max-width-' + soy.$$escapeHtml(maxWidth__soy46) + '" data-tooltip="' + soy.$$escapeHtml(tooltipContent__soy47) + '">' + soy.$$escapeHtml(opt_data.name) + '</span>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Template.Util.Issue.Status.statusLozenge.soyTemplateName = 'JIRA.Template.Util.Issue.Status.statusLozenge';
}


JIRA.Template.Util.Issue.Status.statusLozengeClasses = function(opt_data, opt_ignored) {
  return 'jira-issue-status-lozenge-' + soy.$$escapeHtml(opt_data.colorName ? opt_data.colorName : 'medium-gray') + ' ' + ((opt_data.categoryKey) ? 'jira-issue-status-lozenge-' + soy.$$escapeHtml(opt_data.categoryKey) : '');
};
if (goog.DEBUG) {
  JIRA.Template.Util.Issue.Status.statusLozengeClasses.soyTemplateName = 'JIRA.Template.Util.Issue.Status.statusLozengeClasses';
}
;
;
/* module-key = 'com.atlassian.plugins.issue-status-plugin:issue-status-resources', location = '/js/issue-status-plugin.js' */
AJS.$(function(){if(AJS.$.fn.tooltip){AJS.$(".jira-issue-status-lozenge[data-tooltip]").tooltip({aria:true,gravity:AJS.$.fn.tipsy.autoWE,delayIn:100,html:true,live:true,title:"data-tooltip",className:"jira-issue-status-tooltip"})}});;
;
/* module-key = 'jira.webresources:issue-table', location = '/includes/jira/dropdown/issueActionsDropdown.soy' */
// This file was automatically generated from issueActionsDropdown.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Dropdowns.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Dropdowns == 'undefined') { JIRA.Templates.Dropdowns = {}; }


JIRA.Templates.Dropdowns.issueActionsDropdown = function(opt_data, opt_ignored) {
  var output = '<div class="aui-list"><ul class="aui-list-section"><li class="aui-list-item"><a class="aui-list-item-link issue-link" data-issue-key="' + soy.$$escapeHtml(opt_data.key) + '" href="' + soy.$$escapeHtml("") + '/browse/' + soy.$$escapeHtml(opt_data.key) + '" >' + soy.$$escapeHtml(opt_data.viewIssue) + '</a></li></ul>';
  var hasActions__soy12 = opt_data.actions && opt_data.actions.length > 0;
  var hasOperations__soy13 = opt_data.operations && opt_data.operations.length > 0;
  if (hasActions__soy12) {
    output += '<ul class="aui-list-section' + ((! hasOperations__soy13) ? ' aui-last' : '') + '">';
    var actionList21 = opt_data.actions;
    var actionListLen21 = actionList21.length;
    for (var actionIndex21 = 0; actionIndex21 < actionListLen21; actionIndex21++) {
      var actionData21 = actionList21[actionIndex21];
      output += '<li class="aui-list-item"><a href="' + soy.$$escapeHtml("") + '/secure/WorkflowUIDispatcher.jspa?id=' + soy.$$escapeHtml(opt_data.id) + '&amp;action=' + soy.$$escapeHtml(actionData21.action) + '&amp;atl_token=' + soy.$$escapeHtml(opt_data.atlToken) + '&amp;returnUrl=' + soy.$$escapeHtml(opt_data.returnUrl) + '" class="aui-list-item-link issueaction-workflow-transition" data-issueId="' + soy.$$escapeHtml(opt_data.id) + '" data-issueKey="' + soy.$$escapeHtml(opt_data.key) + '" >' + soy.$$escapeHtml(actionData21.name) + '</a></li>';
    }
    output += '</ul>';
  }
  if (hasOperations__soy13) {
    output += '<ul class="aui-list-section aui-last">';
    var opList44 = opt_data.operations;
    var opListLen44 = opList44.length;
    for (var opIndex44 = 0; opIndex44 < opListLen44; opIndex44++) {
      var opData44 = opList44[opIndex44];
      output += '<li class="aui-list-item"><a href="' + soy.$$escapeHtml(opData44.url) + '&amp;returnUrl=' + soy.$$escapeHtml(opt_data.returnUrl) + '&amp;atl_token=' + soy.$$escapeHtml(opt_data.atlToken) + '" class="aui-list-item-link ' + soy.$$escapeHtml(opData44.styleClass) + '" data-issueId="' + soy.$$escapeHtml(opt_data.id) + '" data-issueKey="' + soy.$$escapeHtml(opt_data.key) + '" >' + soy.$$escapeHtml(opData44.name) + '</a></li>';
    }
    output += '</ul>';
  }
  output += '</div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Dropdowns.issueActionsDropdown.soyTemplateName = 'JIRA.Templates.Dropdowns.issueActionsDropdown';
}
;
;
/* module-key = 'jira.webresources:issue-table', location = '/includes/jira/fragments/issueActionsFragment.js' */
AJS.namespace("JIRA.FRAGMENTS");JIRA.FRAGMENTS.issueActionsFragment=function(){function addIssueIdToReturnUrl(issueId){var matchSelectedIssueId=/selectedIssueId=[0-9]*/g;if(self!=top){return encodeURIComponent(window.top.location.href)}var url=window.location.href,newUrl=url;if(/selectedIssueId=[0-9]*/.test(url)){newUrl=url.replace(matchSelectedIssueId,"selectedIssueId="+issueId)}else{if(url.lastIndexOf("?")>=0){newUrl=url+"&"}else{newUrl=url+"?"}newUrl=newUrl+"selectedIssueId="+issueId}return encodeURIComponent(newUrl)}return function(json){json.returnUrl=json.returnUrl||addIssueIdToReturnUrl(json.id);return AJS.$(JIRA.Templates.Dropdowns.issueActionsDropdown(json))}}();;
;
/* module-key = 'jira.webresources:issue-table', location = '/includes/jquery/plugins/dragtable/jquery.dragtable.js' */
/*
 * dragtable
 *
 * @Version 2.0.4
 *
 * Copyright (c) 2010, Andres Koetter akottr@gmail.com
 * Dual licensed under the MIT (MIT-LICENSE.txt)
 * and GPL (GPL-LICENSE.txt) licenses.
 *
 * Inspired by the the dragtable from Dan Vanderkam (danvk.org/dragtable/)
 * Thanks to the jquery and jqueryui comitters
 *
 * Any comment, bug report, feature-request is welcome
 * Feel free to contact me.
 */
!function($){$.widget("akottr.dragtable",{options:{revert:true,dragHandle:".table-handle",maxMovingRows:40,excludeFooter:false,onlyHeaderThreshold:100,dragaccept:null,persistState:null,restoreState:null,clickDelay:10,containment:"parent",cursor:"move",cursorAt:false,distance:0,tolerance:"pointer",axis:"x",beforeStart:$.noop,beforeMoving:$.noop,beforeReorganize:$.noop,beforeStop:$.noop},originalTable:{el:null,selectedHandle:null,sortOrder:null,startIndex:0,endIndex:0},sortableTable:{el:$(),selectedHandle:$(),movingRow:$()},persistState:function(){var _this=this;this.originalTable.el.find("th").each(function(i){if(this.id!=""){_this.originalTable.sortOrder[this.id]=i}});$.ajax({url:this.options.persistState,data:this.originalTable.sortOrder})},_restoreState:function(persistObj){for(n in persistObj){this.originalTable.startIndex=$("#"+n).closest("th").prevAll().size()+1;this.originalTable.endIndex=parseInt(persistObj[n]+1);this._bubbleCols()}},_bubbleCols:function(){var from=this.originalTable.startIndex;var to=this.originalTable.endIndex;var thtb=this.originalTable.el.children();if(this.options.excludeFooter){var thtb=thtb.not("tfoot")}if(from<to){for(var i=from;i<to;i++){var row1=thtb.find("> tr > td:nth-child("+i+")").add(thtb.find("> tr > th:nth-child("+i+")"));var row2=thtb.find("> tr > td:nth-child("+(i+1)+")").add(thtb.find("> tr > th:nth-child("+(i+1)+")"));for(var j=0;j<row1.length;j++){swapNodes(row1[j],row2[j])}}}else{for(var i=from;i>to;i--){var row1=thtb.find("> tr > td:nth-child("+i+")").add(thtb.find("> tr > th:nth-child("+i+")"));var row2=thtb.find("> tr > td:nth-child("+(i-1)+")").add(thtb.find("> tr > th:nth-child("+(i-1)+")"));for(var j=0;j<row1.length;j++){swapNodes(row1[j],row2[j])}}}},_rearrangeTableBackroundProcessing:function(){var _this=this;return function(){_this._bubbleCols();_this.options.beforeStop(this.originalTable);_this.sortableTable.el.remove();restoreTextSelection();if(_this.options.persistState!==null){$.isFunction(_this.options.persistState)?_this.options.persistState(_this.originalTable):_this.persistState()}}},_rearrangeTable:function(){var _this=this;return function(){_this.originalTable.selectedHandle.removeClass("dragtable-handle-selected");_this.sortableTable.el.sortable("disable");_this.sortableTable.el.addClass("dragtable-disabled");_this.options.beforeReorganize(_this.originalTable,_this.sortableTable);_this.originalTable.endIndex=_this.sortableTable.movingRow.prevAll().size()+1;setTimeout(_this._rearrangeTableBackroundProcessing(),50)}},_generateSortable:function(e){!e.cancelBubble&&(e.cancelBubble=true);var _this=this;var attrs=this.originalTable.el[0].attributes;var attrsString="";for(var i=0;i<attrs.length;i++){if(attrs[i].nodeValue&&attrs[i].nodeName!="id"&&attrs[i].nodeName!="width"){attrsString+=attrs[i].nodeName+'="'+attrs[i].nodeValue+'" '}}var rowAttrsArr=[];var heightArr=[];this.originalTable.el.find("tr").slice(0,this.options.maxMovingRows).each(function(i,v){var attrs=this.attributes;var attrsString="";for(var j=0;j<attrs.length;j++){if(attrs[j].nodeValue&&attrs[j].nodeName!="id"){attrsString+=" "+attrs[j].nodeName+'="'+attrs[j].nodeValue+'"'}}rowAttrsArr.push(attrsString);heightArr.push($(this).height())});var widthArr=[];var totalWidth=0;var thtb=_this.originalTable.el.children();if(this.options.excludeFooter){var thtb=thtb.not("tfoot")}thtb.find("> tr > th").each(function(i,v){totalWidth+=$(this).outerWidth()+2;widthArr.push($(this).width())});var sortableHtml='<ul class="dragtable-sortable" style="position:absolute; width:'+totalWidth+'px;">';thtb.find("> tr > th").each(function(i,v){sortableHtml+="<li>";sortableHtml+='<table class="issue-table" '+attrsString+">";var row=thtb.find("> tr > th:nth-child("+(i+1)+")");if(_this.options.maxMovingRows>1){row=row.add(thtb.find("> tr > td:nth-child("+(i+1)+")").slice(0,_this.options.maxMovingRows-1))}row.each(function(j){var row_content=$(this).clone().wrap("<div></div>").parent().html();if(row_content.toLowerCase().indexOf("<th")===0){sortableHtml+="<thead>"}sortableHtml+="<tr "+rowAttrsArr[j]+'" style="height:'+heightArr[j]+'px;">';sortableHtml+=row_content;if(row_content.toLowerCase().indexOf("<th")===0){sortableHtml+="</thead>"}sortableHtml+="</tr>"});sortableHtml+="</table>";sortableHtml+="</li>"});sortableHtml+="</ul>";this.sortableTable.el=this.originalTable.el.before(sortableHtml).prev();this.sortableTable.el.find("th").each(function(i,v){var _this=$(this);if(widthArr[i]>_this.width()){_this.css({"width":widthArr[i]})}});this.sortableTable.selectedHandle=this.sortableTable.el.find("th .dragtable-handle-selected");var items=!this.options.dragaccept?"li":"li:has("+this.options.dragaccept+")";this.sortableTable.el.sortable({items:items,stop:this._rearrangeTable(),revert:this.options.revert,tolerance:this.options.tolerance,containment:this.options.containment,cursor:this.options.cursor,cursorAt:this.options.cursorAt,distance:this.options.distance,axis:this.options.axis});this.originalTable.startIndex=$(e.target).closest("th").prevAll().size()+1;this.options.beforeMoving(this.originalTable,this.sortableTable);this.sortableTable.movingRow=this.sortableTable.el.find("li:nth-child("+this.originalTable.startIndex+")");disableTextSelection();this.sortableTable.movingRow.trigger($.extend($.Event(e.type),{which:1,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,screenX:e.screenX,screenY:e.screenY}));this.sortableTable.el.find(".ui-sortable-placeholder").html('<div class="outer" style="height:100%;"><div class="inner" style="height:100%;"></div></div>')},bindTo:{},_create:function(){this.originalTable={el:this.element,selectedHandle:$(),sortOrder:{},startIndex:0,endIndex:0};this.bindTo=this.originalTable.el.find("th");if(this.options.dragaccept){this.bindTo=this.bindTo.filter(this.options.dragaccept)}if(this.bindTo.find(this.options.dragHandle).size()>0){this.bindTo=this.bindTo.find(this.options.dragHandle)}if(this.options.restoreState!==null){$.isFunction(this.options.restoreState)?this.options.restoreState(this.originalTable):this._restoreState(this.options.restoreState)}var _this=this;this.bindTo.mousedown(function(evt){clearTimeout(this.downTimer);this.downTimer=setTimeout(function(){_this.originalTable.selectedHandle=$(this);_this.originalTable.selectedHandle.addClass("dragtable-handle-selected");_this.options.beforeStart(this.originalTable);_this._generateSortable(evt)},_this.options.clickDelay)}).mouseup(function(evt){clearTimeout(this.downTimer)})},destroy:function(){this.bindTo.unbind("mousedown");$.Widget.prototype.destroy.apply(this,arguments)}});var body_onselectstart_save=$(document.body).attr("onselectstart"),body_unselectable_save=$(document.body).attr("unselectable");function disableTextSelection(){var $style=$('<style id="__dragtable_disable_text_selection__" type="text/css">body { -ms-user-select:none;-moz-user-select:-moz-none;-khtml-user-select:none;-webkit-user-select:none;user-select:none; }</style>');$(document.head).append($style);$(document.body).attr("onselectstart","return false;").attr("unselectable","on");if(window.getSelection){window.getSelection().removeAllRanges()}else{document.selection.empty()}}function restoreTextSelection(){$("#__dragtable_disable_text_selection__").remove();if(body_onselectstart_save){$(document.body).attr("onselectstart",body_onselectstart_save)}else{$(document.body).removeAttr("onselectstart")}if(body_unselectable_save){$(document.body).attr("unselectable",body_unselectable_save)}else{$(document.body).removeAttr("unselectable")}}function swapNodes(a,b){var aparent=a.parentNode;var asibling=a.nextSibling===b?a:a.nextSibling;b.parentNode.insertBefore(a,b);aparent.insertBefore(b,asibling)}}(jQuery);;
;
/* module-key = 'jira.webresources:select-model', location = '/includes/ajs/select/SelectModel.js' */
define("jira/ajs/select/select-model",["jira/ajs/control","jira/ajs/list/group-descriptor","jira/ajs/list/item-descriptor","jira/util/objects","jquery"],function(Control,GroupDescriptor,ItemDescriptor,Objects,jQuery){return Control.extend({init:function(options){var instance=this;var opts={};if(options){if(options instanceof jQuery){opts.element=options}else{if(options instanceof Element||typeof options==="string"){opts.element=jQuery(options)}else{opts=options}}}this._setOptions(opts);this.$element=this.options.element.hide();this.type=this.$element.attr("multiple")?"multiple":"single";this.id=this.$element.attr("id")||this.$element.attr("name");if(this.type==="single"){this.$element.attr("multiple","multiple")}this.$element.bind("reset",function(){instance._parseDescriptors()});this._parseDescriptors()},hasOptionByValue:function(value){return this.$element.find('option[value="'+value+'"]').length>0},getSelectedTexts:function(){var selectedTexts=[],selected=this.getDisplayableSelectedDescriptors();for(var i=0;i<selected.length;i++){selectedTexts.push(selected[i].label())}return selectedTexts},putOption:function(value,text,hidden){var option;if(this.hasOptionByValue(value)){var descriptor=this.getDescriptor(value);if(!text){text=descriptor.label()}option=descriptor.model()}else{option=jQuery("<option/>");this.$element.append(option)}if(hidden){option.addClass("hidden")}if(text){option.text(text)}option.attr("value",value);this._parseOption(option)},changeSelectionByValue:function(value){var descriptor=this.getDescriptor(value);if(descriptor){var changed=this.setSelected(descriptor);if(!changed){this.$element.trigger("change",descriptor)}return true}return false},_getFreeInputEl:function(){return this.$element.find(".free-input")},removeFreeInputVal:function(){this._getFreeInputEl().remove()},updateFreeInput:function(val){var $freeInput=this._getFreeInputEl();val=jQuery.trim(val);if(val){if(!$freeInput.length){$freeInput=jQuery("<option class='free-input' />").appendTo(this.$element)}$freeInput.attr({"value":val,"selected":"selected"})}else{$freeInput.remove()}},_getDefaultOptions:function(){return{}},getSelectedValues:function(){var selectedVals=[],selected=this.getDisplayableSelectedDescriptors();for(var i=0;i<selected.length;i++){selectedVals.push(selected[i].value())}return selectedVals},setSelected:function(descriptor){var instance=this,selectedItem=false,changed=false,$toSelect=this.$element.find("option").not(this._getExclusions()).filter(function(){return this.value===descriptor.value()});if(this.type==="single"){if(this.getValue()===descriptor.value()){return changed}$toSelect=$toSelect.first();this.$element.find("option:selected").not(this._getExclusions()).each(function(i,option){var currDescriptor=jQuery(this).data("descriptor");if($toSelect[0]!==option){instance.setUnSelected(currDescriptor)}})}$toSelect.each(function(){var $this=jQuery(this);selectedItem=true;changed=!$this.is(":selected");$this.attr("selected","selected").data("descriptor").selected(true)});if(!selectedItem){descriptor.selected(true);descriptor.removeOnUnSelect(true);var newOption=this._render("option",descriptor);newOption.attr("selected","selected");this.$element.append(newOption);changed=true}descriptor.highlighted(false);if(changed){this.$element.trigger("change",descriptor)}return changed},setAllSelected:function(){var instance=this;jQuery(this.getDisplayableUnSelectedDescriptors()).each(function(){instance.setSelected(this)})},setAllUnSelected:function(){var instance=this;jQuery(this.getDisplayableSelectedDescriptors()).each(function(){instance.setUnSelected(this)})},setUnSelected:function(descriptor){var instance=this,value=descriptor.value();this.$element.find("option:selected").not(this._getExclusions()).filter(function(){return jQuery(this).attr("value")===value}).each(function(){var $this=jQuery(this);$this.data("descriptor").selected(false);if(instance.options.removeOnUnSelect||$this.data("descriptor").removeOnUnSelect()){$this.remove()}else{$this.removeAttr("selected")}})},remove:function(descriptor){if(descriptor&&descriptor.model()){descriptor.model().remove()}},getDescriptor:function(value){var returnDescriptor;value=jQuery.trim(value.toLowerCase());jQuery.each(this.getAllDescriptors(false),function(e,descriptor){if(value===jQuery.trim(descriptor.label().toLowerCase())||value===jQuery.trim(descriptor.value().toLowerCase())){returnDescriptor=descriptor;return false}});return returnDescriptor},_parseOption:function(optionElem){var descriptor,icon,fallbackIcon;optionElem=jQuery(optionElem);if(this.options.removeNullOptions&&this._hasNullValue(optionElem)){optionElem.remove();return null}icon=optionElem.attr("data-icon");fallbackIcon=optionElem.attr("data-fallback-icon");descriptor=new ItemDescriptor({styleClass:optionElem.prop("className"),value:optionElem.val(),invalid:optionElem.hasClass("invalid_sel"),fieldText:optionElem.attr("data-field-text"),title:optionElem.attr("title"),meta:optionElem.data("meta"),label:optionElem.attr("data-field-label")||jQuery.trim(optionElem.text()),icon:icon?icon:optionElem.css("backgroundImage").replace(/url\(['"]?(.*?)['"]?\)/,"$1"),fallbackIcon:fallbackIcon?fallbackIcon:"none",selected:optionElem.prop("selected"),removeOnUnSelect:!!optionElem.data("remove-on-unselect"),model:optionElem});optionElem.data("descriptor",descriptor);return descriptor},_hasNullValue:function(optionElement){return optionElement.val()<0},_parseDescriptors:function(){var instance=this,items=this.$element.children();function parseOptGroup(optionGroup){var properties={label:optionGroup.attr("label"),placement:optionGroup.attr("data-placement"),footerText:optionGroup.attr("data-footer-text"),styleClass:optionGroup.prop("className"),model:optionGroup,items:retrieveAvailableOptions(optionGroup)};var weight=optionGroup.data("weight");if(weight){properties.weight=+weight}optionGroup.data("descriptor",new GroupDescriptor(properties))}function retrieveAvailableOptions(parent){var availableOptionElems=jQuery("option",parent),arr=[];jQuery.each(availableOptionElems,function(){arr.push(instance._parseOption(this))});return arr}items.each(function(i){var item=items.eq(i);if(item.is("optgroup")){parseOptGroup(item)}else{if(item.is("option")){if(item.attr("data-placeholder")){instance.placeholder=item.text();item.remove()}else{instance._parseOption(item)}}}})},getPlaceholder:function(){return this.placeholder},_getExclusions:function(){return".free-input"},getValue:function(){if(this.type==="single"){return this.$element.val()&&this.$element.val()[0]}else{return this.$element.val()}},getDisplayableSelectedDescriptors:function(){var descriptors=[];this.$element.find("option:selected").not(this._getExclusions()).each(function(){descriptors.push(jQuery.data(this,"descriptor"))});return descriptors},getDisplayableUnSelectedDescriptors:function(){var descriptors=[];this.$element.find("option").not(":selected").not(this._getExclusions()).each(function(){descriptors.push(jQuery.data(this,"descriptor"))});return descriptors},getAllDescriptors:function(showGroups){var properties,descriptors=[];this.$element.children().each(function(){var descriptor,elem=jQuery(this);if(elem.is("option")){if(elem.data("descriptor")){descriptors.push(elem.data("descriptor"))}}else{if(elem.is("optgroup")){if(showGroups!==false){properties=Objects.copyObject(elem.data("descriptor").allProperties(),false);properties.items=[];descriptor=new GroupDescriptor(properties);descriptors.push(descriptor)}elem.children("option").each(function(){var elem=jQuery(this);var itemDescriptor=elem.data("descriptor");if(itemDescriptor){if(showGroups!==false){descriptor.addItem(itemDescriptor)}else{descriptors.push(itemDescriptor)}}})}}});return descriptors},clearUnSelected:function(){this.$element.find("option:not(:selected)").not(this._getExclusions()).remove()},getUnSelectedDescriptors:function(){var instance=this,descriptors=[],selectedValues={},addedValues={};function isValid(descriptor){var descriptorVal=descriptor.value().toLowerCase();if(!selectedValues[descriptorVal]&&(!addedValues[descriptorVal]||descriptor.allowDuplicate()!==false)){addedValues[descriptorVal]=true;return true}return false}var selectedDescriptors=this.getDisplayableSelectedDescriptors();jQuery.each(selectedDescriptors,function(i,descriptor){selectedValues[descriptor.value().toLowerCase()]=true});var selectChildren=this.$element.children();selectChildren.each(function(){var descriptor,properties,elem=jQuery(this);if(elem.is("option")&&!this.selected){descriptor=jQuery.data(this,"descriptor");if(isValid(descriptor)){descriptors.push(descriptor)}}else{if(elem.is("optgroup")){properties=Objects.copyObject(elem.data("descriptor").allProperties(),false);properties.items=[];descriptor=new GroupDescriptor(properties);descriptors.push(descriptor);elem.find("option").not(instance._getExclusions()).each(function(option){if(option.selected){return }var itemDescriptor=jQuery.data(this,"descriptor");if(isValid(itemDescriptor)){descriptor.addItem(itemDescriptor)}})}}});return descriptors},_renders:{option:function(descriptor){var label=descriptor.label();var text=descriptor.fieldText()||label;var option=new Option(text,descriptor.value());var $option=jQuery(option);var iconUrl=descriptor.icon();option.title=descriptor.title();if(text!=label){$option.data("field-label",label)}if(descriptor.selected()){$option.attr("selected","selected")}jQuery.data(option,"descriptor",descriptor);descriptor.model($option);if(iconUrl){$option.css("backgroundImage","url("+iconUrl+")")}return $option},optgroup:function(descriptor){var elem=jQuery("<optgroup />").addClass(descriptor.styleClass()).attr("label",descriptor.label());descriptor.model(elem);elem.data("descriptor",descriptor);if(descriptor.id()){elem.attr("id",descriptor.id())}return elem}}})});AJS.namespace("AJS.SelectModel",null,require("jira/ajs/select/select-model"));;
;
/* module-key = 'jira.webresources:select-model', location = '/includes/ajs/select/SuggestionCollectionModel.js' */
define("jira/ajs/select/suggestion-collection-model",["jira/ajs/control","jira/ajs/list/group-descriptor","jira/ajs/list/item-descriptor","jira/util/objects","jquery","underscore"],function(Control,GroupDescriptor,ItemDescriptor,Objects,jQuery,_){return Control.extend({init:function(options){if(options.element){options.element=jQuery(options.element)}else{options.element=jQuery(options)}this._setOptions(options);this.$element=this.options.element.hide();this.type=this.$element.attr("data-multiple")?"multiple":"single";this.id=this.$element.attr("id")||this.$element.attr("name");this.$optionsContainer=this.$element.siblings("#"+this.id+"-options");this.selectedDescriptors=[];this.groupFilter=false;this._parseDescriptors()},_getDefaultOptions:function(){return{}},_setValue:function(){var values=this.selectedDescriptors.map(function(item){return item.value()});this.$element.val(values.join(","))},getSelectedValues:function(){var selectedVals=[];for(var i=0;i<this.selectedDescriptors.length;i++){selectedVals.push(this.selectedDescriptors[i].value())}return selectedVals},setSelected:function(descriptor,triggerChangeEvent){triggerChangeEvent=typeof triggerChangeEvent!=="undefined"?triggerChangeEvent:true;descriptor=this._descriptor(descriptor);var descriptors=_.filter(this.getAllDescriptors(false),function(item){return item.value()===descriptor.value()});if(descriptors.length===0){return false}if(this.type==="single"){if(descriptor.value()===this.getValue()){return true}this.setAllUnSelected();descriptors=descriptors.slice(0,1)}else{descriptors=_.filter(descriptors,function(item){return item.selected()!==true})}Array.prototype.push.apply(this.selectedDescriptors,descriptors);_.each(descriptors,function(item){item.selected(true)});this._setValue();descriptor.highlighted(false);if(triggerChangeEvent){this.$element.trigger("change",descriptor)}return true},setAllSelected:function(){var instance=this;jQuery(this.getDisplayableUnSelectedDescriptors()).each(function(){instance.setSelected(this)})},setAllUnSelected:function(){_.each(this.selectedDescriptors,function(descriptor){descriptor.selected(false)});this.selectedDescriptors=[];this._setValue()},setUnSelected:function(descriptor){descriptor=this._descriptor(descriptor);for(var i=0;i<this.selectedDescriptors.length;i++){if(this.selectedDescriptors[i].value()===descriptor.value()){this.selectedDescriptors[i].selected(false);this.selectedDescriptors.splice(i,1);i--}}this._setValue()},remove:function(descriptor){descriptor=this._descriptor(descriptor);for(var i=0;i<this.descriptors.length;i++){if(this.descriptors[i] instanceof GroupDescriptor){for(var j=0;j<this.descriptors[i].items().length;j++){if(this.descriptors[i].items()[j].value()===descriptor.value()){this.descriptors[i].items().splice(j,1);j--}}}else{if(this.descriptors[i].value()===descriptor.value()){this.descriptors.splice(i,1);i--}}}},getDescriptor:function(value){var returnDescriptor;value=jQuery.trim(value.toLowerCase());jQuery.each(this.getAllDescriptors(false),function(e,descriptor){if(value===jQuery.trim(descriptor.label().toLowerCase())||value===jQuery.trim(descriptor.value().toLowerCase())){returnDescriptor=descriptor;return false}});return returnDescriptor},_parseDescriptors:function(){var group,items,options=[];options=this.$optionsContainer.data("suggestions")||[];this.descriptors=[];if(typeof options==="string"){try{options=JSON.parse(options);this.$optionsContainer.data("suggestions",options)}catch(e){options=[]}}for(var i=0;i<options.length;i++){if(typeof options[i].items!=="undefined"){group=new GroupDescriptor({label:options[i].label});items=options[i].items;for(var j=0;j<items.length;j++){var item=new ItemDescriptor(items[j]);if(item.selected()===true){if(this.type==="single"&&this.selectedDescriptors.length>0){item.selected(false)}else{this.selectedDescriptors.push(item)}}group.addItem(item)}this.descriptors.push(group)}else{item=new ItemDescriptor(options[i]);this.descriptors.push(item);if(item.selected()===true){if(this.type==="single"&&this.selectedDescriptors.length>0){item.selected(false)}else{this.selectedDescriptors.push(item)}}}}this._setValue()},getPlaceholder:function(){return this.placeholder},getValue:function(){return this.$element.val()},getDisplayableSelectedDescriptors:function(){return this.selectedDescriptors.slice()},getDisplayableUnSelectedDescriptors:function(){return _.filter(this.getAllDescriptors(false),function(item){return this.selectedDescriptors.indexOf(item)===-1}.bind(this))},getAllDescriptors:function(showGroups){var descriptors=[];if(this.groupFilter!==false){for(var key in this.descriptors){if(this.descriptors[key] instanceof GroupDescriptor&&this.descriptors[key].label()==this.groupFilter){descriptors=this.descriptors[key].items().slice()}}}else{if(showGroups===false){for(var key in this.descriptors){if(this.descriptors[key] instanceof GroupDescriptor){descriptors=descriptors.concat(this.descriptors[key].items())}else{if(this.descriptors.hasOwnProperty(key)){descriptors.push(this.descriptors[key])}}}}else{descriptors=this.descriptors.slice()}}return descriptors},clearUnSelected:function(){var instance=this;this.descriptors=_.filter(this.descriptors,function(group){if(group instanceof GroupDescriptor){group.items(_.filter(group.items(),function(item){return instance.selectedDescriptors.indexOf(item)!==-1}));return true}return instance.selectedDescriptors.indexOf(group)!==-1})},getUnSelectedDescriptors:function(){var instance=this,descriptors=[],addedValues={},selectedValues={},filterDescriptors=function(descriptor){var descriptorVal=descriptor.value().toLowerCase();if(selectedValues[descriptorVal]&&(!addedValues[descriptorVal]||descriptor.allowDuplicate()!==false)){return false}addedValues[descriptorVal]=true;return true};for(var i=0;i<this.selectedDescriptors.length;i++){selectedValues[this.selectedDescriptors[i].value().toLowerCase()]=true}_.each(this.descriptors,function(item){var properties;if(item instanceof GroupDescriptor){if(instance.groupFilter===false){properties=_.clone(item.allProperties());properties.items=_.filter(item.items(),filterDescriptors);descriptors.push(new GroupDescriptor(properties))}else{if(instance.groupFilter===item.label()){descriptors=descriptors.concat(_.filter(item.items(),filterDescriptors))}}}else{if(instance.groupFilter===false&&filterDescriptors(item)){descriptors.push(item)}}});return descriptors},setFilterGroup:function(group){for(var i=0;i<this.descriptors.length;i++){if(this.descriptors[i] instanceof GroupDescriptor){if(this.descriptors[i].label()===group){this.groupFilter=group;return true}}}return false},clearFilterGroup:function(){this.groupFilter=false},_descriptor:function(descriptor){if(typeof descriptor==="string"){descriptor=new ItemDescriptor({value:descriptor,label:descriptor})}return descriptor}})});;
;
/* module-key = 'jira.webresources:feature-flags', location = '/js/featureflags/feature-manager.js' */
/**
 * Require this to check feature flags in javascript code.
 */
define("jira/featureflags/feature-manager", [
    "exports"
], function(
    exports
){

    // this has a mock in jira-components/jira-core/src/main/resources/js/setup-wrm-data-mock.js to be used in setup.
    var json = WRM.data.claim("jira.webresources:feature-flags.feature-flag-data");
    var systemEnabledFeatures = (json && json["enabled-feature-keys"]) || [];
    var featureFlagStates = (json && json["feature-flag-states"]) || {};

    var contains = function (arr, target) {
        return arr.indexOf(target) !== -1;
    };

    /**
     * Checks if the given feature is enabled. If no feature flag is defined with
     * the given feature key, this will fall-back to the default feature manager behaviour (like AJS.DarkFeatures.isEnabled(..))
     * @param featureKey a String, usually of the form "my.feature.key" (NOT "my.feature.key.enabled" or "my.feature.key.disabled")
     * @returns {boolean}
     */
    exports.isFeatureEnabled = function(featureKey){
        var flagState = featureFlagStates[featureKey];

        if(flagState === true){
            // Feature flag is in enabled state, check for (featureKey + ".disabled") to tell us otherwise
            var isSystemNegated = contains(systemEnabledFeatures, featureKey + ".disabled");
            return !isSystemNegated;
        }
        else if(flagState === false){
            // Disabled state, remain disabled unless (featureKey + ".enabled") is present
            var isSystemEnabled = contains(systemEnabledFeatures, featureKey + ".enabled");
            return isSystemEnabled;
        }
        else {
            // There is no flag defined with the given key, fall-back to what the system features say
            return contains(systemEnabledFeatures, featureKey);
        }
    };
});;
;
/* module-key = 'jira.webresources:general-configuration', location = '/includes/jira/general-configuration/Settings.js' */
JIRA.Settings={};JIRA.Settings.ApplicationTitle={get:function(){return AJS.Meta.get("app-title")}};;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'soy/aui.soy' */
// This file was automatically generated from aui.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.
 */

if (typeof aui == 'undefined') { var aui = {}; }


aui.renderExtraAttributes = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  var output = '';
  if (opt_data.extraAttributes) {
    if (Object.prototype.toString.call(opt_data.extraAttributes) === '[object Object]') {
      var attrList7 = soy.$$getMapKeys(opt_data.extraAttributes);
      var attrListLen7 = attrList7.length;
      for (var attrIndex7 = 0; attrIndex7 < attrListLen7; attrIndex7++) {
        var attrData7 = attrList7[attrIndex7];
        output += ' ' + soy.$$escapeHtml(attrData7) + '="' + soy.$$escapeHtml(opt_data.extraAttributes[attrData7]) + '"';
      }
    } else {
      output += ' ' + soy.$$filterNoAutoescape(opt_data.extraAttributes);
    }
  }
  return output;
};
if (goog.DEBUG) {
  aui.renderExtraAttributes.soyTemplateName = 'aui.renderExtraAttributes';
}


aui.renderExtraClasses = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  var output = '';
  if (opt_data.extraClasses) {
    if ((opt_data.extraClasses) instanceof Array) {
      var classList23 = opt_data.extraClasses;
      var classListLen23 = classList23.length;
      for (var classIndex23 = 0; classIndex23 < classListLen23; classIndex23++) {
        var classData23 = classList23[classIndex23];
        output += ' ' + soy.$$escapeHtml(classData23);
      }
    } else {
      output += ' ' + soy.$$escapeHtml(opt_data.extraClasses);
    }
  }
  return output;
};
if (goog.DEBUG) {
  aui.renderExtraClasses.soyTemplateName = 'aui.renderExtraClasses';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'soy/badges.soy' */
// This file was automatically generated from badges.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.badges.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.badges == 'undefined') { aui.badges = {}; }


aui.badges.badge = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'span') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-badge' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$escapeHtml(opt_data.text) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'span') + '>';
};
if (goog.DEBUG) {
  aui.badges.badge.soyTemplateName = 'aui.badges.badge';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'soy/buttons.soy' */
// This file was automatically generated from buttons.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.buttons.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.buttons == 'undefined') { aui.buttons = {}; }


aui.buttons.button = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.href || opt_data.href == '') {
    output += '<a href="' + soy.$$escapeHtml(opt_data.href) + '"' + aui.buttons.buttonAttributes(soy.$$augmentMap(opt_data, {tagName: 'a'})) + '>' + aui.buttons.buttonIcon(opt_data) + ((opt_data.hasLabel) ? '<span class="aui-button-label">' : '') + soy.$$escapeHtml(opt_data.text) + ((opt_data.hasLabel) ? '</span>' : '') + '</a>';
  } else if (opt_data.tagName == 'input') {
    output += '<input type="' + soy.$$escapeHtml(opt_data.inputType ? opt_data.inputType : 'button') + '" ' + aui.buttons.buttonAttributes(opt_data) + ' value="' + soy.$$escapeHtml(opt_data.text) + '" />';
  } else {
    var theTagName__soy29 = opt_data.tagName ? opt_data.tagName : 'button';
    output += '<' + soy.$$escapeHtml(theTagName__soy29) + aui.buttons.buttonAttributes(soy.$$augmentMap(opt_data, {tagName: theTagName__soy29})) + '>' + aui.buttons.buttonIcon(opt_data) + ((opt_data.hasLabel) ? '<span class="aui-button-label">' : '') + soy.$$escapeHtml(opt_data.text) + ((opt_data.hasLabel) ? '</span>' : '') + '</' + soy.$$escapeHtml(theTagName__soy29) + '>';
  }
  return output;
};
if (goog.DEBUG) {
  aui.buttons.button.soyTemplateName = 'aui.buttons.button';
}


aui.buttons.buttons = function(opt_data, opt_ignored) {
  return '<div' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-buttons' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</div>';
};
if (goog.DEBUG) {
  aui.buttons.buttons.soyTemplateName = 'aui.buttons.buttons';
}


aui.buttons.buttonAttributes = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  var output = ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-button' + ((opt_data.splitButtonType == 'main') ? ' aui-button-split-main' : '') + ((opt_data.dropdown2Target) ? ' aui-dropdown2-trigger' + ((opt_data.splitButtonType == 'more') ? ' aui-button-split-more' : '') : '');
  switch (opt_data.type) {
    case 'primary':
      output += ' aui-button-primary';
      break;
    case 'link':
      output += ' aui-button-link';
      break;
    case 'subtle':
      output += ' aui-button-subtle';
      break;
  }
  output += aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + ((opt_data.isPressed) ? ' aria-pressed="' + soy.$$escapeHtml(opt_data.isPressed) + '"' : '') + ((opt_data.isDisabled) ? ' aria-disabled="' + soy.$$escapeHtml(opt_data.isDisabled) + '"' + ((opt_data.isDisabled == true) ? (opt_data.tagName == 'button' || opt_data.tagName == 'input') ? ' disabled="disabled" ' : '' : '') : '') + ((opt_data.dropdown2Target) ? ' aria-owns="' + soy.$$escapeHtml(opt_data.dropdown2Target) + '" aria-haspopup="true"' : '') + ((opt_data.tagName == 'a') ? ' tabindex="0"' : '');
  return output;
};
if (goog.DEBUG) {
  aui.buttons.buttonAttributes.soyTemplateName = 'aui.buttons.buttonAttributes';
}


aui.buttons.buttonIcon = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '' + ((opt_data.iconType) ? '<span class="' + ((opt_data.iconType == 'aui') ? 'aui-icon' : '') + ((opt_data.iconClass) ? ' ' + soy.$$escapeHtml(opt_data.iconClass) : '') + '">' + ((opt_data.iconText) ? soy.$$escapeHtml(opt_data.iconText) + ' ' : '') + '</span>' : '');
};
if (goog.DEBUG) {
  aui.buttons.buttonIcon.soyTemplateName = 'aui.buttons.buttonIcon';
}


aui.buttons.splitButton = function(opt_data, opt_ignored) {
  return '' + aui.buttons.button(soy.$$augmentMap(opt_data.splitButtonMain, {splitButtonType: 'main'})) + aui.buttons.button(soy.$$augmentMap(opt_data.splitButtonMore, {splitButtonType: 'more'}));
};
if (goog.DEBUG) {
  aui.buttons.splitButton.soyTemplateName = 'aui.buttons.splitButton';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'soy/dropdown.soy' */
// This file was automatically generated from dropdown.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.dropdown.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.dropdown == 'undefined') { aui.dropdown = {}; }


aui.dropdown.trigger = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<a' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-dd-trigger' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '><span class="dropdown-text">' + ((opt_data.accessibilityText) ? soy.$$escapeHtml(opt_data.accessibilityText) : '') + '</span>' + ((! (opt_data.showIcon == false)) ? '<span class="icon icon-dropdown"></span>' : '') + '</a>';
};
if (goog.DEBUG) {
  aui.dropdown.trigger.soyTemplateName = 'aui.dropdown.trigger';
}


aui.dropdown.menu = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'ul') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-dropdown hidden' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'ul') + '>';
};
if (goog.DEBUG) {
  aui.dropdown.menu.soyTemplateName = 'aui.dropdown.menu';
}


aui.dropdown.parent = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-dd-parent' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + '>';
};
if (goog.DEBUG) {
  aui.dropdown.parent.soyTemplateName = 'aui.dropdown.parent';
}


aui.dropdown.item = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'li') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="dropdown-item' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '><a href="' + soy.$$escapeHtml(opt_data.url ? opt_data.url : '#') + '">' + soy.$$escapeHtml(opt_data.text) + '</a></' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'li') + '>';
};
if (goog.DEBUG) {
  aui.dropdown.item.soyTemplateName = 'aui.dropdown.item';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'soy/dropdown2.soy' */
// This file was automatically generated from dropdown2.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.dropdown2.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.dropdown2 == 'undefined') { aui.dropdown2 = {}; }


aui.dropdown2.dropdown2 = function(opt_data, opt_ignored) {
  return '' + aui.dropdown2.trigger(soy.$$augmentMap(opt_data.trigger, {menu: opt_data.menu})) + aui.dropdown2.contents(opt_data.menu);
};
if (goog.DEBUG) {
  aui.dropdown2.dropdown2.soyTemplateName = 'aui.dropdown2.dropdown2';
}


aui.dropdown2.trigger = function(opt_data, opt_ignored) {
  return '' + aui.trigger.trigger(soy.$$augmentMap(opt_data, {extraClasses: 'aui-dropdown2-trigger' + aui.renderExtraClasses(opt_data)}));
};
if (goog.DEBUG) {
  aui.dropdown2.trigger.soyTemplateName = 'aui.dropdown2.trigger';
}


aui.dropdown2.contents = function(opt_data, opt_ignored) {
  return '<div id="' + soy.$$escapeHtml(opt_data.id) + '" class="aui-dropdown2' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.content) ? soy.$$filterNoAutoescape(opt_data.content) : '') + '</div>';
};
if (goog.DEBUG) {
  aui.dropdown2.contents.soyTemplateName = 'aui.dropdown2.contents';
}


aui.dropdown2.section = function(opt_data, opt_ignored) {
  return '<div' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-dropdown2-section' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.label) ? '<strong>' + soy.$$escapeHtml(opt_data.label) + '</strong>' : '') + soy.$$filterNoAutoescape(opt_data.content) + '</div>';
};
if (goog.DEBUG) {
  aui.dropdown2.section.soyTemplateName = 'aui.dropdown2.section';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'soy/form.soy' */
// This file was automatically generated from form.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.form.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.form == 'undefined') { aui.form = {}; }


aui.form.form = function(opt_data, opt_ignored) {
  return '<form' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui' + ((opt_data.isUnsectioned) ? ' unsectioned' : '') + ((opt_data.isLongLabels) ? ' long-label' : '') + ((opt_data.isTopLabels) ? ' top-label' : '') + aui.renderExtraClasses(opt_data) + '" action="' + soy.$$escapeHtml(opt_data.action) + '" method="' + soy.$$escapeHtml(opt_data.method ? opt_data.method : 'post') + '"' + ((opt_data.enctype) ? ' enctype="' + soy.$$escapeHtml(opt_data.enctype) + '"' : '') + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</form>';
};
if (goog.DEBUG) {
  aui.form.form.soyTemplateName = 'aui.form.form';
}


aui.form.formDescription = function(opt_data, opt_ignored) {
  return '<div' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="field-group' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</div>';
};
if (goog.DEBUG) {
  aui.form.formDescription.soyTemplateName = 'aui.form.formDescription';
}


aui.form.fieldset = function(opt_data, opt_ignored) {
  var output = '';
  var hasClass__soy51 = opt_data.isInline || opt_data.isDateSelect || opt_data.isGroup || opt_data.extraClasses;
  output += '<fieldset' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ((hasClass__soy51) ? ' class="' + soy.$$escapeHtml(opt_data.isInline ? 'inline' : opt_data.isDateSelect ? 'date-select' : opt_data.isGroup ? 'group' : '') + aui.renderExtraClasses(opt_data) + '"' : '') + aui.renderExtraAttributes(opt_data) + '><legend><span>' + soy.$$filterNoAutoescape(opt_data.legendContent) + '</span></legend>' + soy.$$filterNoAutoescape(opt_data.content) + '</fieldset>';
  return output;
};
if (goog.DEBUG) {
  aui.form.fieldset.soyTemplateName = 'aui.form.fieldset';
}


aui.form.fieldGroup = function(opt_data, opt_ignored) {
  return '<div' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="field-group' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</div>';
};
if (goog.DEBUG) {
  aui.form.fieldGroup.soyTemplateName = 'aui.form.fieldGroup';
}


aui.form.buttons = function(opt_data, opt_ignored) {
  return '<div class="buttons-container' + ((opt_data.alignment) ? ' ' + soy.$$escapeHtml(opt_data.alignment) : '') + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '><div class="buttons">' + soy.$$filterNoAutoescape(opt_data.content) + '</div></div>';
};
if (goog.DEBUG) {
  aui.form.buttons.soyTemplateName = 'aui.form.buttons';
}


aui.form.label = function(opt_data, opt_ignored) {
  return '<label' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ((opt_data.forField) ? ' for="' + soy.$$escapeHtml(opt_data.forField) + '"' : '') + ((opt_data.extraClasses) ? ' class="' + aui.renderExtraClasses(opt_data) + '"' : '') + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + ((opt_data.isRequired) ? '<span class="aui-icon icon-required"></span>' : '') + '</label>';
};
if (goog.DEBUG) {
  aui.form.label.soyTemplateName = 'aui.form.label';
}


aui.form.input = function(opt_data, opt_ignored) {
  var output = '';
  var baseType__soy126 = '';
  switch (opt_data.type) {
    case 'password':
    case 'email':
    case 'url':
    case 'tel':
    case 'search':
      baseType__soy126 += 'text';
      break;
    case 'submit':
    case 'reset':
      baseType__soy126 += 'button';
      break;
    default:
      baseType__soy126 += soy.$$escapeHtml(opt_data.type);
  }
  output += '<input class="' + soy.$$escapeHtml(baseType__soy126) + aui.renderExtraClasses(opt_data) + ((opt_data.icon && baseType__soy126 == 'text') ? ' aui-field-has-icon' : '') + '" type="' + soy.$$escapeHtml(opt_data.type) + '" name="' + ((opt_data.name) ? soy.$$escapeHtml(opt_data.name) : soy.$$escapeHtml(opt_data.id)) + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ((opt_data.value) ? ' value="' + soy.$$escapeHtml(opt_data.value) + '"' : '') + (((opt_data.type == 'checkbox' || opt_data.type == 'radio') && opt_data.isChecked) ? ' checked="checked"' : '') + ((baseType__soy126 == 'text' && opt_data.type != 'password' && opt_data.maxLength) ? ' maxlength="' + soy.$$escapeHtml(opt_data.maxLength) + '"' : '') + ((baseType__soy126 == 'text' && opt_data.type != 'password' && opt_data.size) ? ' size="' + soy.$$escapeHtml(opt_data.size) + '"' : '') + ((baseType__soy126 == 'text' && opt_data.placeholderText) ? ' placeholder="' + soy.$$escapeHtml(opt_data.placeholderText) + '"' : '') + ((baseType__soy126 == 'text' && opt_data.autocomplete) ? ' autocomplete="' + soy.$$escapeHtml(opt_data.autocomplete) + '"' : '') + ((opt_data.isDisabled) ? ' disabled' : '') + ((opt_data.isAutofocus) ? ' autofocus' : '') + aui.renderExtraAttributes(opt_data) + aui.form.renderValidationArguments(opt_data) + aui.form.renderInfoMessage(opt_data) + aui.form.renderFieldComponentAttribute(opt_data) + aui.form.renderTooltipArguments(opt_data) + '/>' + ((opt_data.icon && baseType__soy126 == 'text') ? aui.icons.icon({icon: opt_data.icon, useIconFont: true, size: 'small'}) : '');
  return output;
};
if (goog.DEBUG) {
  aui.form.input.soyTemplateName = 'aui.form.input';
}


aui.form.renderValidationArguments = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  var output = '';
  if (opt_data.validationArguments) {
    var argumentList203 = soy.$$getMapKeys(opt_data.validationArguments);
    var argumentListLen203 = argumentList203.length;
    for (var argumentIndex203 = 0; argumentIndex203 < argumentListLen203; argumentIndex203++) {
      var argumentData203 = argumentList203[argumentIndex203];
      output += ' ' + soy.$$escapeHtml('data-aui-validation-' + argumentData203) + '="' + soy.$$escapeHtml(opt_data.validationArguments[argumentData203]) + '"';
    }
  }
  return output;
};
if (goog.DEBUG) {
  aui.form.renderValidationArguments.soyTemplateName = 'aui.form.renderValidationArguments';
}


aui.form.renderTooltipArguments = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  var output = '';
  if (opt_data.tooltipArguments) {
    var argumentList213 = soy.$$getMapKeys(opt_data.tooltipArguments);
    var argumentListLen213 = argumentList213.length;
    for (var argumentIndex213 = 0; argumentIndex213 < argumentListLen213; argumentIndex213++) {
      var argumentData213 = argumentList213[argumentIndex213];
      output += ' ' + soy.$$escapeHtml('data-aui-notification-' + argumentData213) + '="' + soy.$$escapeHtml(opt_data.tooltipArguments[argumentData213]) + '"';
    }
  }
  return output;
};
if (goog.DEBUG) {
  aui.form.renderTooltipArguments.soyTemplateName = 'aui.form.renderTooltipArguments';
}


aui.form.renderInfoMessage = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '' + ((opt_data.infoMessage) ? ' data-aui-notification-info="' + soy.$$escapeHtml(opt_data.infoMessage) + '"' : '');
};
if (goog.DEBUG) {
  aui.form.renderInfoMessage.soyTemplateName = 'aui.form.renderInfoMessage';
}


aui.form.renderFieldComponentAttribute = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '' + ((opt_data.infoMessage) ? ' data-aui-notification-field' : '') + ((opt_data.validationArguments) ? ' data-aui-validation-field' : '');
};
if (goog.DEBUG) {
  aui.form.renderFieldComponentAttribute.soyTemplateName = 'aui.form.renderFieldComponentAttribute';
}


aui.form.submit = function(opt_data, opt_ignored) {
  return '' + aui.form.button(soy.$$augmentMap(opt_data, {tagName: 'input', inputType: 'submit'}));
};
if (goog.DEBUG) {
  aui.form.submit.soyTemplateName = 'aui.form.submit';
}


aui.form.button = function(opt_data, opt_ignored) {
  return '' + aui.buttons.button(soy.$$augmentMap(opt_data, {extraClasses: opt_data.extraClasses, extraAttributes: '' + ((opt_data.name) ? 'name="' + soy.$$escapeHtml(opt_data.name) + '"' : '') + aui.renderExtraAttributes(opt_data)}));
};
if (goog.DEBUG) {
  aui.form.button.soyTemplateName = 'aui.form.button';
}


aui.form.linkButton = function(opt_data, opt_ignored) {
  return '' + aui.buttons.button(soy.$$augmentMap(opt_data, {tagName: 'a', type: 'link', href: opt_data.href ? opt_data.href : opt_data.url, extraClasses: 'cancel' + aui.renderExtraClasses(opt_data), extraAttributes: '' + ((opt_data.name) ? 'name="' + soy.$$escapeHtml(opt_data.name) + '"' : '') + aui.renderExtraAttributes(opt_data)}));
};
if (goog.DEBUG) {
  aui.form.linkButton.soyTemplateName = 'aui.form.linkButton';
}


aui.form.textarea = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<textarea name="' + ((opt_data.name) ? soy.$$escapeHtml(opt_data.name) : soy.$$escapeHtml(opt_data.id)) + '" class="textarea' + aui.renderExtraClasses(opt_data) + ' ' + ((opt_data.icon) ? 'aui-field-has-icon' : '') + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ((opt_data.rows) ? ' rows="' + soy.$$escapeHtml(opt_data.rows) + '"' : '') + ((opt_data.cols) ? ' cols="' + soy.$$escapeHtml(opt_data.cols) + '"' : '') + ((opt_data.autocomplete) ? ' autocomplete="' + soy.$$escapeHtml(opt_data.autocomplete) + '"' : '') + ((opt_data.isDisabled) ? ' disabled' : '') + ((opt_data.isAutofocus) ? ' autofocus' : '') + ((opt_data.placeholderText) ? ' placeholder="' + soy.$$escapeHtml(opt_data.placeholderText) + '"' : '') + aui.renderExtraAttributes(opt_data) + aui.form.renderValidationArguments(opt_data) + aui.form.renderInfoMessage(opt_data) + aui.form.renderFieldComponentAttribute(opt_data) + aui.form.renderTooltipArguments(opt_data) + '>' + ((opt_data.value) ? soy.$$escapeHtml(opt_data.value) : '') + '</textarea>' + ((opt_data.icon) ? aui.icons.icon({icon: opt_data.icon, useIconFont: true, size: 'small'}) : '');
};
if (goog.DEBUG) {
  aui.form.textarea.soyTemplateName = 'aui.form.textarea';
}


aui.form.select = function(opt_data, opt_ignored) {
  var output = '<select' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' name="' + ((opt_data.name) ? soy.$$escapeHtml(opt_data.name) : soy.$$escapeHtml(opt_data.id)) + '" class="' + soy.$$escapeHtml(opt_data.isMultiple ? 'multi-select' : 'select') + aui.renderExtraClasses(opt_data) + '"' + ((opt_data.size) ? ' size="' + soy.$$escapeHtml(opt_data.size) + '"' : '') + ((opt_data.isDisabled) ? ' disabled' : '') + ((opt_data.isAutofocus) ? ' autofocus' : '') + ((opt_data.isMultiple) ? ' multiple' : '') + aui.renderExtraAttributes(opt_data) + aui.form.renderValidationArguments(opt_data) + aui.form.renderInfoMessage(opt_data) + aui.form.renderFieldComponentAttribute(opt_data) + aui.form.renderTooltipArguments(opt_data) + '>';
  var optionList367 = opt_data.options;
  var optionListLen367 = optionList367.length;
  for (var optionIndex367 = 0; optionIndex367 < optionListLen367; optionIndex367++) {
    var optionData367 = optionList367[optionIndex367];
    output += aui.form.optionOrOptgroup(soy.$$augmentMap(optionData367, {defaultValue: opt_data.value}));
  }
  output += '</select>';
  return output;
};
if (goog.DEBUG) {
  aui.form.select.soyTemplateName = 'aui.form.select';
}


aui.form.optionOrOptgroup = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.options) {
    output += '<optgroup label="' + soy.$$escapeHtml(opt_data.text) + '"' + ((opt_data.disabled) ? ' disabled' : '') + '>';
    var optionList382 = opt_data.options;
    var optionListLen382 = optionList382.length;
    for (var optionIndex382 = 0; optionIndex382 < optionListLen382; optionIndex382++) {
      var optionData382 = optionList382[optionIndex382];
      output += aui.form.optionOrOptgroup(soy.$$augmentMap(optionData382, {defaultValue: opt_data.defaultValue}));
    }
    output += '</optgroup>';
  } else {
    output += '<option value="' + soy.$$escapeHtml(opt_data.value) + '"' + ((opt_data.selected || opt_data.defaultValue == opt_data.value) ? ' selected' : '') + ((opt_data.disabled) ? ' disabled' : '') + '>' + soy.$$escapeHtml(opt_data.text) + '</option>';
  }
  return output;
};
if (goog.DEBUG) {
  aui.form.optionOrOptgroup.soyTemplateName = 'aui.form.optionOrOptgroup';
}


aui.form.value = function(opt_data, opt_ignored) {
  return '<span' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="field-value' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</span>';
};
if (goog.DEBUG) {
  aui.form.value.soyTemplateName = 'aui.form.value';
}


aui.form.field = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  var output = '';
  var isCheckboxOrRadio__soy416 = opt_data.type == 'checkbox' || opt_data.type == 'radio';
  var fieldWidthClass__soy417 = opt_data.fieldWidth ? opt_data.fieldWidth + '-field ' : '';
  var fieldClasses__soy418 = fieldWidthClass__soy417 + (opt_data.extraFieldClasses ? opt_data.extraFieldClasses : '');
  output += '<div class="' + ((isCheckboxOrRadio__soy416) ? soy.$$escapeHtml(opt_data.type) : 'field-group') + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.labelContent && ! isCheckboxOrRadio__soy416) ? aui.form.label({forField: opt_data.id, isRequired: opt_data.isRequired, content: opt_data.labelContent}) : '');
  switch (opt_data.type) {
    case 'textarea':
      output += aui.form.textarea({id: opt_data.id, name: opt_data.name, value: opt_data.value, rows: opt_data.rows, cols: opt_data.cols, autocomplete: opt_data.autocomplete, placeholderText: opt_data.placeholderText, isDisabled: opt_data.isDisabled ? true : false, isAutofocus: opt_data.isAutofocus, extraClasses: fieldClasses__soy418, icon: opt_data.icon, validationArguments: opt_data.validationArguments, infoMessage: opt_data.infoMessage, tooltipArguments: opt_data.tooltipArguments});
      break;
    case 'select':
      output += aui.form.select({id: opt_data.id, name: opt_data.name, value: opt_data.value, options: opt_data.options, isMultiple: opt_data.isMultiple, size: opt_data.size, isDisabled: opt_data.isDisabled ? true : false, isAutofocus: opt_data.isAutofocus, extraClasses: fieldClasses__soy418, validationArguments: opt_data.validationArguments, infoMessage: opt_data.infoMessage, tooltipArguments: opt_data.tooltipArguments});
      break;
    case 'value':
      output += aui.form.value({id: opt_data.id, content: '' + soy.$$escapeHtml(opt_data.value), extraClasses: fieldClasses__soy418});
      break;
    case 'text':
    case 'password':
    case 'email':
    case 'url':
    case 'tel':
    case 'search':
    case 'file':
    case 'radio':
    case 'checkbox':
    case 'button':
    case 'submit':
    case 'reset':
      output += aui.form.input({id: opt_data.id, name: opt_data.name, type: opt_data.type, value: opt_data.value, maxLength: opt_data.maxLength, size: opt_data.size, autocomplete: opt_data.autocomplete, placeholderText: opt_data.placeholderText, isChecked: opt_data.isChecked, isDisabled: opt_data.isDisabled ? true : false, isAutofocus: opt_data.isAutofocus, extraClasses: fieldClasses__soy418, icon: opt_data.icon, validationArguments: opt_data.validationArguments, infoMessage: opt_data.infoMessage, tooltipArguments: opt_data.tooltipArguments});
      break;
  }
  output += ((opt_data.labelContent && isCheckboxOrRadio__soy416) ? aui.form.label({forField: opt_data.id, isRequired: opt_data.isRequired, content: opt_data.labelContent}) : '') + ((opt_data.descriptionText || opt_data.descriptionContent) ? aui.form.fieldDescription({text: opt_data.descriptionText, content: opt_data.descriptionContent}) : '');
  if (opt_data.errorTexts) {
    var errorList504 = opt_data.errorTexts;
    var errorListLen504 = errorList504.length;
    for (var errorIndex504 = 0; errorIndex504 < errorListLen504; errorIndex504++) {
      var errorData504 = errorList504[errorIndex504];
      output += aui.form.fieldError({message: errorData504});
    }
  }
  output += '</div>';
  return output;
};
if (goog.DEBUG) {
  aui.form.field.soyTemplateName = 'aui.form.field';
}


aui.form.fieldError = function(opt_data, opt_ignored) {
  return '<div class="error' + aui.renderExtraClasses(opt_data) + '">' + soy.$$escapeHtml(opt_data.message) + '</div>';
};
if (goog.DEBUG) {
  aui.form.fieldError.soyTemplateName = 'aui.form.fieldError';
}


aui.form.fieldDescription = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<div class="description' + aui.renderExtraClasses(opt_data) + '">' + ((opt_data.text) ? soy.$$escapeHtml(opt_data.text) : (opt_data.message) ? soy.$$escapeHtml(opt_data.message) : soy.$$filterNoAutoescape(opt_data.content)) + '</div>';
};
if (goog.DEBUG) {
  aui.form.fieldDescription.soyTemplateName = 'aui.form.fieldDescription';
}


aui.form.textField = function(opt_data, opt_ignored) {
  return '' + aui.form.field(soy.$$augmentMap(opt_data, {type: 'text'}));
};
if (goog.DEBUG) {
  aui.form.textField.soyTemplateName = 'aui.form.textField';
}


aui.form.textareaField = function(opt_data, opt_ignored) {
  return '' + aui.form.field(soy.$$augmentMap(opt_data, {type: 'textarea'}));
};
if (goog.DEBUG) {
  aui.form.textareaField.soyTemplateName = 'aui.form.textareaField';
}


aui.form.passwordField = function(opt_data, opt_ignored) {
  return '' + aui.form.field(soy.$$augmentMap(opt_data, {type: 'password'}));
};
if (goog.DEBUG) {
  aui.form.passwordField.soyTemplateName = 'aui.form.passwordField';
}


aui.form.fileField = function(opt_data, opt_ignored) {
  return '' + aui.form.field(soy.$$augmentMap(opt_data, {type: 'file'}));
};
if (goog.DEBUG) {
  aui.form.fileField.soyTemplateName = 'aui.form.fileField';
}


aui.form.selectField = function(opt_data, opt_ignored) {
  return '' + aui.form.field(soy.$$augmentMap(opt_data, {type: 'select'}));
};
if (goog.DEBUG) {
  aui.form.selectField.soyTemplateName = 'aui.form.selectField';
}


aui.form.checkboxField = function(opt_data, opt_ignored) {
  var param549 = '' + ((opt_data.isMatrix) ? '<div class="matrix">' : '');
  var fieldList553 = opt_data.fields;
  var fieldListLen553 = fieldList553.length;
  for (var fieldIndex553 = 0; fieldIndex553 < fieldListLen553; fieldIndex553++) {
    var fieldData553 = fieldList553[fieldIndex553];
    param549 += aui.form.field(soy.$$augmentMap(fieldData553, {type: 'checkbox', labelContent: '' + soy.$$escapeHtml(fieldData553.labelText), extraFieldClasses: opt_data.extraFieldClasses}));
  }
  param549 += ((opt_data.isMatrix) ? '</div>' : '') + ((opt_data.descriptionText || opt_data.descriptionContent || opt_data.errorTexts && opt_data.errorTexts.length) ? aui.form.field({descriptionText: opt_data.descriptionText, descriptionContent: opt_data.descriptionContent, errorTexts: opt_data.errorTexts, isDisabled: false}) : '');
  var output = '' + aui.form.fieldset({legendContent: opt_data.legendContent + (opt_data.isRequired ? '<span class="aui-icon icon-required"></span>' : ''), isGroup: true, id: opt_data.id, extraClasses: opt_data.extraClasses, extraAttributes: opt_data.extraAttributes, content: param549});
  return output;
};
if (goog.DEBUG) {
  aui.form.checkboxField.soyTemplateName = 'aui.form.checkboxField';
}


aui.form.radioField = function(opt_data, opt_ignored) {
  var param577 = '' + ((opt_data.isMatrix) ? '<div class="matrix">' : '');
  var fieldList581 = opt_data.fields;
  var fieldListLen581 = fieldList581.length;
  for (var fieldIndex581 = 0; fieldIndex581 < fieldListLen581; fieldIndex581++) {
    var fieldData581 = fieldList581[fieldIndex581];
    param577 += aui.form.field(soy.$$augmentMap(fieldData581, {type: 'radio', name: opt_data.name ? opt_data.name : opt_data.id, labelContent: '' + soy.$$escapeHtml(fieldData581.labelText), extraFieldClasses: opt_data.extraFieldClasses}));
  }
  param577 += ((opt_data.isMatrix) ? '</div>' : '') + ((opt_data.descriptionText || opt_data.descriptionContent || opt_data.errorTexts && opt_data.errorTexts.length) ? aui.form.field({descriptionText: opt_data.descriptionText, descriptionContent: opt_data.descriptionContent, errorTexts: opt_data.errorTexts, isDisabled: false}) : '');
  var output = '' + aui.form.fieldset({legendContent: opt_data.legendContent + (opt_data.isRequired ? '<span class="aui-icon icon-required"></span>' : ''), isGroup: true, id: opt_data.id, extraClasses: opt_data.extraClasses, extraAttributes: opt_data.extraAttributes, content: param577});
  return output;
};
if (goog.DEBUG) {
  aui.form.radioField.soyTemplateName = 'aui.form.radioField';
}


aui.form.valueField = function(opt_data, opt_ignored) {
  return '' + aui.form.field(soy.$$augmentMap(opt_data, {type: 'value'}));
};
if (goog.DEBUG) {
  aui.form.valueField.soyTemplateName = 'aui.form.valueField';
}


aui.form.emailField = function(opt_data, opt_ignored) {
  return '' + aui.form.field(soy.$$augmentMap(opt_data, {type: 'email'}));
};
if (goog.DEBUG) {
  aui.form.emailField.soyTemplateName = 'aui.form.emailField';
}


aui.form.urlField = function(opt_data, opt_ignored) {
  return '' + aui.form.field(soy.$$augmentMap(opt_data, {type: 'url'}));
};
if (goog.DEBUG) {
  aui.form.urlField.soyTemplateName = 'aui.form.urlField';
}


aui.form.telephoneField = function(opt_data, opt_ignored) {
  return '' + aui.form.field(soy.$$augmentMap(opt_data, {type: 'tel'}));
};
if (goog.DEBUG) {
  aui.form.telephoneField.soyTemplateName = 'aui.form.telephoneField';
}


aui.form.searchField = function(opt_data, opt_ignored) {
  return '' + aui.form.field(soy.$$augmentMap(opt_data, {type: 'search'}));
};
if (goog.DEBUG) {
  aui.form.searchField.soyTemplateName = 'aui.form.searchField';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'soy/group.soy' */
// This file was automatically generated from group.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.group.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.group == 'undefined') { aui.group = {}; }


aui.group.group = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-group' + ((opt_data.isSplit) ? ' aui-group-split' : '') + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + '>';
};
if (goog.DEBUG) {
  aui.group.group.soyTemplateName = 'aui.group.group';
}


aui.group.item = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-item' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + '>';
};
if (goog.DEBUG) {
  aui.group.item.soyTemplateName = 'aui.group.item';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'soy/labels.soy' */
// This file was automatically generated from labels.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.labels.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.labels == 'undefined') { aui.labels = {}; }


aui.labels.label = function(opt_data, opt_ignored) {
  return '' + ((opt_data.url && opt_data.isCloseable == true) ? '<span' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-label aui-label-closeable aui-label-split' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '><a class="aui-label-split-main" href="' + soy.$$escapeHtml(opt_data.url) + '">' + soy.$$escapeHtml(opt_data.text) + '</a><span class="aui-label-split-close" >' + aui.labels.closeIcon(opt_data) + '</span></span>' : '<' + soy.$$escapeHtml(opt_data.url ? 'a' : 'span') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-label' + ((opt_data.isCloseable) ? ' aui-label-closeable' : '') + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + ((opt_data.url) ? ' href="' + soy.$$escapeHtml(opt_data.url) + '"' : '') + '>' + soy.$$escapeHtml(opt_data.text) + ((opt_data.isCloseable) ? aui.labels.closeIcon(opt_data) : '') + '</' + soy.$$escapeHtml(opt_data.url ? 'a' : 'span') + '>');
};
if (goog.DEBUG) {
  aui.labels.label.soyTemplateName = 'aui.labels.label';
}


aui.labels.closeIcon = function(opt_data, opt_ignored) {
  return '<span tabindex="0" class="aui-icon aui-icon-close"' + ((opt_data.hasTitle != false) ? ' title="' + aui.labels.closeIconText(opt_data) + '"' : '') + '>' + aui.labels.closeIconText(opt_data) + '</span>';
};
if (goog.DEBUG) {
  aui.labels.closeIcon.soyTemplateName = 'aui.labels.closeIcon';
}


aui.labels.closeIconText = function(opt_data, opt_ignored) {
  return '' + ((opt_data.closeIconText) ? soy.$$escapeHtml(opt_data.closeIconText) : '(' + soy.$$escapeHtml("Remove") + ' ' + soy.$$escapeHtml(opt_data.text) + ')');
};
if (goog.DEBUG) {
  aui.labels.closeIconText.soyTemplateName = 'aui.labels.closeIconText';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'soy/message.soy' */
// This file was automatically generated from message.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.message.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.message == 'undefined') { aui.message = {}; }


aui.message.info = function(opt_data, opt_ignored) {
  return '' + aui.message.message(soy.$$augmentMap(opt_data, {type: 'info'}));
};
if (goog.DEBUG) {
  aui.message.info.soyTemplateName = 'aui.message.info';
}


aui.message.warning = function(opt_data, opt_ignored) {
  return '' + aui.message.message(soy.$$augmentMap(opt_data, {type: 'warning'}));
};
if (goog.DEBUG) {
  aui.message.warning.soyTemplateName = 'aui.message.warning';
}


aui.message.error = function(opt_data, opt_ignored) {
  return '' + aui.message.message(soy.$$augmentMap(opt_data, {type: 'error'}));
};
if (goog.DEBUG) {
  aui.message.error.soyTemplateName = 'aui.message.error';
}


aui.message.success = function(opt_data, opt_ignored) {
  return '' + aui.message.message(soy.$$augmentMap(opt_data, {type: 'success'}));
};
if (goog.DEBUG) {
  aui.message.success.soyTemplateName = 'aui.message.success';
}


aui.message.hint = function(opt_data, opt_ignored) {
  return '' + aui.message.message(soy.$$augmentMap(opt_data, {type: 'hint'}));
};
if (goog.DEBUG) {
  aui.message.hint.soyTemplateName = 'aui.message.hint';
}


aui.message.generic = function(opt_data, opt_ignored) {
  return '' + aui.message.message(soy.$$augmentMap(opt_data, {type: 'generic'}));
};
if (goog.DEBUG) {
  aui.message.generic.soyTemplateName = 'aui.message.generic';
}


aui.message.message = function(opt_data, opt_ignored) {
  var output = '';
  var theTagName__soy21 = opt_data.tagName ? opt_data.tagName : 'div';
  var theType__soy22 = opt_data.type ? opt_data.type : 'generic';
  output += '<' + soy.$$escapeHtml(theTagName__soy21) + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-message aui-message-' + soy.$$escapeHtml(theType__soy22) + ' ' + soy.$$escapeHtml(theType__soy22) + ((opt_data.isCloseable) ? ' closeable' : '') + ((opt_data.isShadowed) ? ' shadowed' : '') + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.titleContent) ? '<p class="title"><strong>' + soy.$$filterNoAutoescape(opt_data.titleContent) + '</strong></p>' : '') + soy.$$filterNoAutoescape(opt_data.content) + ((opt_data.isCloseable) ? '<span class="aui-icon icon-close" role="button" tabindex="0"></span>' : '') + '</' + soy.$$escapeHtml(theTagName__soy21) + '>';
  return output;
};
if (goog.DEBUG) {
  aui.message.message.soyTemplateName = 'aui.message.message';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'soy/page.soy' */
// This file was automatically generated from page.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.page.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.page == 'undefined') { aui.page = {}; }


aui.page.document = function(opt_data, opt_ignored, opt_ijData) {
  return '<!DOCTYPE html><html lang="' + soy.$$escapeHtml(opt_ijData.language ? opt_ijData.language : 'en') + '">' + aui.page.documentHTMLContent(opt_data, null, opt_ijData) + '</html>';
};
if (goog.DEBUG) {
  aui.page.document.soyTemplateName = 'aui.page.document';
}


aui.page.documentHTMLContent = function(opt_data, opt_ignored, opt_ijData) {
  var output = '';
  var thePageSize__soy9 = opt_data.pageSize ? opt_data.pageSize : opt_data.focusedPageSize ? opt_data.focusedPageSize : 'xlarge';
  output += '<head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>' + soy.$$escapeHtml(opt_data.windowTitle) + '</title>' + ((opt_data.headContent) ? soy.$$filterNoAutoescape(opt_data.headContent) : '') + '</head><body' + ((opt_data.pageType) ? (opt_data.pageType == 'generic') ? (opt_data.extraClasses) ? ' class="' + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' : '' : (opt_data.pageType == 'focused') ? ' class="aui-page-focused aui-page-focused-' + soy.$$escapeHtml(thePageSize__soy9) + ' aui-page-size-' + soy.$$escapeHtml(thePageSize__soy9) + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' : (opt_data.pageType == 'notification') ? ' class="aui-page-notification aui-page-size-' + soy.$$escapeHtml(thePageSize__soy9) + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' : (opt_data.pageType == 'sidebar') ? ' class="aui-page-sidebar' + soy.$$escapeHtml(opt_data.sidebarState ? ' aui-sidebar-' + opt_data.sidebarState : '') + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' : ' class="aui-page-' + soy.$$escapeHtml(opt_data.pageType) + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' : ' class="' + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"') + aui.renderExtraAttributes(opt_data, null, opt_ijData) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</body>';
  return output;
};
if (goog.DEBUG) {
  aui.page.documentHTMLContent.soyTemplateName = 'aui.page.documentHTMLContent';
}


aui.page.page = function(opt_data, opt_ignored, opt_ijData) {
  return '<div id="page"><header id="header" role="banner">' + soy.$$filterNoAutoescape(opt_data.headerContent) + '</header><!-- #header --><section id="content" role="main">' + soy.$$filterNoAutoescape(opt_data.contentContent) + '</section><!-- #content --><footer id="footer" role="contentinfo">' + soy.$$filterNoAutoescape(opt_data.footerContent) + '</footer><!-- #footer --></div><!-- #page -->';
};
if (goog.DEBUG) {
  aui.page.page.soyTemplateName = 'aui.page.page';
}


aui.page.header = function(opt_data, opt_ignored, opt_ijData) {
  return ((opt_data.bannerContent) ? '<div class="aui-banner aui-banner-error" role="banner">' + soy.$$filterNoAutoescape(opt_data.bannerContent) + '</div>' : '') + '<nav' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-header aui-dropdown2-trigger-group' + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' + aui.renderExtraAttributes(opt_data, null, opt_ijData) + ' role="navigation"><div class="aui-header-inner">' + ((opt_data.headerBeforeContent) ? '<div class="aui-header-before">' + soy.$$filterNoAutoescape(opt_data.headerBeforeContent) + '</div>' : '') + '<div class="aui-header-primary"><h1 id="logo" class="aui-header-logo' + ((opt_data.headerLogoImageUrl) ? ' aui-header-logo-custom' : (opt_data.logo) ? ' aui-header-logo-' + soy.$$escapeHtml(opt_data.logo) : '') + '"><a href="' + soy.$$escapeHtml(opt_data.headerLink ? opt_data.headerLink : '/') + '">' + ((opt_data.headerLogoImageUrl) ? '<img src="' + soy.$$escapeHtml(opt_data.headerLogoImageUrl) + '" alt="' + soy.$$escapeHtml(opt_data.headerLogoText) + '" />' : '<span class="aui-header-logo-device">' + soy.$$escapeHtml(opt_data.headerLogoText ? opt_data.headerLogoText : '') + '</span>') + ((opt_data.headerText) ? '<span class="aui-header-logo-text">' + soy.$$escapeHtml(opt_data.headerText) + '</span>' : '') + '</a></h1>' + ((opt_data.primaryNavContent) ? soy.$$filterNoAutoescape(opt_data.primaryNavContent) : '') + '</div>' + ((opt_data.secondaryNavContent) ? '<div class="aui-header-secondary">' + soy.$$filterNoAutoescape(opt_data.secondaryNavContent) + '</div>' : '') + ((opt_data.headerAfterContent) ? '<div class="aui-header-after">' + soy.$$filterNoAutoescape(opt_data.headerAfterContent) + '</div>' : '') + '</div><!-- .aui-header-inner--></nav><!-- .aui-header -->';
};
if (goog.DEBUG) {
  aui.page.header.soyTemplateName = 'aui.page.header';
}


aui.page.pagePanel = function(opt_data, opt_ignored, opt_ijData) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + ' class="aui-page-panel' + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + aui.renderExtraAttributes(opt_data, null, opt_ijData) + '><div class="aui-page-panel-inner">' + soy.$$filterNoAutoescape(opt_data.content) + '</div><!-- .aui-page-panel-inner --></' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + '><!-- .aui-page-panel -->';
};
if (goog.DEBUG) {
  aui.page.pagePanel.soyTemplateName = 'aui.page.pagePanel';
}


aui.page.pagePanelNav = function(opt_data, opt_ignored, opt_ijData) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + ' class="aui-page-panel-nav' + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + aui.renderExtraAttributes(opt_data, null, opt_ijData) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + '><!-- .aui-page-panel-nav -->';
};
if (goog.DEBUG) {
  aui.page.pagePanelNav.soyTemplateName = 'aui.page.pagePanelNav';
}


aui.page.pagePanelContent = function(opt_data, opt_ignored, opt_ijData) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'section') + ' class="aui-page-panel-content' + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + aui.renderExtraAttributes(opt_data, null, opt_ijData) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'section') + '><!-- .aui-page-panel-content -->';
};
if (goog.DEBUG) {
  aui.page.pagePanelContent.soyTemplateName = 'aui.page.pagePanelContent';
}


aui.page.pagePanelSidebar = function(opt_data, opt_ignored, opt_ijData) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'aside') + ' class="aui-page-panel-sidebar' + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + aui.renderExtraAttributes(opt_data, null, opt_ijData) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'aside') + '><!-- .aui-page-panel-sidebar -->';
};
if (goog.DEBUG) {
  aui.page.pagePanelSidebar.soyTemplateName = 'aui.page.pagePanelSidebar';
}


aui.page.pagePanelItem = function(opt_data, opt_ignored, opt_ijData) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'section') + ' class="aui-page-panel-item' + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + aui.renderExtraAttributes(opt_data, null, opt_ijData) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'section') + '><!-- .aui-page-panel-item -->';
};
if (goog.DEBUG) {
  aui.page.pagePanelItem.soyTemplateName = 'aui.page.pagePanelItem';
}


aui.page.pageHeader = function(opt_data, opt_ignored, opt_ijData) {
  return '<header class="aui-page-header' + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + aui.renderExtraAttributes(opt_data, null, opt_ijData) + '><div class="aui-page-header-inner">' + soy.$$filterNoAutoescape(opt_data.content) + '</div><!-- .aui-page-header-inner --></header><!-- .aui-page-header -->';
};
if (goog.DEBUG) {
  aui.page.pageHeader.soyTemplateName = 'aui.page.pageHeader';
}


aui.page.pageHeaderImage = function(opt_data, opt_ignored, opt_ijData) {
  return '<div class="aui-page-header-image' + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + aui.renderExtraAttributes(opt_data, null, opt_ijData) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</div><!-- .aui-page-header-image -->';
};
if (goog.DEBUG) {
  aui.page.pageHeaderImage.soyTemplateName = 'aui.page.pageHeaderImage';
}


aui.page.pageHeaderMain = function(opt_data, opt_ignored, opt_ijData) {
  return '<div class="aui-page-header-main' + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + aui.renderExtraAttributes(opt_data, null, opt_ijData) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</div><!-- .aui-page-header-main -->';
};
if (goog.DEBUG) {
  aui.page.pageHeaderMain.soyTemplateName = 'aui.page.pageHeaderMain';
}


aui.page.pageHeaderActions = function(opt_data, opt_ignored, opt_ijData) {
  return '<div class="aui-page-header-actions' + aui.renderExtraClasses(opt_data, null, opt_ijData) + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + aui.renderExtraAttributes(opt_data, null, opt_ijData) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</div><!-- .aui-page-header-actions -->';
};
if (goog.DEBUG) {
  aui.page.pageHeaderActions.soyTemplateName = 'aui.page.pageHeaderActions';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'soy/panel.soy' */
// This file was automatically generated from panel.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.
 */

if (typeof aui == 'undefined') { var aui = {}; }


aui.panel = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-panel' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + '>';
};
if (goog.DEBUG) {
  aui.panel.soyTemplateName = 'aui.panel';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'soy/table.soy' */
// This file was automatically generated from table.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.
 */

if (typeof aui == 'undefined') { var aui = {}; }


aui.table = function(opt_data, opt_ignored) {
  return '<table' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.columnsContent) ? soy.$$filterNoAutoescape(opt_data.columnsContent) : '') + ((opt_data.captionContent) ? '<caption>' + soy.$$filterNoAutoescape(opt_data.captionContent) + '</caption>' : '') + ((opt_data.theadContent) ? '<thead>' + soy.$$filterNoAutoescape(opt_data.theadContent) + '</thead>' : '') + ((opt_data.tfootContent) ? '<tfoot>' + soy.$$filterNoAutoescape(opt_data.tfootContent) + '</tfoot>' : '') + ((! opt_data.contentIncludesTbody) ? '<tbody>' : '') + soy.$$filterNoAutoescape(opt_data.content) + ((! opt_data.contentIncludesTbody) ? '</tbody>' : '') + '</table>';
};
if (goog.DEBUG) {
  aui.table.soyTemplateName = 'aui.table';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'soy/tabs.soy' */
// This file was automatically generated from tabs.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.
 */

if (typeof aui == 'undefined') { var aui = {}; }


aui.tabs = function(opt_data, opt_ignored) {
  var output = '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-tabs ' + soy.$$escapeHtml(opt_data.isVertical ? 'vertical-tabs' : 'horizontal-tabs') + ((opt_data.isDisabled) ? ' aui-tabs-disabled' : '') + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '><ul class="tabs-menu">';
  var itemList19 = opt_data.menuItems;
  var itemListLen19 = itemList19.length;
  for (var itemIndex19 = 0; itemIndex19 < itemListLen19; itemIndex19++) {
    var itemData19 = itemList19[itemIndex19];
    output += aui.tabMenuItem(itemData19);
  }
  output += '</ul>' + soy.$$filterNoAutoescape(opt_data.paneContent) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + '>';
  return output;
};
if (goog.DEBUG) {
  aui.tabs.soyTemplateName = 'aui.tabs';
}


aui.tabMenuItem = function(opt_data, opt_ignored) {
  return '<li' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="menu-item' + ((opt_data.isActive) ? ' active-tab' : '') + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '><a href="' + soy.$$escapeHtml(opt_data.url) + '"><strong>' + soy.$$escapeHtml(opt_data.text) + '</strong></a></li>';
};
if (goog.DEBUG) {
  aui.tabMenuItem.soyTemplateName = 'aui.tabMenuItem';
}


aui.tabPane = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="tabs-pane' + ((opt_data.isActive) ? ' active-pane' : '') + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + '>';
};
if (goog.DEBUG) {
  aui.tabPane.soyTemplateName = 'aui.tabPane';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'soy/trigger.soy' */
// This file was automatically generated from trigger.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.trigger.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.trigger == 'undefined') { aui.trigger = {}; }


aui.trigger.trigger = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'a') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="' + aui.renderExtraClasses(opt_data) + '" aria-owns="' + soy.$$escapeHtml(opt_data.menu.id) + '" aria-controls="' + soy.$$escapeHtml(opt_data.menu.id) + '" aria-haspopup="true"' + ((opt_data.title) ? ' title="' + soy.$$escapeHtml(opt_data.title) + '"' : '') + ((opt_data.container) ? ' data-container="' + soy.$$escapeHtml(opt_data.container) + '"' : '') + (((! opt_data.tagName || opt_data.tagName == 'a') && (! opt_data.extraAttributes || Object.prototype.toString.call(opt_data.extraAttributes) === '[object Object]' && ! opt_data.extraAttributes.href && ! opt_data.extraAttributes.tabindex)) ? ' tabindex="0"' : '') + ' data-aui-trigger' + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.content) ? soy.$$filterNoAutoescape(opt_data.content) : '') + ((opt_data.text) ? soy.$$escapeHtml(opt_data.text) : '') + ((! (opt_data.showIcon == false)) ? '<span class="icon ' + soy.$$escapeHtml(opt_data.iconClasses ? opt_data.iconClasses : 'aui-icon-dropdown') + '">' + ((opt_data.iconText) ? soy.$$escapeHtml(opt_data.iconText) : '') + '</span>' : '') + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'a') + '>';
};
if (goog.DEBUG) {
  aui.trigger.trigger.soyTemplateName = 'aui.trigger.trigger';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'soy/toolbar.soy' */
// This file was automatically generated from toolbar.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.toolbar.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.toolbar == 'undefined') { aui.toolbar = {}; }


aui.toolbar.toolbar = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-toolbar' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + '>';
};
if (goog.DEBUG) {
  aui.toolbar.toolbar.soyTemplateName = 'aui.toolbar.toolbar';
}


aui.toolbar.split = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="toolbar-split toolbar-split-' + soy.$$escapeHtml(opt_data.split) + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + '>';
};
if (goog.DEBUG) {
  aui.toolbar.split.soyTemplateName = 'aui.toolbar.split';
}


aui.toolbar.group = function(opt_data, opt_ignored) {
  return '<ul' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="toolbar-group' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</ul>';
};
if (goog.DEBUG) {
  aui.toolbar.group.soyTemplateName = 'aui.toolbar.group';
}


aui.toolbar.item = function(opt_data, opt_ignored) {
  return '<li ' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="toolbar-item' + ((opt_data.isPrimary) ? ' primary' : '') + ((opt_data.isActive) ? ' active' : '') + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</li>';
};
if (goog.DEBUG) {
  aui.toolbar.item.soyTemplateName = 'aui.toolbar.item';
}


aui.toolbar.trigger = function(opt_data, opt_ignored) {
  return '<a' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="toolbar-trigger' + aui.renderExtraClasses(opt_data) + '" href="' + soy.$$escapeHtml(opt_data.url ? opt_data.url : '#') + '"' + ((opt_data.title) ? ' title="' + soy.$$escapeHtml(opt_data.title) + '"' : '') + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</a>';
};
if (goog.DEBUG) {
  aui.toolbar.trigger.soyTemplateName = 'aui.toolbar.trigger';
}


aui.toolbar.button = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '' + aui.toolbar.item({isActive: opt_data.isActive, isPrimary: opt_data.isPrimary, id: opt_data.id, extraClasses: opt_data.extraClasses, extraAttributes: opt_data.extraAttributes, content: '' + aui.toolbar.trigger({url: opt_data.url, title: opt_data.title, content: '' + ((opt_data.iconClass) ? '<span class="icon ' + soy.$$escapeHtml(opt_data.iconClass) + '"></span>' : '') + ((opt_data.text) ? '<span class="trigger-text">' + soy.$$escapeHtml(opt_data.text) + '</span>' : '')})});
};
if (goog.DEBUG) {
  aui.toolbar.button.soyTemplateName = 'aui.toolbar.button';
}


aui.toolbar.link = function(opt_data, opt_ignored) {
  return '' + aui.toolbar.item({id: opt_data.id, extraClasses: 'toolbar-item-link' + aui.renderExtraClasses(opt_data), extraAttributes: opt_data.extraAttributes, content: '' + aui.toolbar.trigger({url: opt_data.url, content: '' + soy.$$escapeHtml(opt_data.text)})});
};
if (goog.DEBUG) {
  aui.toolbar.link.soyTemplateName = 'aui.toolbar.link';
}


aui.toolbar.dropdownInternal = function(opt_data, opt_ignored) {
  return '' + aui.toolbar.item({isPrimary: opt_data.isPrimary, id: opt_data.id, extraClasses: '' + soy.$$filterNoAutoescape(opt_data.itemClass) + aui.renderExtraClasses(opt_data), extraAttributes: opt_data.extraAttributes, content: '' + ((opt_data.splitButtonContent) ? soy.$$filterNoAutoescape(opt_data.splitButtonContent) : '') + aui.dropdown.parent({content: '' + aui.dropdown.trigger({extraClasses: 'toolbar-trigger', accessibilityText: opt_data.text}) + aui.dropdown.menu({content: opt_data.dropdownItemsContent})})});
};
if (goog.DEBUG) {
  aui.toolbar.dropdownInternal.soyTemplateName = 'aui.toolbar.dropdownInternal';
}


aui.toolbar.dropdown = function(opt_data, opt_ignored) {
  return '' + aui.toolbar.dropdownInternal({isPrimary: opt_data.isPrimary, id: opt_data.id, itemClass: 'toolbar-dropdown', extraClasses: opt_data.extraClasses, extraAttributes: opt_data.extraAttributes, text: opt_data.text, dropdownItemsContent: opt_data.dropdownItemsContent});
};
if (goog.DEBUG) {
  aui.toolbar.dropdown.soyTemplateName = 'aui.toolbar.dropdown';
}


aui.toolbar.splitButton = function(opt_data, opt_ignored) {
  return '' + aui.toolbar.dropdownInternal({isPrimary: opt_data.isPrimary, id: opt_data.id, itemClass: 'toolbar-splitbutton', extraClasses: opt_data.extraClasses, extraAttributes: opt_data.extraAttributes, dropdownItemsContent: opt_data.dropdownItemsContent, splitButtonContent: '' + aui.toolbar.trigger({url: opt_data.url, content: '' + soy.$$escapeHtml(opt_data.text)})});
};
if (goog.DEBUG) {
  aui.toolbar.splitButton.soyTemplateName = 'aui.toolbar.splitButton';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'soy/toolbar2.soy' */
// This file was automatically generated from toolbar2.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.toolbar2.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.toolbar2 == 'undefined') { aui.toolbar2 = {}; }


aui.toolbar2.toolbar2 = function(opt_data, opt_ignored) {
  return '<div' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-toolbar2' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + ' role="toolbar"><div class="aui-toolbar2-inner">' + soy.$$filterNoAutoescape(opt_data.content) + '</div></div>';
};
if (goog.DEBUG) {
  aui.toolbar2.toolbar2.soyTemplateName = 'aui.toolbar2.toolbar2';
}


aui.toolbar2.item = function(opt_data, opt_ignored) {
  return '<div' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-toolbar2-' + soy.$$escapeHtml(opt_data.item) + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</div>';
};
if (goog.DEBUG) {
  aui.toolbar2.item.soyTemplateName = 'aui.toolbar2.item';
}


aui.toolbar2.group = function(opt_data, opt_ignored) {
  return '<div' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-toolbar2-group' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + soy.$$filterNoAutoescape(opt_data.content) + '</div>';
};
if (goog.DEBUG) {
  aui.toolbar2.group.soyTemplateName = 'aui.toolbar2.group';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'soy/progress-tracker.soy' */
// This file was automatically generated from progress-tracker.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.progressTracker.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.progressTracker == 'undefined') { aui.progressTracker = {}; }


aui.progressTracker.progressTracker = function(opt_data, opt_ignored) {
  var output = '<ol' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-progress-tracker' + ((opt_data.isInverted) ? ' aui-progress-tracker-inverted' : '') + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>';
  var param18 = '';
  var currentStepList19 = opt_data.steps;
  var currentStepListLen19 = currentStepList19.length;
  for (var currentStepIndex19 = 0; currentStepIndex19 < currentStepListLen19; currentStepIndex19++) {
    var currentStepData19 = currentStepList19[currentStepIndex19];
    if (currentStepData19['isCurrent']) {
      var stepList22 = opt_data.steps;
      var stepListLen22 = stepList22.length;
      for (var stepIndex22 = 0; stepIndex22 < stepListLen22; stepIndex22++) {
        var stepData22 = stepList22[stepIndex22];
        param18 += aui.progressTracker.step(soy.$$augmentMap(stepData22, {width: Math.round(100 / opt_data.steps.length * 10000) / 10000, href: stepIndex22 < currentStepIndex19 ? stepData22['href'] : null}));
      }
    }
  }
  output += aui.progressTracker.content({steps: opt_data.steps, content: param18});
  output += '</ol>';
  return output;
};
if (goog.DEBUG) {
  aui.progressTracker.progressTracker.soyTemplateName = 'aui.progressTracker.progressTracker';
}


aui.progressTracker.content = function(opt_data, opt_ignored) {
  var output = '';
  if (opt_data.content != '') {
    output += soy.$$filterNoAutoescape(opt_data.content);
  } else {
    var stepList36 = opt_data.steps;
    var stepListLen36 = stepList36.length;
    for (var stepIndex36 = 0; stepIndex36 < stepListLen36; stepIndex36++) {
      var stepData36 = stepList36[stepIndex36];
      output += aui.progressTracker.step(soy.$$augmentMap(stepData36, {isCurrent: stepIndex36 == 0, width: Math.round(100 / opt_data.steps.length * 10000) / 10000, href: null}));
    }
  }
  return output;
};
if (goog.DEBUG) {
  aui.progressTracker.content.soyTemplateName = 'aui.progressTracker.content';
}


aui.progressTracker.step = function(opt_data, opt_ignored) {
  return '<li' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-progress-tracker-step' + ((opt_data.isCurrent) ? ' aui-progress-tracker-step-current' : '') + aui.renderExtraClasses(opt_data) + '" style="width: ' + soy.$$escapeHtml(opt_data.width) + '%;"' + aui.renderExtraAttributes(opt_data) + '><' + soy.$$escapeHtml(opt_data.href ? 'a' : 'span') + ((opt_data.href) ? ' href="' + soy.$$escapeHtml(opt_data.href) + '"' : '') + '>' + soy.$$escapeHtml(opt_data.text) + '</' + soy.$$escapeHtml(opt_data.href ? 'a' : 'span') + '></li>';
};
if (goog.DEBUG) {
  aui.progressTracker.step.soyTemplateName = 'aui.progressTracker.step';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'soy/expander.soy' */
// This file was automatically generated from expander.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.expander.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.expander == 'undefined') { aui.expander = {}; }


aui.expander.content = function(opt_data, opt_ignored) {
  return '<div id="' + soy.$$escapeHtml(opt_data.id) + '" class="aui-expander-content' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + ((opt_data.initiallyExpanded) ? ' aria-expanded="' + soy.$$escapeHtml(opt_data.initiallyExpanded) + '"' : '') + '>' + ((opt_data.content) ? soy.$$filterNoAutoescape(opt_data.content) : '') + '</div>';
};
if (goog.DEBUG) {
  aui.expander.content.soyTemplateName = 'aui.expander.content';
}


aui.expander.trigger = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tag ? opt_data.tag : 'div') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ((opt_data.replaceText) ? ' data-replace-text="' + soy.$$escapeHtml(opt_data.replaceText) + '"' : '') + ((opt_data.replaceSelector) ? ' data-replace-selector="' + soy.$$escapeHtml(opt_data.replaceSelector) + '"' : '') + ' class="aui-expander-trigger' + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + ' aria-controls="' + soy.$$escapeHtml(opt_data.contentId) + '"' + ((opt_data.collapsible) ? ' data-collapsible="' + soy.$$escapeHtml(opt_data.collapsible) + '"' : '') + '>' + ((opt_data.content) ? soy.$$filterNoAutoescape(opt_data.content) : '') + '</' + soy.$$escapeHtml(opt_data.tag ? opt_data.tag : 'div') + '>';
};
if (goog.DEBUG) {
  aui.expander.trigger.soyTemplateName = 'aui.expander.trigger';
}


aui.expander.revealText = function(opt_data, opt_ignored) {
  return '' + aui.expander.content({id: opt_data.contentId, content: '' + soy.$$escapeHtml(opt_data.contentContent) + aui.expander.trigger({id: opt_data.triggerId, contentId: opt_data.contentId, tag: 'a', content: '<span class=\'reveal-text-trigger-text\'>Show more</span>', replaceSelector: '.reveal-text-trigger-text', replaceText: 'Show less', extraAttributes: opt_data.triggerExtraAttributes, extraClasses: ((opt_data.triggerExtraClasses) ? soy.$$escapeHtml(opt_data.triggerExtraClasses) + '  ' : '') + ' aui-expander-reveal-text'}), extraAttributes: opt_data.contentExtraAttributes, extraClasses: opt_data.contentExtraClasses});
};
if (goog.DEBUG) {
  aui.expander.revealText.soyTemplateName = 'aui.expander.revealText';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'soy/avatar.soy' */
// This file was automatically generated from avatar.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.avatar.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.avatar == 'undefined') { aui.avatar = {}; }


aui.avatar.avatar = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'span') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-avatar aui-avatar-' + soy.$$escapeHtml(opt_data.size) + soy.$$escapeHtml(opt_data.isProject ? ' aui-avatar-project' : '') + soy.$$escapeHtml(opt_data.badgeContent ? ' aui-avatar-badged' : '') + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '><span class="aui-avatar-inner"><img src="' + soy.$$escapeHtml(opt_data.avatarImageUrl) + '"' + ((opt_data.accessibilityText) ? ' alt="' + soy.$$escapeHtml(opt_data.accessibilityText) + '"' : '') + ((opt_data.title) ? ' title="' + soy.$$escapeHtml(opt_data.title) + '"' : '') + ((opt_data.imageClasses) ? ' class="' + soy.$$escapeHtml(opt_data.imageClasses) + '"' : '') + ' /></span>' + ((opt_data.badgeContent) ? soy.$$filterNoAutoescape(opt_data.badgeContent) : '') + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'span') + '>';
};
if (goog.DEBUG) {
  aui.avatar.avatar.soyTemplateName = 'aui.avatar.avatar';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'soy/icons.soy' */
// This file was automatically generated from icons.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.icons.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.icons == 'undefined') { aui.icons = {}; }


aui.icons.icon = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'span') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-icon' + ((opt_data.useIconFont) ? ' aui-icon-' + soy.$$escapeHtml(opt_data.size ? opt_data.size : 'small') : '') + ' aui' + soy.$$escapeHtml(opt_data.useIconFont ? '-iconfont' : '-icon') + soy.$$escapeHtml(opt_data.iconFontSet ? '-' + opt_data.iconFontSet : '') + '-' + soy.$$escapeHtml(opt_data.icon) + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.accessibilityText) ? soy.$$escapeHtml(opt_data.accessibilityText) : '') + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'span') + '>';
};
if (goog.DEBUG) {
  aui.icons.icon.soyTemplateName = 'aui.icons.icon';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'soy/lozenges.soy' */
// This file was automatically generated from lozenges.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.lozenges.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.lozenges == 'undefined') { aui.lozenges = {}; }


aui.lozenges.lozenge = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'span') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ((opt_data.title) ? ' title="' + soy.$$escapeHtml(opt_data.title) + '"' : '') + ' class="aui-lozenge' + soy.$$escapeHtml(opt_data.type ? ' aui-lozenge-' + opt_data.type : '') + soy.$$escapeHtml(opt_data.isSubtle ? ' aui-lozenge-subtle' : '') + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.maxLength) ? soy.$$truncate(soy.$$escapeHtml(opt_data.text), opt_data.maxLength, true) : soy.$$escapeHtml(opt_data.text)) + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'span') + '>';
};
if (goog.DEBUG) {
  aui.lozenges.lozenge.soyTemplateName = 'aui.lozenges.lozenge';
}
;
;
/* module-key = 'com.atlassian.auiplugin:aui-experimental-soy-templates', location = 'soy/sidebar.soy' */
// This file was automatically generated from sidebar.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.sidebar.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.sidebar == 'undefined') { aui.sidebar = {}; }


aui.sidebar.sidebar = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ((opt_data.state) ? ' aria-expanded="' + ((opt_data.state == 'collapsed') ? 'false' : 'true') + '"' : '') + ' class="aui-sidebar ' + ((opt_data.isAnimated) ? 'aui-is-animated' : '') + aui.renderExtraClasses(opt_data) + '" ' + ((opt_data.isResponsive == false) ? 'data-aui-responsive="false"' : '') + aui.renderExtraAttributes(opt_data) + '><div class="aui-sidebar-wrapper"><div class="aui-sidebar-body">' + soy.$$filterNoAutoescape(opt_data.headerContent) + soy.$$filterNoAutoescape(opt_data.content) + '</div><div class="aui-sidebar-footer">' + ((opt_data.footerContent) ? soy.$$filterNoAutoescape(opt_data.footerContent) : (opt_data.settingsButtonUrl && opt_data.settingsText) ? '<a href="' + soy.$$escapeHtml(opt_data.settingsButtonUrl) + '" class="aui-button aui-button-subtle aui-sidebar-settings-button' + ((opt_data.isSettingsButtonSelected) ? ' aui-sidebar-settings-selected' : '') + '" data-tooltip="' + soy.$$escapeHtml(opt_data.settingsTooltip ? opt_data.settingsTooltip : opt_data.settingsText) + '"><span class="aui-icon aui-icon-small aui-iconfont-configure"></span><span class="aui-button-label">' + soy.$$escapeHtml(opt_data.settingsText) + '</span></a>' : '') + '<a class="aui-button aui-button-subtle aui-sidebar-toggle aui-sidebar-footer-tipsy" data-tooltip="' + soy.$$escapeHtml("Expand sidebar ( [ )") + '" href="#"><span class="aui-icon aui-icon-small"></span></a></div>' + ((opt_data.isResizable) ? '<div class="aui-sidebar-handle"></div>' : '') + '</div></' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'div') + '>';
};
if (goog.DEBUG) {
  aui.sidebar.sidebar.soyTemplateName = 'aui.sidebar.sidebar';
}
;
;
/* module-key = 'jira.webresources:js-soy-templates', location = '/includes/templates/jira/links.soy' */
// This file was automatically generated from links.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Links.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Links == 'undefined') { JIRA.Templates.Links = {}; }


JIRA.Templates.Links.helpLinkFromHelpPath = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.Links.helpLink({isLocal: opt_data.helpPath.local, title: opt_data.helpPath.title, description: opt_data.helpPath.alt, url: opt_data.helpPath.url, fragmentIdentifier: '' + ((opt_data.fragmentIdentifier) ? soy.$$escapeHtml(opt_data.fragmentIdentifier) : '')});
};
if (goog.DEBUG) {
  JIRA.Templates.Links.helpLinkFromHelpPath.soyTemplateName = 'JIRA.Templates.Links.helpLinkFromHelpPath';
}


JIRA.Templates.Links.helpLink = function(opt_data, opt_ignored) {
  return '<a class="help-lnk' + ((opt_data.extraClasses) ? aui.renderExtraClasses(opt_data) : '') + '"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' href="' + soy.$$escapeHtml(opt_data.url) + ((opt_data.fragmentIdentifier) ? soy.$$escapeHtml(opt_data.fragmentIdentifier) : '') + '" title="' + ((opt_data.isLocal) ? AJS.format("Get local help about {0}",opt_data.title) : AJS.format("Get online help about {0}",opt_data.title)) + '" data-helplink="' + ((opt_data.isLocal) ? 'local' : 'online') + '"' + ((! opt_data.isLocal) ? ' target="_jirahelp"' : '') + aui.renderExtraAttributes(opt_data) + '><span class="aui-icon aui-icon-small aui-iconfont-help">' + ((opt_data.description) ? soy.$$escapeHtml(opt_data.description) : '') + '</span></a>';
};
if (goog.DEBUG) {
  JIRA.Templates.Links.helpLink.soyTemplateName = 'JIRA.Templates.Links.helpLink';
}


JIRA.Templates.Links.button = function(opt_data, opt_ignored) {
  return '' + aui.buttons.button(soy.$$augmentMap(opt_data, {tagName: 'a', extraAttributes: 'href="' + soy.$$escapeHtml(opt_data.url) + '"'}));
};
if (goog.DEBUG) {
  JIRA.Templates.Links.button.soyTemplateName = 'JIRA.Templates.Links.button';
}


JIRA.Templates.Links.basicHelpLink = function(opt_data, opt_ignored) {
  var output = '';
  var dataHelpLink__soy60 = opt_data.isLocal ? 'local' : 'online';
  var linkTarget__soy61 = opt_data.isLocal ? '_self' : '_jirahelp';
  var linkTitle__soy62 = opt_data.title != null ? opt_data.title : '';
  output += aui.buttons.button(soy.$$augmentMap(opt_data, {extraClasses: 'help-lnk', type: 'link', tagName: 'a', text: opt_data.desc, extraAttributes: {href: opt_data.url, title: linkTitle__soy62, target: linkTarget__soy61, 'data-helplink': dataHelpLink__soy60}}));
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Links.basicHelpLink.soyTemplateName = 'JIRA.Templates.Links.basicHelpLink';
}
;
;
/* module-key = 'jira.webresources:js-soy-templates', location = '/includes/templates/jira/header/pageHeader.soy' */
// This file was automatically generated from pageHeader.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Headers.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Headers == 'undefined') { JIRA.Templates.Headers = {}; }


JIRA.Templates.Headers.pageHeader = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'header') + ' class="aui-page-header"' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + '><div class="aui-page-header-inner">' + ((opt_data.imageContent) ? '<div class="aui-page-header-image">' + soy.$$filterNoAutoescape(opt_data.imageContent) + '</div>' : '') + '<div class="aui-page-header-main">' + soy.$$filterNoAutoescape(opt_data.mainContent) + '</div>' + ((opt_data.actionsContent || opt_data.helpContent) ? '<div class="aui-page-header-actions">' + ((opt_data.actionsContent) ? soy.$$filterNoAutoescape(opt_data.actionsContent) : '') + ((opt_data.helpContent) ? soy.$$filterNoAutoescape(opt_data.helpContent) : '') + '</div>' : '') + '</div></' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'header') + '>';
};
if (goog.DEBUG) {
  JIRA.Templates.Headers.pageHeader.soyTemplateName = 'JIRA.Templates.Headers.pageHeader';
}


JIRA.Templates.Headers.projectAvatar = function(opt_data, opt_ignored) {
  return '<span' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="aui-avatar aui-avatar-large aui-avatar-project' + ((opt_data.isSystemAvatar) ? ' jira-system-avatar' : '') + aui.renderExtraClasses(opt_data) + '"' + aui.renderExtraAttributes(opt_data) + '><span class="aui-avatar-inner"><img id="project-avatar" alt="' + soy.$$escapeHtml(AJS.format("Uploaded image for project: \x27\x27{0}\x27\x27",opt_data.avatarAlt)) + '" src="' + soy.$$filterNoAutoescape(opt_data.avatarUrl) + '" /></span>' + ((opt_data.projectTypeIcon) ? '<img src="data:image/svg+xml;base64,' + soy.$$escapeHtml(opt_data.projectTypeIcon) + '" class="jira-project-avatar-icon" />' : '') + '</span>';
};
if (goog.DEBUG) {
  JIRA.Templates.Headers.projectAvatar.soyTemplateName = 'JIRA.Templates.Headers.projectAvatar';
}
;
;
/* module-key = 'jira.webresources:js-soy-templates', location = '/includes/templates/jira/jiraDialogs.soy' */
// This file was automatically generated from jiraDialogs.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.JiraDialog.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.JiraDialog == 'undefined') { JIRA.Templates.JiraDialog = {}; }


JIRA.Templates.JiraDialog.dialogChrome = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.JiraDialog.abstractDialogChrome(opt_data);
};
if (goog.DEBUG) {
  JIRA.Templates.JiraDialog.dialogChrome.soyTemplateName = 'JIRA.Templates.JiraDialog.dialogChrome';
}


JIRA.Templates.JiraDialog.formDialogChrome = function(opt_data, opt_ignored) {
  return '' + JIRA.Templates.JiraDialog.abstractDialogChrome(opt_data);
};
if (goog.DEBUG) {
  JIRA.Templates.JiraDialog.formDialogChrome.soyTemplateName = 'JIRA.Templates.JiraDialog.formDialogChrome';
}


JIRA.Templates.JiraDialog.abstractDialogChrome = function(opt_data, opt_ignored) {
  return ((opt_data.titleText) ? '<div class="jira-dialog-heading"><h2>' + soy.$$escapeHtml(opt_data.titleText) + '</h2></div>' : '') + '<div class="jira-dialog-content">' + ((opt_data.formActionUrl) ? '<form class="aui" action="' + soy.$$escapeHtml(opt_data.formActionUrl) + '" method="' + ((opt_data.formMethod) ? soy.$$escapeHtml(opt_data.formMethod) : 'POST') + '"><div class="form-body">' + soy.$$filterNoAutoescape(opt_data.bodyContent) + '</div><div class="form-footer buttons-container">' + soy.$$filterNoAutoescape(opt_data.footerContent) + '</div></form>' : soy.$$filterNoAutoescape(opt_data.bodyContent) + ((opt_data.footerContent) ? '<div class="buttons-container">' + soy.$$filterNoAutoescape(opt_data.footerContent) + '</div>' : '')) + '</div>';
};
if (goog.DEBUG) {
  JIRA.Templates.JiraDialog.abstractDialogChrome.soyTemplateName = 'JIRA.Templates.JiraDialog.abstractDialogChrome';
}
;
;
/* module-key = 'jira.webresources:js-soy-templates', location = '/includes/jira/field/templates/statusCategoryField.soy' */
// This file was automatically generated from statusCategoryField.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Fields.Pickers.Statuses.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Fields == 'undefined') { JIRA.Templates.Fields = {}; }
if (typeof JIRA.Templates.Fields.Pickers == 'undefined') { JIRA.Templates.Fields.Pickers = {}; }
if (typeof JIRA.Templates.Fields.Pickers.Statuses == 'undefined') { JIRA.Templates.Fields.Pickers.Statuses = {}; }


JIRA.Templates.Fields.Pickers.Statuses.statusCategorySelectField = function(opt_data, opt_ignored) {
  var output = '<div class="field-group">' + aui.form.label({forField: opt_data.id, isRequired: true, content: "Category"}) + JIRA.Templates.Fields.Pickers.Statuses.statusCategorySelect(opt_data) + ((opt_data.statusCategoryHelpData) ? ' ' + JIRA.Templates.Links.helpLink(opt_data.statusCategoryHelpData) : '') + '<div class="description">';
  var new__soy14 = '<b>' + soy.$$escapeHtml("To Do") + '</b>';
  var inProgress__soy18 = '<b>' + soy.$$escapeHtml("In Progress") + '</b>';
  var done__soy22 = '<b>' + soy.$$escapeHtml("Done") + '</b>';
  output += soy.$$filterNoAutoescape(AJS.format("Helps identify where an issue is in its lifecycle. \x3cbr/\x3eIssues move from {0} to {1} when work starts on them, and later move to {2} when all work is complete.",new__soy14,inProgress__soy18,done__soy22)) + '</div>' + ((opt_data.errors && opt_data.errors.statusCategory) ? aui.form.fieldError({message: opt_data.errors.statusCategory}) : '') + '</div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Fields.Pickers.Statuses.statusCategorySelectField.soyTemplateName = 'JIRA.Templates.Fields.Pickers.Statuses.statusCategorySelectField';
}


JIRA.Templates.Fields.Pickers.Statuses.statusCategorySelect = function(opt_data, opt_ignored) {
  var output = '<select id="' + soy.$$escapeHtml(opt_data.id) + '" name="' + soy.$$escapeHtml(opt_data.id) + '" class="select">';
  var optionList40 = opt_data.statusCategoryOptions;
  var optionListLen40 = optionList40.length;
  for (var optionIndex40 = 0; optionIndex40 < optionListLen40; optionIndex40++) {
    var optionData40 = optionList40[optionIndex40];
    output += JIRA.Templates.Fields.Pickers.Statuses.statusCategoryOption(optionData40);
  }
  output += '</select>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.Fields.Pickers.Statuses.statusCategorySelect.soyTemplateName = 'JIRA.Templates.Fields.Pickers.Statuses.statusCategorySelect';
}


JIRA.Templates.Fields.Pickers.Statuses.statusCategoryOption = function(opt_data, opt_ignored) {
  return '<option value="' + soy.$$escapeHtml(opt_data.value) + '" data-key="' + soy.$$escapeHtml(opt_data.key) + '" data-color-name="' + soy.$$escapeHtml(opt_data.colorName) + '" data-sequence="' + soy.$$escapeHtml(opt_data.sequence) + '"' + ((opt_data.selected) ? ' selected' : '') + ((opt_data.isPlaceholder) ? ' data-placeholder="true"' : '') + '>' + soy.$$escapeHtml(opt_data.text) + '</option>';
};
if (goog.DEBUG) {
  JIRA.Templates.Fields.Pickers.Statuses.statusCategoryOption.soyTemplateName = 'JIRA.Templates.Fields.Pickers.Statuses.statusCategoryOption';
}
;
;
/* module-key = 'jira.webresources:page-loading-indicator', location = '/includes/jira/loading/Loading.js' */
define("jira/loading/loading",["jquery"],function($){var showTimer,animationTimer,_isVisible=false,_element;function getElement(){if(!_element){_element=$("<div />").addClass("jira-page-loading-indicator").css("zIndex",9999).appendTo("body")}return _element}function show(){var heightOfSprite=440,currentOffsetOfSprite=0;clearInterval(animationTimer);getElement().show();_isVisible=true;animationTimer=window.setInterval(function(){if(currentOffsetOfSprite===heightOfSprite){currentOffsetOfSprite=0}currentOffsetOfSprite=currentOffsetOfSprite+40;getElement().css("backgroundPosition","0 -"+currentOffsetOfSprite+"px")},50)}function hide(){getElement().hide();_isVisible=false}return{showLoadingIndicator:function(options){options||(options={});clearTimeout(showTimer);if(options.delay){showTimer=window.setTimeout(show,options.delay|0)}else{show()}},hideLoadingIndicator:function(){clearTimeout(showTimer);clearInterval(animationTimer);hide()},isVisible:function(){return _isVisible}}});AJS.namespace("JIRA.Loading",null,require("jira/loading/loading"));;
;
/* module-key = 'jira.webresources:jquery-plugin-textoverflow', location = '/includes/jquery/plugins/textoverflow/textOverflow.js' */
(function($){var style=document.documentElement.style,hasTextOverflow=("textOverflow" in style||"OTextOverflow" in style),rtrim=function(str){return str.replace(/\s+$/g,"")},domSplit=function(root,maxIndex,options){var index=0,result=[],domSplitAux=function(nodes){var i=0,tmp,clipIndex=0;if(index>maxIndex){return }for(i=0;i<nodes.length;i+=1){if(nodes[i].nodeType===1){tmp=nodes[i].cloneNode(false);result[result.length-1].appendChild(tmp);result.push(tmp);domSplitAux(nodes[i].childNodes);result.pop()}else{if(nodes[i].nodeType===3){if(index+nodes[i].length<maxIndex){result[result.length-1].appendChild(nodes[i].cloneNode(false))}else{tmp=nodes[i].cloneNode(false);clipIndex=maxIndex-index;if(options.wholeWord){clipIndex=Math.min(maxIndex-index,tmp.textContent.substring(0,maxIndex-index).lastIndexOf(" "))}tmp.textContent=options.trim?rtrim(tmp.textContent.substring(0,clipIndex)):tmp.textContent.substring(0,clipIndex);result[result.length-1].appendChild(tmp)}index+=nodes[i].length}else{result.appendChild(nodes[i].cloneNode(false))}}}};result.push(root.cloneNode(false));domSplitAux(root.childNodes);return $(result.pop().childNodes)};$.extend($.fn,{textOverflow:function(options){var o=$.extend({str:"&#x2026;",autoUpdate:false,trim:true,title:false,className:undefined,wholeWord:false},options);if(!hasTextOverflow){return this.each(function(){var element=$(this),clone=element.clone(),originalElement=element.clone(),originalText=element.text(),originalWidth=element.width(),low=0,mid=0,high=originalText.length,reflow=function(){if(originalWidth!==element.width()){element.replaceWith(originalElement);element=originalElement;originalElement=element.clone();element.textOverflow($.extend({},o,{autoUpdate:false}));originalWidth=element.width()}};element.after(clone.hide().css({"position":"absolute","width":"auto","overflow":"visible","max-width":"inherit","min-width":"inherit"}));if(clone.width()>originalWidth){while(low<high){mid=Math.floor(low+((high-low)/2));clone.empty().append(domSplit(originalElement.get(0),mid,o)).append(o.str);if(clone.width()<originalWidth){low=mid+1}else{high=mid}}if(low<originalText.length){element.empty().append(domSplit(originalElement.get(0),low-1,o)).append(o.str);if(o.title){element.attr("title",originalText)}if(o.className){element.addClass(o.className)}}}clone.remove();if(o.autoUpdate){setInterval(reflow,200)}})}else{return this}}})}(jQuery));;
;
/* module-key = 'jira.webresources:messages', location = '/includes/jira/common/messages.soy' */
// This file was automatically generated from messages.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }


JIRA.Templates.warningMsg = function(opt_data, opt_ignored) {
  return '<div class="aui-message warning ' + ((opt_data.closeable) ? 'closeable' : '') + '"><span class="aui-icon icon-warning"></span>' + soy.$$filterNoAutoescape(opt_data.msg) + ((opt_data.closeable) ? '<span class="aui-icon icon-close"></span>' : '') + '</div>';
};
if (goog.DEBUG) {
  JIRA.Templates.warningMsg.soyTemplateName = 'JIRA.Templates.warningMsg';
}


JIRA.Templates.successMsg = function(opt_data, opt_ignored) {
  return '<div class="aui-message success ' + ((opt_data.closeable) ? 'closeable' : '') + '"><span class="aui-icon icon-success"></span>' + soy.$$filterNoAutoescape(opt_data.msg) + ((opt_data.closeable) ? '<span class="aui-icon icon-close"></span>' : '') + '</div>';
};
if (goog.DEBUG) {
  JIRA.Templates.successMsg.soyTemplateName = 'JIRA.Templates.successMsg';
}


JIRA.Templates.errorMsg = function(opt_data, opt_ignored) {
  return '<div class="aui-message error ' + ((opt_data.closeable) ? 'closeable' : '') + '"><span class="aui-icon icon-error"></span>' + soy.$$filterNoAutoescape(opt_data.msg) + ((opt_data.closeable) ? '<span class="aui-icon icon-close"></span>' : '') + '</div>';
};
if (goog.DEBUG) {
  JIRA.Templates.errorMsg.soyTemplateName = 'JIRA.Templates.errorMsg';
}


JIRA.Templates.infoMsg = function(opt_data, opt_ignored) {
  return '<div class="aui-message info ' + ((opt_data.closeable) ? 'closeable' : '') + '"><span class="aui-icon icon-info"></span>' + soy.$$filterNoAutoescape(opt_data.msg) + ((opt_data.closeable) ? '<span class="aui-icon icon-close"></span>' : '') + '</div>';
};
if (goog.DEBUG) {
  JIRA.Templates.infoMsg.soyTemplateName = 'JIRA.Templates.infoMsg';
}
;
;
/* module-key = 'jira.webresources:messages', location = '/includes/jira/common/flag.js' */
define("jira/flag",["aui/flag","jira/ajs/ajax/smart-ajax","underscore","jquery","wrm/data","wrm/context-path"],function(flag,smartAjax,_,$,wrmData,contextPath){var defaults={type:"info",title:"",body:""};var typeDefaults={"success":{close:"auto"}};var claimDismissedFlags=_.once(function(){var dismissedData=wrmData.claim("com.atlassian.jira.jira-header-plugin:dismissedFlags.flags")||{};return dismissedData.dismissed||[]});function storeFlagInSession(flag){var dismissed=getFlagsInSession();if(!_.contains(dismissed,flag)){dismissed.push(flag);sessionStorage.setItem("dismissedFlags",JSON.stringify(dismissed))}}function removeFlagFromSession(flag){var dismissed=_.without(getFlagsInSession(),flag);sessionStorage.setItem("dismissedFlags",JSON.stringify(dismissed))}function getFlagsInSession(){return JSON.parse(sessionStorage.getItem("dismissedFlags"))||[]}function getDismissedFlags(){return _.union(claimDismissedFlags(),getFlagsInSession())}function dismiss(flag){storeFlagInSession(flag);smartAjax.makeRequest({type:"PUT",url:contextPath()+"/rest/flags/1.0/flags/"+encodeURIComponent(flag)+"/dismiss"}).done(function(){removeFlagFromSession(flag)}).always(function(){JIRA.trace("flag.dismiss.finished:"+flag)})}function showMsg(title,body,options){options=options||{};var settings=_.extend({},defaults,typeDefaults[options.type],options,{title:title?title:"",body:body?body:""});var dismissalKey=settings.dismissalKey;if(dismissalKey&&_.contains(getDismissedFlags(),dismissalKey)){return false}var displayedFlag=flag(settings);if(dismissalKey){displayedFlag.dismiss=function(){dismiss(dismissalKey)};displayedFlag.addEventListener("aui-flag-close",displayedFlag.dismiss)}else{displayedFlag.dismiss=function(){}}var $title=$(displayedFlag).find(".title");if($.trim($title.text())===""){$title.remove()}return displayedFlag}function showErrorMsg(title,body,options){return showMsg(title,body,_.extend({},options,{type:"error"}))}function showWarningMsg(title,body,options){return showMsg(title,body,_.extend({},options,{type:"warning"}))}function showSuccessMsg(title,body,options){return showMsg(title,body,_.extend({},options,{type:"success"}))}function showMessages(messages){messages.forEach(function(message){showMsg(message.title,message.htmlMessage,{close:message.auiClosingPolicy,type:message.auiMessageType})})}var initialFlagsInSession=getFlagsInSession();setTimeout(function(){_.each(initialFlagsInSession,dismiss)},1000);return{showMsg:showMsg,showMessages:showMessages,showInfoMsg:showMsg,showErrorMsg:showErrorMsg,showWarningMsg:showWarningMsg,showSuccessMsg:showSuccessMsg}});;
;
/* module-key = 'jira.webresources:messages', location = '/includes/jira/common/messages.js' */
define("jira/message-types",{WARNING:JIRA.Templates.warningMsg,ERROR:JIRA.Templates.errorMsg,SUCCESS:JIRA.Templates.successMsg});define("jira/message",["jira/flag","jquery","jira/message-types","jira/data/local-storage"],function(flag,jQuery,Templates,store){var DefaultTimeout=10;function buildMsg(msg,options){options=options||{};var html=options.type({msg:msg,closeable:options.closeable});var $container=jQuery("<div>").html(html);var timeout=options.timeout!=null?options.timeout:DefaultTimeout;var timer;if(options.closeable){$container.find(".icon-close").click(function(e){e.preventDefault();if(timer!=null){window.clearTimeout(timer)}$container.remove()})}if(timeout>0){timer=window.setTimeout(function(){$container.fadeOut(function(){$container.remove()})},timeout*1000)}return $container}function showMessageAtTarget(msg,options){options=options||{};var $msg=buildMsg(msg,options);return $msg.prependTo(options.target)}var showMsgOnReload=(function(){var SESSION_MSG_KEY="jira.messages.reloadMessageMsg";var SESSION_MSG_TYPE_KEY="jira.messages.reloadMessageType";var SESSION_MSG_CLOSEABLE_KEY="jira.messages.reloadMessageCloseable";var SESSION_MSG_TARGET_KEY="jira.messages.reloadMessageTarget";jQuery(function(){var msg=store.getItem(SESSION_MSG_KEY),type,closeable,target;if(msg){type=store.getItem(SESSION_MSG_TYPE_KEY);closeable=store.getItem(SESSION_MSG_CLOSEABLE_KEY)==="true"||store.getItem(SESSION_MSG_CLOSEABLE_KEY)===true;target=store.getItem(SESSION_MSG_TARGET_KEY);store.removeItem(SESSION_MSG_KEY);store.removeItem(SESSION_MSG_TYPE_KEY);store.removeItem(SESSION_MSG_CLOSEABLE_KEY);store.removeItem(SESSION_MSG_TARGET_KEY);var messageTypes={WARNING:{soyTemplate:Templates.WARNING,auiType:"warning"},ERROR:{soyTemplate:Templates.ERROR,auiType:"error"},SUCCESS:{soyTemplate:Templates.SUCCESS,auiType:"success"}};if(!target||jQuery(target).is(document.body)){showMsg(msg,{type:messageTypes[type].auiType,closeable:closeable})}else{showMessageAtTarget(msg,{type:messageTypes[type].soyTemplate,closeable:closeable,target:jQuery(target)})}}});return function(msg,options){store.setItem(SESSION_MSG_KEY,msg);store.setItem(SESSION_MSG_TYPE_KEY,options.type);if(options.closeable){store.setItem(SESSION_MSG_CLOSEABLE_KEY,options.closeable)}if(options.target){store.setItem(SESSION_MSG_TARGET_KEY,options.target)}}})();function showReloadWarningMsg(msg,options){options=options||{};options.type="WARNING";return showMsgOnReload(msg,options)}function showReloadSuccessMsg(msg,options){options=options||{};options.type="SUCCESS";return showMsgOnReload(msg,options)}function showReloadErrorMsg(msg,options){options=options||{};options.type="ERROR";return showMsgOnReload(msg,options)}function showMsg(msg,options){var settings={};options=options||{};settings.type=options.type;if(typeof options.timeout==="undefined"){if(options.closeable===false){settings.close="auto"}}else{if(options.timeout>0){settings.close="auto"}else{if(options.closeable===false){settings.close="never"}else{settings.close="manual"}}}var createdFlag=jQuery(flag.showMsg("",msg,settings));if(options.id){createdFlag.attr("id",options.id)}return createdFlag}function showErrorMsg(msg,options){return showMsg(msg,jQuery.extend({},options,{type:"error"}))}function showWarningMsg(msg,options){return showMsg(msg,jQuery.extend({},options,{type:"warning"}))}function fadeInBackground(target,options){var $target=jQuery(target);options=options||{};$target.css("backgroundColor","#fff").animate({backgroundColor:options.backgroundColor||"#ffd"});window.setTimeout(function(){$target.animate({backgroundColor:"#fff"},"slow",function(){$target.css("backgroundColor","")})},3000)}var fadeInBackgroundOnReload=(function(){var BACKGROUND_COLOR_KEY="jira.messages.fadeInBackground.color",TARGET_KEY="jira.messages.fadeInBackground.target";jQuery(function(){var backgroundColor=store.getItem(BACKGROUND_COLOR_KEY),target=store.getItem(TARGET_KEY);store.removeItem(BACKGROUND_COLOR_KEY);store.removeItem(TARGET_KEY);fadeInBackground(target,{backgroundColor:backgroundColor})});return function(target,options){options=options||{};var targets=store.getItem(TARGET_KEY);if(targets){targets=targets.split(",");targets.push(target);targets=targets.join(",")}else{targets=target}store.setItem(TARGET_KEY,targets);store.setItem(BACKGROUND_COLOR_KEY,options.backgroundColor||"#ffd")}})();function showSuccessMsg(msg,options){return showMsg(msg,jQuery.extend({},options,{type:"success"}))}var exports={Types:Templates,DefaultTimeout:10,buildMsg:buildMsg,showMsg:showMsg,showMessageAtTarget:showMessageAtTarget,showMsgOnReload:showMsgOnReload,fadeInBackground:fadeInBackground,fadeInBackgroundOnReload:fadeInBackgroundOnReload,showErrorMsg:showErrorMsg,showWarningMsg:showWarningMsg,showSuccessMsg:showSuccessMsg,showReloadErrorMsg:showReloadErrorMsg,showReloadWarningMsg:showReloadWarningMsg,showReloadSuccessMsg:showReloadSuccessMsg};var deprecationOptions={removeInVersion:"8.0",alternativeName:"jira/flag",sinceVersion:"6.4"};AJS.deprecate.prop(exports,"showMsg",deprecationOptions);AJS.deprecate.prop(exports,"showErrorMsg",deprecationOptions);AJS.deprecate.prop(exports,"showWarningMsg",deprecationOptions);AJS.deprecate.prop(exports,"showSuccessMsg",deprecationOptions);return exports});AJS.namespace("JIRA.Messages",null,require("jira/message"));(function(){var Types=require("jira/message-types");var messages=require("jira/message");var jQuery=require("jquery");jQuery.fn.fadeInBackground=function(options){messages.fadeInBackground(this,options);return this};jQuery.fn.showErrorMsg=function(msg,options){options=options||{};options.target=this;options.type=Types.ERROR;return messages.showMessageAtTarget(msg,options)};jQuery.fn.showWarningMsg=function(msg,options){options=options||{};options.target=this;options.type=Types.WARNING;return messages.showMessageAtTarget(msg,options)};jQuery.fn.showSuccessMsg=function(msg,options){options=options||{};options.target=this;options.type=Types.SUCCESS;return messages.showMessageAtTarget(msg,options)}})();;
;
/* module-key = 'jira.webresources:jira-dialog-core', location = '/includes/jira/dialog/DialogFactory.js' */
define("jira/dialog/dialog-factory",{});;
;
/* module-key = 'jira.webresources:jira-dialog-core', location = '/includes/jira/dialog/DialogRegister.js' */
define("jira/dialog/dialog-register",{});;
;
/* module-key = 'jira.webresources:jira-dialog-core', location = '/includes/jira/dialog/Dialog.js' */
define("jira/dialog/dialog",["jira/ajs/control","jira/ajs/layer/inline-layer","jira/util/data/meta","jira/ajs/ajax/smart-ajax","jira/loading/loading","jira/xsrf","jira/util/browser","jira/util/events","jira/util/navigator","aui/dropdown","jquery","underscore","wrm/require"],function(Control,InlineLayer,Meta,SmartAjax,Loading,XSRF,Browser,Events,Navigator,AuiDropdown,jQuery,_,wrmRequire){var bindAJS=AJS.bind;var unbindAJS=AJS.unbind;var dimAJS=AJS.dim;var layerAJS=AJS.layer;var LayerManager=AJS.LayerManager.global;var Dialog=Control.extend({_getDefaultOptions:function(){return{height:"auto",cached:false,widthClass:"medium",modeless:false,ajaxOptions:{data:{inline:true,decorator:"dialog"}}}},init:function(options){if(typeof options==="string"||options instanceof jQuery){options={trigger:options}}else{if(options&&options.width){options.widthClass="custom"}}this.classNames=Dialog.ClassNames;this.OPEN_DIALOG_SELECTOR="."+this.classNames.DIALOG+"."+this.classNames.DIALOG_OPEN;this.options=jQuery.extend(true,this._getDefaultOptions(),options);this.options.width=Dialog.WIDTH_PRESETS[this.options.widthClass]||options.width;if(typeof this.options.content==="function"){this.options.type="builder"}else{if(this.options.content instanceof jQuery||(typeof this.options.content==="object"&&this.options.nodeName)){this.options.type="element"}else{if(!this.options.type&&!this.options.content||(typeof this.options.content==="object"&&this.options.content.url)){this.options.type="ajax"}}}if(this.options.trigger){var triggerArray=jQuery.makeArray(this.options.trigger);var instance=this;jQuery.each(triggerArray,function(index,trigger){instance._assignEvents("trigger",trigger)})}this.onContentReadyCallbacks=[];this._assignEvents("container",document);this.initModeless();this.defineResources();if(this.options.prefetchResources){this.downloadResources()}},initModeless:function(){this.options.modeless=!!this.options.modeless;if(this.options.modeless){if(false===this.options.windowTitle){this.options.windowTitle=document.title}this._temporarilyHidden=false;this._auiDialogShowHandler=this._auiDialogHandlers.hideTemporarily.bind(this);this._auiDialogHideHandler=this._auiDialogHandlers.restoreVisibility.bind(this);this._auiDialogRemoveHandler=this._auiDialogHandlers.restoreVisibilityRebindable.bind(this);bindAJS("show.dialog",this._auiDialogShowHandler);bindAJS("hide.dialog",this._auiDialogHideHandler);bindAJS("remove.dialog",this._auiDialogRemoveHandler);if(AJS.dialog2){this._auiDialog2ShowHandler=this._auiDialog2Handlers.hideTemporarily.bind(this);this._auiDialog2HideHandler=this._auiDialog2Handlers.restoreVisibility.bind(this);AJS.dialog2.on("show",this._auiDialog2ShowHandler);AJS.dialog2.on("hide",this._auiDialog2HideHandler)}}},_runContentReadyCallbacks:function(){var that=this;jQuery.each(this.onContentReadyCallbacks,function(){this.call(that)})},_setContent:function(content,decorate){var node;if(!this.resourcesReady().isResolved()){this._showloadingIndicator();this.resourcesReady().done(this._setContent.bind(this,content,decorate));return }if(!content){this._contentRetrievers[this.options.type].call(this,this._setContent)}else{if(Dialog.current===this){this.get$popup().show().css("visibility","hidden").addClass("popup-width-"+this.options.widthClass);this.$content=content;this.get$popupContent().html(content);if(decorate!==false){if(this.decorateContent){this.decorateContent()}}if((node=this.get$popupContent().find("."+this.classNames.HEADING_AREA)).size()>0){this.get$popupHeading().replaceWith(node)}if((node=this.get$popupContent().find("."+this.classNames.CONTENT_AREA)).size()>0){node.contents().insertAfter(node);node.remove()}this._positionInCenter();if(decorate!==false){jQuery(document).trigger("dialogContentReady",[this]);this._runContentReadyCallbacks()}this.get$popup().css("visibility","");if(decorate!==false){if(jQuery.isFunction(this.options.onContentRefresh)){this.options.onContentRefresh.call(this)}}this._onShowContent()}else{if(this.options.cached===false){delete this.$content}}}},_ellipsify:function(context){if(!(context instanceof jQuery)){context=this.get$popup()}jQuery(".overflow-ellipsis",context).textOverflow({className:"ellipsified"})},_handleInitialDoneResponse:function(data,xhr,smartAjaxResult){},getRequestUrlFromTrigger:function(){if(this.$activeTrigger&&this.$activeTrigger.length){return this.$activeTrigger.attr("href")||this.$activeTrigger.data("url")}},_getRequestOptions:function(){var options={};if(this._getAjaxOptionsObject()===false){return false}options=jQuery.extend(true,options,this._getAjaxOptionsObject());if(!options.url){options.url=this.getRequestUrlFromTrigger()}return options},_getAjaxOptionsObject:function(){var ajaxOpts=this.options.ajaxOptions;if(jQuery.isFunction(ajaxOpts)){return ajaxOpts.call(this)}else{return ajaxOpts}},_contentRetrievers:{"element":function(callback){if(!this.$content){this.$content=jQuery(this.options.content).clone(true)}callback.call(this,this.$content)},"builder":function(callback){var instance=this;if(!this.$content){this._showloadingIndicator();this.options.content.call(this,function(content){instance.$content=jQuery(content);callback.call(instance,instance.$content)})}},"ajax":function(callback){var instance=this;var ajaxOptions;if(!this.$content){ajaxOptions=this._getRequestOptions();this._showloadingIndicator();this.serverIsDone=false;ajaxOptions.complete=function(xhr,textStatus,smartAjaxResult){if(smartAjaxResult.successful){var instructions=instance._detectRedirectInstructions(xhr);instance.serverIsDone=instructions.serverIsDone;if(instructions.redirectUrl){instance._performRedirect(instructions.redirectUrl)}else{if(ajaxOptions.dataType&&ajaxOptions.dataType.toLowerCase()==="json"&&instance._buildContentFromJSON){instance.$content=instance._buildContentFromJSON(smartAjaxResult.data)}else{instance.$content=smartAjaxResult.data}if(instance.serverIsDone){instance._handleInitialDoneResponse(smartAjaxResult.data,xhr,smartAjaxResult)}else{callback.call(instance,instance.$content)}}}else{var errorContent=SmartAjax.buildDialogErrorContent(smartAjaxResult);callback.call(instance,errorContent)}};SmartAjax.makeRequest(ajaxOptions)}}},_detectRedirectInstructions:function(xhr){var instructions={serverIsDone:false,redirectUrl:""};var doneHeader=xhr.getResponseHeader("X-Atlassian-Dialog-Control");if(doneHeader){instructions.serverIsDone=true;var idx=doneHeader.indexOf("redirect:");if(idx===0){instructions.redirectUrl=doneHeader.substr("redirect:".length)}else{if(doneHeader==="permissionviolation"){instructions.redirectUrl=window.location.href}}}return instructions},_performRedirect:function(url){Browser.reloadViaWindowLocation(url)},_renders:{popupHeading:function(){var $el=jQuery("<div />");return $el.addClass(this.classNames.HEADING_AREA)},popupContent:function(){return jQuery("<div />").addClass(this.classNames.CONTENT_AREA)},popup:function(){return jQuery("<div />").attr("id",this.options.id||"").addClass(this.classNames.DIALOG).toggleClass(this.classNames.MODELESS_DIALOG,this.options.modeless).hide()}},_events:{"trigger":{simpleClick:function(e,item){this.$activeTrigger=item;if(!this.$activeTrigger.is("a")){this.$activeTrigger=item.find("a")}this.show();e.preventDefault()}},"container":{"keydown":function(e){if(e.which===jQuery.ui.keyCode.ESCAPE){var aborted=this.handleCancel();if(Navigator.isIE()&&Navigator.majorVersion()<12&&aborted===false){e.preventDefault()}}}}},handleCancel:function(){return this.hide(true,{reason:Dialog.HIDE_REASON.escape})},_showloadingIndicator:function(){Loading.showLoadingIndicator()},_hideloadingIndicator:function(){Loading.hideLoadingIndicator()},_positionInCenter:function(){var $window=jQuery(window);var $popup=this.get$popup();var $container=this.getContentContainer();var $contentArea=this.getContentArea();var cushion=40;var windowHeight=$window.height();var top=0;if(typeof this.options.width==="number"){$popup.width(this.options.width)}if(!this.options.modeless){$popup.css({marginLeft:-$popup.outerWidth()/2,marginTop:Math.max(-$popup.outerHeight()/2,cushion-windowHeight/2)});var el=$popup[0];while(el){top+=el.offsetTop;el=el.offsetParent}}else{top=Math.round(windowHeight/2)}var popupMaxHeight=Math.max(windowHeight-top-cushion,Dialog.CONSTRAINTS.MODELESS_MIN_HEIGHT);var padding=parseInt($contentArea.css("padding-top"),10)+parseInt($contentArea.css("padding-bottom"),10);$contentArea.css("maxHeight","");var contentMaxHeight=popupMaxHeight-($popup.outerHeight()-$container.outerHeight())-padding;$contentArea.css("maxHeight",contentMaxHeight);jQuery(this).trigger("contentMaxHeightChanged",[contentMaxHeight])},getContentArea:function(){return this.$popup.find(".form-body")},getContentContainer:function(){var $container=this.$popup.find(".content-area-container");if($container.length===1){return $container}else{return this.$popup.find(".form-body")}},get$popup:function(){if(!this.$popup){this.$popup=this._render("popup").appendTo("body");this.$popup.addClass("box-shadow")}return this.$popup},bindAnchorsToDialog:function($anchors){var instance=this;$anchors.click(function(e){instance.$activeTrigger=jQuery(this);delete instance.$content;instance._setContent();e.preventDefault()})},get$popupContent:function(){if(!this.$popupContent){this.$popupContent=this._render("popupContent").appendTo(this.get$popup())}return this.$popupContent},get$popupHeading:function(){if(!this.$popupHeading){this.$popupHeading=this._render("popupHeading").prependTo(this.get$popup())}return this.$popupHeading},getLoadingIndicator:function(){return this.get$popupContent().find(".throbber:last")},showFooterLoadingIndicator:function(){var $throbber=this.getLoadingIndicator();if($throbber.length){if(!$throbber.data("spinner")){$throbber.addClass("loading").spin()}else{if(!$throbber.hasClass("loading")){$throbber.addClass("loading")}}}},hideFooterLoadingIndicator:function(){var $throbber=this.getLoadingIndicator();if($throbber.length){$throbber.removeClass("loading");_.defer(function(){if(!$throbber.hasClass("loading")){$throbber.spinStop()}})}},_watchTab:function(e){var $dialog_selectable;var $first_selectable;var $last_selectable;if(jQuery(e.target).parents(this.get$popupContent()).length>0){if(jQuery("html").hasClass("safari")){$dialog_selectable=jQuery(":input:visible:enabled, :checkbox:visible:enabled, :radio:visible:enabled",this.OPEN_DIALOG_SELECTOR)}else{$dialog_selectable=jQuery("a:visible, :input:visible:enabled, :checkbox:visible:enabled, :radio:visible:enabled",this.OPEN_DIALOG_SELECTOR)}$first_selectable=$dialog_selectable.first();$last_selectable=$dialog_selectable.last();if((e.target===$first_selectable[0]&&e.shiftKey)||(e.target===$last_selectable[0]&&!e.shiftKey)){if(e.shiftKey){$last_selectable.focus()}else{$first_selectable.focus()}e.preventDefault()}}},_show:function(forceReload){if(InlineLayer.current){InlineLayer.current.hide()}if(AuiDropdown.current){AuiDropdown.current.hide()}if(Dialog.current){var prev;if(Dialog.current.options.stacked){prev=Dialog.current;prev.stacked=true;prev.hide(false);this.prev=prev}else{Dialog.stackroot=this;var current=Dialog.current;prev=current._removeStackState();current.hide(false);while(prev){current=prev;prev=current._removeStackState();current._destroyIfNecessary()}}}else{if(this.stacked!==true){Dialog.stackroot=this;Dialog.originalWindowTitle=document.title}}if(!this.options.modeless){if(this.prev&&this.prev.options.modeless){dimAJS(false)}else{if(this.stacked!==true){dimAJS(false)}}}Dialog.current=this;var $popup=this.get$popup().addClass(this.classNames.DIALOG_OPEN);if(forceReload||(this.options.type!=="blank"&&!this.$content&&this.stacked!==true)){delete this.$content;this._setContent()}else{$popup.show();this._positionInCenter();this._onShowContent()}this.tabWatcher=function(e){if(e.keyCode===9){Dialog.current._watchTab(e)}};jQuery(document).bind("keydown",this.tabWatcher);jQuery(this).trigger("Dialog.show",[this.$popup,this,this.id]);Events.trigger("Dialog.show",[this.$popup,this,this.id]);if(!this.options.modeless){Browser.disableKeyboardScrolling()}this.stacked=false},show:function(forceReload){var delayShow=this.options.delayShowUntil;var instance=this;if(Dialog.current===this){return false}var localBeforeShowEvent=new jQuery.Event("beforeShow");var globalBeforeShowEvent=new jQuery.Event("beforeShow");jQuery(this).trigger(localBeforeShowEvent);Events.trigger(globalBeforeShowEvent,[this.options.id]);if(localBeforeShowEvent.isDefaultPrevented()||globalBeforeShowEvent.isDefaultPrevented()){return false}this.downloadResources();if(delayShow){var promise=delayShow();if(promise.state()==="resolved"){instance._show(forceReload)}else{if(!this.options.modeless){dimAJS(false)}this._showloadingIndicator();promise.done(function(){instance._show(forceReload)})}}else{instance._show(forceReload)}},_setWindowTitle:function(){var titleOption=this.options.windowTitle;var $container=this.get$popup();var dialogTitle;var $heading;if(titleOption===false){return }else{if(typeof titleOption==="string"){dialogTitle=titleOption}else{if(typeof titleOption==="function"){dialogTitle=titleOption.call(this)}else{$heading=$container.find("."+this.classNames.HEADING_AREA);if($heading.length){dialogTitle=$heading.text()}}}}if(!dialogTitle){return }var jiraTitle=Meta.get("app-title");var newTitle=[dialogTitle];if(jiraTitle){newTitle.push(jiraTitle)}document.title=newTitle.join(" - ")},_onShowContent:function(){this._setWindowTitle();this._hideloadingIndicator();this._ellipsify();this.get$popup().addClass(this.classNames.CONTENT_READY)},_resetWindowTitle:function(){if(this.stacked!==true&&Dialog.stackroot===this){if(Dialog.originalWindowTitle){if(document.title!==Dialog.originalWindowTitle){document.title=Dialog.originalWindowTitle}delete Dialog.originalWindowTitle}}},notifyOfNewContent:function(){if(this.$content){this.decorateContent();this._positionInCenter();this._onShowContent();jQuery(document).trigger("dialogContentReady",[this])}},destroy:function(){if(this.options.modeless){if(AJS.dialog2){AJS.dialog2.off("show",this._auiDialog2ShowHandler);AJS.dialog2.off("hide",this._auiDialog2HideHandler);delete this._auiDialog2ShowHandler;delete this._auiDialog2HideHandler}unbindAJS("show.dialog",this._auiDialogShowHandler);unbindAJS("hide.dialog",this._auiDialogHideHandler);unbindAJS("remove.dialog",this._auiDialogRemoveHandler);delete this._auiDialogShowHandler;delete this._auiDialogHideHandler;delete this._auiDialogRemoveHandler}this.$popup&&this.$popup.remove();delete this.$popup;delete this.$popupContent;delete this.$popupHeading;delete this.$content},_destroyIfNecessary:function(){!this.options.cached&&this.destroy()},_removeStackState:function(){var prev=this.prev;delete this.prev;delete this.stacked;return prev},isCurrent:function(){return Dialog.current===this},hide:function(undim,options){if(Dialog.current!==this){return }var globalBeforeHideEvent=new jQuery.Event("Dialog.beforeHide");var localBeforeHideEvent=new jQuery.Event("Dialog.beforeHide");options=options||{};Events.trigger(globalBeforeHideEvent,[this.$popup,options.reason,this.options.id]);jQuery(this).trigger(localBeforeHideEvent,[this.$popup,options.reason,this.options.id]);if(globalBeforeHideEvent.isDefaultPrevented()||localBeforeHideEvent.isDefaultPrevented()){return false}var atlToken=jQuery("input[name=atl_token]",this.OPEN_DIALOG_SELECTOR).attr("value");if(atlToken!==undefined){XSRF.updateTokenOnPage(atlToken)}if((undim!==false&&!this.prev&&!this.options.modeless)||(this.prev&&this.prev.options.modeless)){AJS.undim()}this.get$popup().removeClass(this.classNames.DIALOG_OPEN).removeClass(this.classNames.CONTENT_READY).hide();this._hideloadingIndicator();this._resetWindowTitle();jQuery(document).trigger("hideAllLayers",[this.$popup,options.reason,this.options.id]);jQuery(this).trigger("Dialog.hide",[this.$popup,options.reason,this.options.id]);Events.trigger("Dialog.hide",[this.$popup,options.reason,this.options.id]);Dialog.current=null;if(this.options.cached===false&&this.stacked!==true){this.destroy()}if(!this.options.modeless){Browser.enableKeyboardScrolling()}if(this.tabWatcher){jQuery(document).unbind("keydown",this.tabWatcher)}if(this.stacked!==true){if(this.prev){this.prev.show(!!this.prev.options.reloadOnPop);delete this.prev}else{if(Dialog.stackroot===this){delete Dialog.stackroot}}}},addHeading:function(heading){var $pieces=jQuery("<div/>").html(heading).contents();var $title=jQuery("<h2/>");var contents=[];$pieces.each(function(i){if(this.nodeName.toLowerCase()==="div"){contents.push(this)}else{$title.append(this)}});this.get$popupHeading().html(contents).append($title);$title.attr("title",jQuery.trim($title.text()))},onContentReady:function(func){if(jQuery.isFunction(func)){this.onContentReadyCallbacks.push(func)}},_auiDialogHandlers:{hideTemporarily:function(ev,data){if(this._temporarilyHidden){return }this._hideTemporarily()},restoreVisibility:function(ev,data){if(!this._temporarilyHidden){return }var dialog2El=LayerManager.getTopLayer();var layer=!!dialog2El&&layerAJS(dialog2El);if(layer&&layer.isVisible()&&layer.isBlanketed()){return }this._restoreVisibility()},restoreVisibilityRebindable:function(ev,data){this._restoreVisibility(ev,data);var rebindRemoveHandler=function(){bindAJS("remove.dialog",this._auiDialogRemoveHandler)};setTimeout(rebindRemoveHandler.bind(this),0)}},_auiDialog2Handlers:{hideTemporarily:function(ev,el){if(this._temporarilyHidden){return }this._hideTemporarily()},restoreVisibility:function(ev,el){if(!this._temporarilyHidden){return }if(AJS.popup.current&&AJS.popup.current.element.is(":visible")){return }while(el){var layer=layerAJS(el);if(layer.isVisible()&&layer.isBlanketed()){return }el=layer.below()}this._restoreVisibility()}},_hideTemporarily:function(){this.get$popup().addClass(this.classNames.DIALOG_NOT_VISIBLE);this._temporarilyHidden=true},_restoreVisibility:function(){this.get$popup().removeClass(this.classNames.DIALOG_NOT_VISIBLE);this._temporarilyHidden=false},defineResources:function(){if(_.isFunction(this.options.defineResources)){this.options.defineResources.call(this)}},requireContext:function(contextName){this.requireResource(contextName,"wrc!")},requireResource:function(resourceName,prefix){this.wrmResources=this.wrmResources||[];this.wrmResources.push((prefix||"wr!")+resourceName)},getRequiredResources:function(){return this.wrmResources||[]},downloadResources:function(){if(this.getRequiredResources().length>0&&!this.deferredResources){this.deferredResources=wrmRequire(this.getRequiredResources())}},resourcesReady:function(){if(this.deferredResources){return this.deferredResources.promise()}else{return new jQuery.Deferred().resolve().promise()}}});Dialog.ClassNames={DIALOG:"jira-dialog",HEADING_AREA:"jira-dialog-heading",CONTENT_AREA:"jira-dialog-content",DIALOG_OPEN:"jira-dialog-open",CONTENT_READY:"jira-dialog-content-ready",MODELESS_DIALOG:"jira-dialog-modeless",DIALOG_NOT_VISIBLE:"jira-dialog-not-visible"};Dialog.WIDTH_PRESETS={small:360,medium:540,large:810};Dialog.CONSTRAINTS={MODELESS_MIN_HEIGHT:240};Dialog.HIDE_REASON={cancel:"cancel",escape:"esc",submit:"submit"};return Dialog});AJS.namespace("AJS.FlexiPopup",null,require("jira/dialog/dialog"));AJS.namespace("JIRA.Dialog",null,require("jira/dialog/dialog"));;
;
/* module-key = 'jira.webresources:jira-dialog-core', location = '/includes/jira/dialog/plugins/dirtyFormWarning.js' */
JIRA.Dialog.fn.dirtyFormWarning=function(){var handler=function(e,popup,hideReason){var dirtyMessage;if(!e.isDefaultPrevented()&&(hideReason===JIRA.Dialog.HIDE_REASON.cancel||hideReason===JIRA.Dialog.HIDE_REASON.escape)){dirtyMessage=JIRA.DirtyForm.getDirtyWarning();if(dirtyMessage&&!confirm(dirtyMessage)){e.preventDefault()}}};return function(){return this.bind("Dialog.beforeHide",handler)}}();;
;
/* module-key = 'jira.webresources:set-focus', location = '/includes/jira/focus/setFocus.js' */
define("jira/focus/set-focus",["jira/dialog/dialog","jquery"],function(Dialog,jQuery){var _defaultExcludeParentSelector="form.dont-default-focus",_defaultFocusElementSelector="input:not(#issue-filter-submit), select, textarea, button, a.cancel",_defaultParentElementSelectors=["."+Dialog.ClassNames.CONTENT_AREA,"form.aui","form"],_configurationStack=[];var _focusIn=function(context,parentSelector,excludeParentSelector,elementSelector){var found=false;jQuery(parentSelector,context).not(excludeParentSelector).find(elementSelector).each(function(){var elem=jQuery(this);if(elem.is(":enabled, a")&&elem.is(":visible")){elem.focus();if(elem.is(":text, :password, textarea")){if(elem.is(".focus-select-end")){elem.setCaretToPosition(elem[0].value.length)}else{elem.setSelectionRange(0,elem[0].value.length)}}found=true;return false}});return found},_defaultFocusNow=function(){var i=0,currentConfig=_configurationStack[_configurationStack.length-1];while(!_focusIn(currentConfig.context,currentConfig.parentElementSelectors[i],currentConfig.excludeParentSelector,currentConfig.focusElementSelector)&&i<currentConfig.parentElementSelectors.length){i++}};return{FocusConfiguration:function(){this.context=document;this.excludeParentSelector=_defaultExcludeParentSelector;this.focusElementSelector=_defaultFocusElementSelector;this.parentElementSelectors=_defaultParentElementSelectors.slice(0);this.focusNow=_defaultFocusNow},triggerFocus:function(){if(_configurationStack.length===0){_configurationStack.push(new this.FocusConfiguration())}_configurationStack[_configurationStack.length-1].focusNow()},pushConfiguration:function(configuration){_configurationStack.push(configuration)},popConfiguration:function(){_configurationStack.pop()}}});AJS.namespace("JIRA.setFocus",null,require("jira/focus/set-focus"));;
;
/* module-key = 'jira.webresources:set-focus', location = '/includes/jira/focus/initSetFocus.js' */
(function(jQuery,setFocus){jQuery(function(){setFocus.triggerFocus()})})(require("jquery"),require("jira/focus/set-focus"));;
;
/* module-key = 'jira.webresources:jira-issuenavigator', location = '/includes/jira/issue/Issue.js' */
define("jira/issue",["jira/util/browser","jira/util/events","jquery","wrm/context-path"],function(Browser,Events,jQuery,contextPath){var Issue={};var $keyVal;function getKeyVal(){if(!$keyVal){$keyVal=jQuery("#key-val")}return $keyVal}Issue.getStalker=function(){return jQuery("#stalker")};Issue.getSubtaskContent=function(){return Issue.getSubtaskModule().find(".mod-content")};Issue.getSubtaskModule=function(){return jQuery("#view-subtasks")};Issue.reload=function(){Browser.reloadViaWindowLocation()};Issue.refreshSubtasks=function(){var deferred=jQuery.Deferred(),$subtasks=Issue.getSubtaskContent();if($subtasks.length===0){Browser.reloadViaWindowLocation(window.location.href+"#view-subtasks");return deferred.promise()}else{return jQuery.ajax({url:contextPath+"/secure/ViewSubtasks.jspa?id="+Issue.getIssueId(),success:function(html){$subtasks.replaceWith(html);Events.trigger("Issue.subtasksRefreshed",[Issue.getSubtaskContent()])}})}};Issue.highlightSubtasks=function(issues){jQuery.each(issues,function(i,issue){jQuery(".issuerow[data-issuekey='"+issue.issueKey+"']").fadeInBackground()})};Issue.getIssueId=function(){var $keyVal=getKeyVal();if($keyVal.length!==0){return $keyVal.attr("rel")}return undefined};Issue.getIssueKey=function(){var $keyVal=getKeyVal();if($keyVal.length!==0){return $keyVal.text()}return undefined};Issue.issueCreatedMessage=function(issue,isSubtask){var issueText=isSubtask?"Subtask":"Issue";var link='<a class="issue-created-key issue-link" data-issue-key="'+issue.issueKey+'" href="'+contextPath()+"/browse/"+issue.issueKey+'">'+issue.issueKey+" - "+AJS.escapeHtml(issue.summary)+"</a>";return AJS.format("{0} {1} has been successfully created.",issueText,link)};return Issue});AJS.namespace("jira.app.issue",null,require("jira/issue"));AJS.namespace("JIRA.Issue",null,require("jira/issue"));;
;
/* module-key = 'jira.webresources:jira-issuenavigator', location = '/includes/jira/issuenavigator/IssueNavigator.js' */
define("jira/issuenavigator/issue-navigator",["jira/data/session-storage","jira/util/browser","jquery"],function(SessionStorage,Browser,jQuery){var IssueNavigator={isNavigator:function(){return jQuery("#isNavigator").length===1},setIssueUpdatedMsg:function(options){options=options||{};var issueMsg=options.issueMsg,issueId=options.issueId,issueKey=options.issueKey;if(!issueId){issueId=this.getSelectedIssueId();issueKey=this.getSelectedIssueKey()}if(issueId){SessionStorage.setItem("selectedIssueId",issueId)}if(issueKey){SessionStorage.setItem("selectedIssueKey",issueKey)}if(issueMsg){SessionStorage.setItem("selectedIssueMsg",issueMsg)}},reload:function(){Browser.reloadViaWindowLocation()},isRowSelected:function(){return IssueNavigator.get$focusedRow().length!==0},get$focusedRow:function(){return jQuery("#issuetable tr.issuerow.focused")},getFocsuedIssueIndex:function(){var rowIndex=jQuery("#issuetable").find("tr.issuerow").index(this.get$focusedRow());var searchOffset=parseInt(jQuery(".results-count-start").first().text(),10)-1;return rowIndex+searchOffset},getSelectedIssueKey:function(){var $focusedRow=IssueNavigator.get$focusedRow();if($focusedRow.length!==0){return $focusedRow.attr("data-issuekey")}return undefined},getSelectedIssueId:function(){return IssueNavigator.get$focusedRow().attr("rel")},getNextIssueId:function(){return IssueNavigator.get$focusedRow().next("tr.issuerow").attr("rel")}};return IssueNavigator});AJS.namespace("jira.app.issuenavigator",null,require("jira/issuenavigator/issue-navigator"));AJS.namespace("JIRA.IssueNavigator",null,require("jira/issuenavigator/issue-navigator"));;
;
/* module-key = 'jira.webresources:jira-issuenavigator', location = '/includes/jira/issuenavigator/IssueNavigator.Shortcuts.js' */
define("jira/issuenavigator/issue-navigator/shortcuts",["jira/issuenavigator/issue-navigator","jira/focus/set-focus","jira/ajs/persistence","jira/util/events","jira/issue","jira/message","jquery"],function(IssueNavigator,SetFocus,Persistence,Events,Issue,Messages,$){var Shortcuts={};Shortcuts._quickEditSessionCompleteHandler=function(e,issues){IssueNavigator.setIssueUpdatedMsg();IssueNavigator.reload()};Shortcuts._quickCreateSubtaskSessionCompleteHandler=function(e,issues){var lastIssue=issues[issues.length-1],msg=Issue.issueCreatedMessage(lastIssue,true);IssueNavigator.setIssueUpdatedMsg({issueMsg:msg});IssueNavigator.reload()};var $rows,index,$nextPage,$previousPage,helpText,isLoadingNewPage=false;var issueIdToRowIndex={};$(document).ready(function(){if(IssueNavigator.isNavigator()){var $focusedRow;var focusedClassName=/(?:^|\s)focused(?!\S)/;var preventFocus=function(){$(this).attr("tabIndex",-1)};$rows=$("#issuetable").find("tr.issuerow");$rows.each(function(i){var $row=$(this);$("a.hidden-link",this).blur(preventFocus);if(!$focusedRow&&focusedClassName.test(this.className)){$focusedRow=$row;index=i}issueIdToRowIndex[$row.attr("rel")]=i});if(!$focusedRow){$focusedRow=$rows.first().addClass("focused")}var jqlHasFocus=$("#jqltext").hasClass("focused");if(!jqlHasFocus){var triggerConfig=new SetFocus.FocusConfiguration();triggerConfig.focusNow=function(){focusRow(index)};SetFocus.pushConfiguration(triggerConfig)}$(document).keypress(function(e){if(e.keyCode=="13"&&$("div.aui-blanket").length==0){var target=e.target;if(target===undefined||target.nodeName==="HTML"||target.nodeName==="BODY"||target==document){if(hasResults()&&$rows[index]){window.location=contextPath+"/browse/"+$rows.eq(index).data("issuekey")}}}});var $pager=$("div.pagination").first(),shouldFocusSearch=$("#focusSearch").attr("content")==="true";$nextPage=$pager.find("a.icon-next");$previousPage=$pager.find("a.icon-previous");if(!shouldFocusSearch){var activeElement=$(document.activeElement);if(activeElement.is(":input")){activeElement.blur()}}if(hasResults()&&!$(document.activeElement).is(":input")){setTimeout(function(){$rows.eq(index).scrollIntoView()},0)}$(".issue-actions-trigger").click(function(){var $row=$(this).closest("tr");var issueId=$row.attr("rel");if(issueId){Shortcuts.focusRow(issueId,0,true)}});Events.bind("QuickCreateSubtask.sessionComplete",Shortcuts._quickCreateSubtaskSessionCompleteHandler);Events.bind("QuickEdit.sessionComplete",Shortcuts._quickEditSessionCompleteHandler)}});Shortcuts.selectNextIssue=function(){if(hasResults()&&!isLoadingNewPage){if(index===$rows.length-1){followLink($nextPage)}else{unselectRow(index++);selectRow(index)}}};Shortcuts.selectPreviousIssue=function(){if(hasResults()&&!isLoadingNewPage){if(index===0){followLink($previousPage)}else{unselectRow(index--);selectRow(index)}}};Shortcuts.viewSelectedIssue=function(){if(hasResults()&&$($rows[index]).length){try{window.location=contextPath+"/browse/"+$($rows[index]).data("issuekey")}catch(err){}}};Shortcuts.focusRow=function(issueId,delay,supressLinkFocus){if(hasResults()){if(issueId){selectRowViaIssueId(issueId,delay,supressLinkFocus)}else{if(!supressLinkFocus){$($rows[index]).find("a:first").focus()}}}};Shortcuts.focusSearch=function(){var $jqlTextArea=$("#jqltext");$("#jira").scrollIntoView();if($jqlTextArea.length>0){$jqlTextArea.focus()}else{var $issuenav=$("#issuenav");if($issuenav.hasClass("lhc-collapsed")){$(".toggle-lhc").click()}var $textSection=$("#navigator-filter-subheading-textsearch-group");if($textSection.hasClass("collapsed")){$("#searcher-pid").focus()}else{$("#searcher-query").focus()}}};function hasResults(){return $rows&&$rows.length>0}function followLink($a){var href=$a.attr("href");if(href){isLoadingNewPage=true;Persistence.nextPage("blurSearch",true);window.location=href;setTimeout(function(){isLoadingNewPage=false},5000)}}function unselectRow(i){var $td=$($rows[i]).find("td:first");$($rows[i]).removeClass("focused");helpText=$td.attr("title");$td.removeAttr("title")}function selectRow(i,delay,supressLinkFocus){var $selected=$($rows[i]).addClass("focused").scrollIntoView();$selected.find("td").first().attr("title",helpText);if(!supressLinkFocus){focusRow(i)}}function selectRowViaIssueId(issueId,delay,supressLinkFocus){var newIndex=issueIdToRowIndex[issueId];if(newIndex||newIndex===0){unselectRow(index);selectRow(index=newIndex,delay,supressLinkFocus)}}function focusRow(i){var $selected=$($rows[i]);$selected.find(".hidden-link").removeAttr("tabIndex").focus()}return Shortcuts});AJS.namespace("jira.app.issuenavigator.shortcuts",null,require("jira/issuenavigator/issue-navigator/shortcuts"));AJS.namespace("JIRA.IssueNavigator.Shortcuts",null,require("jira/issuenavigator/issue-navigator/shortcuts"));;
;
/* module-key = 'jira.webresources:jira-dialog-config', location = '/includes/jira/dialog/IssueDialogUtil.js' */
define("jira/dialog/dialog-util",["jira/issuenavigator/issue-navigator","jquery"],function(IssueNavigator,jQuery){var DialogUtil={};DialogUtil.getDefaultAjaxOptions=function(){if(JIRA&&typeof JIRA.Dialogs.getDefaultAjaxOptions==="function"){if(DialogUtil.getDefaultAjaxOptions!==JIRA.Dialogs.getDefaultAjaxOptions){return JIRA.Dialogs.getDefaultAjaxOptions.apply(this,arguments)}}var $focusRow=IssueNavigator.get$focusedRow();var linkIssueURI=this.options.url||this.getRequestUrlFromTrigger();if(/id=\{0\}/.test(linkIssueURI)){if(!$focusRow.length){return false}else{linkIssueURI=linkIssueURI.replace(/(id=\{0\})/,"id="+$focusRow.attr("rel"))}}if(IssueNavigator.isNavigator()){var result=/[?&]id=([0-9]+)/.exec(linkIssueURI);this.issueId=result&&result.length===2?result[1]:null;if(this.issueId!==$focusRow.attr("rel")){IssueNavigator.Shortcuts.focusRow(this.issueId);$focusRow=IssueNavigator.get$focusedRow()}this.issueKey=IssueNavigator.getSelectedIssueKey()}return{url:linkIssueURI,data:{decorator:"dialog",inline:"true"}}};DialogUtil.BeforeShowIssueDialogHandler=(function(){var deferreds=[];return{add:function(deferred){deferreds.push(deferred);return this},execute:function(){var invokedDeferreds=[];if(deferreds.length===0){return jQuery.Deferred().resolve()}else{jQuery.each(deferreds,function(idx,deferred){invokedDeferreds.push(deferred())});return jQuery.when.apply(jQuery,invokedDeferreds)}}}})();DialogUtil.storeCurrentIssueIdOnSucessfulSubmit=function(){if(IssueNavigator.isNavigator()){IssueNavigator.setIssueUpdatedMsg({issueMsg:this.options.issueMsg,issueId:this.issueId,issueKey:this.issueKey})}};return DialogUtil});(function(utils){AJS.namespace("JIRA.Dialogs",null,require("jira/dialog/dialog-register"));AJS.namespace("JIRA.Dialogs.getDefaultAjaxOptions",null,utils.getDefaultAjaxOptions);AJS.namespace("JIRA.Dialogs.BeforeShowIssueDialogHandler",null,utils.BeforeShowIssueDialogHandler);AJS.namespace("JIRA.Dialogs.storeCurrentIssueIdOnSucessfulSubmit",null,utils.storeCurrentIssueIdOnSucessfulSubmit)})(require("jira/dialog/dialog-util"));;
;
/* module-key = 'jira.webresources:select-pickers', location = '/includes/ajs/select/QueryableSelect.soy' */
// This file was automatically generated from QueryableSelect.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace AJS.Templates.
 */

if (typeof AJS == 'undefined') { var AJS = {}; }
if (typeof AJS.Templates == 'undefined') { AJS.Templates = {}; }


AJS.Templates.queryableSelect = function(opt_data, opt_ignored) {
  var output = '<select ' + ((opt_data.name) ? 'name="' + soy.$$escapeHtml(opt_data.name) + '"' : '') + ' ' + ((opt_data.id) ? 'id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' multiple="multiple">';
  var descriptorList16 = opt_data.descriptors;
  var descriptorListLen16 = descriptorList16.length;
  for (var descriptorIndex16 = 0; descriptorIndex16 < descriptorListLen16; descriptorIndex16++) {
    var descriptorData16 = descriptorList16[descriptorIndex16];
    if (descriptorData16.properties.items) {
      output += '<optgroup label="' + soy.$$escapeHtml(descriptorData16.properties.label) + '">';
      var optionList22 = descriptorData16.properties.items;
      var optionListLen22 = optionList22.length;
      for (var optionIndex22 = 0; optionIndex22 < optionListLen22; optionIndex22++) {
        var optionData22 = optionList22[optionIndex22];
        output += AJS.Templates.option({option: optionData22});
      }
      output += '</optgroup>';
    } else {
      output += AJS.Templates.option({option: descriptorData16});
    }
  }
  output += '</select>';
  return output;
};
if (goog.DEBUG) {
  AJS.Templates.queryableSelect.soyTemplateName = 'AJS.Templates.queryableSelect';
}


AJS.Templates.option = function(opt_data, opt_ignored) {
  return '<option ' + ((opt_data.option.properties.title) ? 'title="' + soy.$$escapeHtml(opt_data.option.properties.title) + '"' : '') + ' ' + ((opt_data.option.properties.meta) ? 'data-meta="' + soy.$$escapeHtml(opt_data.option.properties.meta) + '"' : '') + ' ' + ((opt_data.option.properties.selected) ? 'selected="selected"' : '') + ' value="' + soy.$$escapeHtml(opt_data.option.properties.value) + '">' + soy.$$escapeHtml(opt_data.option.properties.label) + '</option>';
};
if (goog.DEBUG) {
  AJS.Templates.option.soyTemplateName = 'AJS.Templates.option';
}
;
;
/* module-key = 'jira.webresources:select-pickers', location = '/includes/ajs/select/SelectHelper.js' */
define("jira/ajs/select/select-helper",function(){return{updateFreeInputVal:function(){if(this.options.submitInputVal){this.model.updateFreeInput(this.$field.val())}},removeFreeInputVal:function(){if(this.options.submitInputVal){this.model.removeFreeInputVal()}}}});AJS.namespace("AJS.SelectHelper",null,require("jira/ajs/select/select-helper"));;
;
/* module-key = 'jira.webresources:select-pickers', location = '/includes/ajs/select/SuggestionHandlers.js' */
define("jira/ajs/select/suggestions/suggest-helper",["jira/ajs/list/group-descriptor","jira/ajs/list/item-descriptor","jira/ajs/select/fetchers/mixed-descriptor-fetcher","jira/ajs/select/fetchers/ajax-descriptor-fetcher","jira/ajs/select/fetchers/func-descriptor-fetcher","jira/ajs/select/fetchers/static-descriptor-fetcher","underscore"],function(GroupDescriptor,ItemDescriptor,MixedDescriptorFetcher,AjaxDescriptorFetcher,FuncDescriptorFetcher,StaticDescriptorFetcher,_){return{createDescriptorFetcher:function(options,model){if(options.ajaxOptions&&options.ajaxOptions.url){if(model&&options.content==="mixed"){return new MixedDescriptorFetcher(options,model)}else{return new AjaxDescriptorFetcher(options.ajaxOptions)}}else{if(options.suggestions){return new FuncDescriptorFetcher(options)}else{if(model){return new StaticDescriptorFetcher(options,model)}}}},extractItems:function(descriptors){return _.flatten(_.map(descriptors,function(descriptor){if(descriptor instanceof GroupDescriptor){return descriptor.items()}else{return[descriptor]}}))},mirrorQuery:function(query,label,uppercaseValue){var value=uppercaseValue?query.toUpperCase():query;return new GroupDescriptor({label:"user inputted option",showLabel:false,replace:true}).addItem(new ItemDescriptor({value:value,label:value,labelSuffix:" ("+label+")",title:value,allowDuplicate:false,noExactMatch:true}))},isSelected:function(itemDescriptor,selectedVals){return _.any(selectedVals,function(descriptor){return itemDescriptor.value()===descriptor.value()})},removeDuplicates:function(descriptors,vals){vals=vals||[];return _.filter(descriptors,_.bind(function(descriptor){if(descriptor instanceof GroupDescriptor){descriptor.items(this.removeDuplicates(descriptor.items(),vals));return true}else{if(!_.include(vals,descriptor.value())){if(descriptor.value()){vals.push(descriptor.value())}return true}}},this))},removeSelected:function(descriptors,selectedValues){return _.filter(descriptors,_.bind(function(descriptor){if((descriptor instanceof ItemDescriptor)&&this.isSelected(descriptor,selectedValues)){return false}if(descriptor instanceof GroupDescriptor){descriptor.items(this.removeSelected(descriptor.items(),selectedValues))}return true},this))}}});define("jira/ajs/select/suggestions/default-suggest-handler",["jira/lib/class","jira/ajs/select/suggestions/suggest-helper","jquery","underscore"],function(Class,SuggestHelper,jQuery,_){return Class.extend({init:function(options){this.options=options;this.descriptorFetcher=SuggestHelper.createDescriptorFetcher(options)},validateMirroring:function(query){return this.options.userEnteredOptionsMsg&&query.length>0},formatSuggestions:function(descriptors,query){if(this.validateMirroring(query)){descriptors.push(SuggestHelper.mirrorQuery(query,this.options.userEnteredOptionsMsg,this.options.uppercaseUserEnteredOnSelect))}return descriptors},execute:function(query,force){var deferred=jQuery.Deferred();var fetcherDef=this.descriptorFetcher.execute(query,force).done(_.bind(function(descriptors){if(descriptors){descriptors=this.formatSuggestions(descriptors,query)}deferred.resolve(descriptors,query)},this));deferred.fail(function(){fetcherDef.reject()});return deferred}})});define("jira/ajs/select/suggestions/select-suggest-handler",["jira/ajs/select/suggestions/default-suggest-handler","jira/ajs/select/suggestions/suggest-helper"],function(DefaultSuggestHandler,SuggestHelper){return DefaultSuggestHandler.extend({init:function(options,model){this.descriptorFetcher=SuggestHelper.createDescriptorFetcher(options,model);this.options=options;this.model=model},formatSuggestions:function(descriptors,query){var suggestions=this._super(descriptors,query);var selectedDescriptors=this.model.getDisplayableSelectedDescriptors();if(this.options.removeDuplicates){suggestions=SuggestHelper.removeDuplicates(descriptors)}return SuggestHelper.removeSelected(suggestions,selectedDescriptors)}})});define("jira/ajs/select/suggestions/assignee-suggest-handler",["jira/ajs/select/suggestions/select-suggest-handler"],function(SelectSuggestHandler){return SelectSuggestHandler.extend({formatSuggestions:function(descriptors,query){var descriptors=this._super(descriptors,query);if(query.length===0){descriptors[0].footerText("Start Typing for Users")}return descriptors}})});define("jira/ajs/select/suggestions/checkbox-multi-select-suggest-handler",["jira/ajs/select/suggestions/select-suggest-handler","jira/ajs/select/suggestions/suggest-helper","jira/ajs/list/group-descriptor"],function(SelectSuggestHandler,SuggestHelper,GroupDescriptor){return SelectSuggestHandler.extend({createClearAll:function(){return"<li class='check-list-group-actions'><a class='clear-all' href='#'>"+"Clear selected items"+"</a></li>"},formatSuggestions:function(descriptors,query){var selectedItems=SuggestHelper.removeDuplicates(this.model.getDisplayableSelectedDescriptors());var selectedGroup=new GroupDescriptor({styleClass:"selected-group",items:selectedItems,actionBarHtml:selectedItems.length>1?this.createClearAll():null});descriptors.splice(0,0,selectedGroup);if(query.length>0){descriptors=SuggestHelper.removeDuplicates(descriptors);var items=SuggestHelper.extractItems(descriptors).sort(function(a,b){a=a.label().toLowerCase();b=b.label().toLowerCase();return a.localeCompare(b)});descriptors=[new GroupDescriptor({items:items})]}return descriptors}})});define("jira/ajs/select/suggestions/user-list-suggest-handler",["jira/ajs/select/suggestions/select-suggest-handler"],function(SelectSuggestHandler){return SelectSuggestHandler.extend({emailExpression:/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,validateMirroring:function(query){return this.options.freeEmailInput&&query.length>0&&this.emailExpression.test(query)}})});define("jira/ajs/select/suggestions/only-new-items-suggest-handler",["jira/ajs/select/suggestions/select-suggest-handler","underscore"],function(SelectSuggestHandler,_){return SelectSuggestHandler.extend({validateMirroring:function(query){var allowMirroring=this._super(query);if(allowMirroring){var lowerCaseQuery=query.toLowerCase();var allExistingDescriptors=this.model.getDisplayableSelectedDescriptors().concat(this.model.getDisplayableUnSelectedDescriptors());var existingItem=_.some(allExistingDescriptors,function(descriptor){var label=descriptor.label();return label&&label.toLowerCase()===lowerCaseQuery});return !existingItem}return false}})});define("jira/ajs/select/fetchers/static-descriptor-fetcher",["jira/lib/class","jquery"],function(Class,jQuery){return Class.extend({init:function(options,model){this.model=model;this.model.$element.data("static-suggestions",true)},execute:function(query){var deferred=jQuery.Deferred();deferred.resolve(this.model.getUnSelectedDescriptors(),query);return deferred}})});define("jira/ajs/select/fetchers/ajax-descriptor-fetcher",["jira/lib/class","jira/ajs/ajax/smart-ajax","jquery","underscore"],function(Class,SmartAjax,jQuery,_){return Class.extend({init:function(options){this.options=_.extend({keyInputPeriod:75,minQueryLength:1,data:{},dataType:"json"},options)},makeRequest:function(deferred,ajaxOptions,query){ajaxOptions.complete=_.bind(function(){this.outstandingRequest=null;JIRA.trace("jira.suggestionhandler.done")},this);ajaxOptions.success=_.bind(function(data){if(ajaxOptions.query){deferred.resolve(ajaxOptions.formatResponse(data,query))}else{this.lastResponse=ajaxOptions.formatResponse(data,query);deferred.resolve(this.lastResponse)}},this);var originalError=ajaxOptions.error;ajaxOptions.error=function(xhr,textStatus,msg,smartAjaxResult){if(!smartAjaxResult.aborted){if(originalError){originalError.apply(this,arguments)}else{alert(SmartAjax.buildSimpleErrorContent(smartAjaxResult,{alert:true}))}deferred.resolve()}else{if(smartAjaxResult.statusText==="timeout"){if(originalError){originalError.apply(this,arguments)}else{alert(SmartAjax.buildSimpleErrorContent(smartAjaxResult,{alert:true}))}deferred.resolve()}}};this.outstandingRequest=SmartAjax.makeRequest(ajaxOptions)},incubateRequest:function(deferred,ajaxOptions,query,force){clearTimeout(this.queuedRequest);if(force&&this.outstandingRequest){this.outstandingRequest.abort();this.outstandingRequest=null}if(!ajaxOptions.query&&this.lastResponse){deferred.resolve(this.lastResponse)}else{if(!this.outstandingRequest){if(typeof ajaxOptions.data==="function"){ajaxOptions.data=ajaxOptions.data(query)}else{ajaxOptions.data.query=query}if(typeof ajaxOptions.url==="function"){ajaxOptions.url=ajaxOptions.url()}if((query.length>=parseInt(ajaxOptions.minQueryLength,10))||force){this.makeRequest(deferred,ajaxOptions,query)}else{deferred.resolve()}}else{this.queuedRequest=setTimeout(_.bind(function(){this.incubateRequest(deferred,ajaxOptions,query,true)},this),ajaxOptions.keyInputPeriod)}}return deferred},execute:function(query,force){var deferred=jQuery.Deferred();deferred.fail(_.bind(function(){clearTimeout(this.queuedRequest);if(this.outstandingRequest){this.outstandingRequest.abort()}},this));this.incubateRequest(deferred,_.extend({},this.options),query,force);return deferred}})});define("jira/ajs/select/fetchers/mixed-descriptor-fetcher",["jira/lib/class","jira/ajs/select/fetchers/ajax-descriptor-fetcher","jquery","underscore"],function(Class,AjaxDescriptorFetcher,jQuery,_){return Class.extend({init:function(options,model){this.ajaxFetcher=new AjaxDescriptorFetcher(options.ajaxOptions);this.options=options;this.model=model},execute:function(query,force){var deferred=jQuery.Deferred();var minQueryLength=this.options.ajaxOptions.minQueryLength;minQueryLength=(typeof minQueryLength==="number"&&isFinite(minQueryLength))?minQueryLength:1;if(query.length>=minQueryLength){var ajaxDeferred=this.ajaxFetcher.execute(query,force).done(_.bind(function(suggestions){var descriptors;if(this.options.suggestionAtTop){descriptors=[].concat(this.model.getAllDescriptors(),suggestions)}else{descriptors=[].concat(suggestions,this.model.getAllDescriptors())}deferred.resolve(descriptors,query)},this));deferred.fail(function(){ajaxDeferred.reject()})}else{deferred.resolve(this.model.getUnSelectedDescriptors(),query)}return deferred}})});define("jira/ajs/select/fetchers/func-descriptor-fetcher",["jira/lib/class","jquery"],function(Class,jQuery){return Class.extend({init:function(options){this.options=options},execute:function(query){var deferred=jQuery.Deferred();deferred.resolve(this.options.suggestions(query),query);return deferred}})});AJS.namespace("AJS.SuggestHelper",null,require("jira/ajs/select/suggestions/suggest-helper"));AJS.namespace("AJS.DefaultSuggestHandler",null,require("jira/ajs/select/suggestions/default-suggest-handler"));AJS.namespace("AJS.SelectSuggestHandler",null,require("jira/ajs/select/suggestions/select-suggest-handler"));AJS.namespace("AJS.OnlyNewItemsSuggestHandler",null,require("jira/ajs/select/suggestions/only-new-items-suggest-handler"));AJS.namespace("AJS.CheckboxMultiSelectSuggestHandler",null,require("jira/ajs/select/suggestions/checkbox-multi-select-suggest-handler"));AJS.namespace("JIRA.AssigneeSuggestHandler",null,require("jira/ajs/select/suggestions/assignee-suggest-handler"));AJS.namespace("AJS.UserListSuggestHandler",null,require("jira/ajs/select/suggestions/user-list-suggest-handler"));AJS.namespace("AJS.StaticDescriptorFetcher",null,require("jira/ajs/select/fetchers/static-descriptor-fetcher"));AJS.namespace("AJS.AjaxDescriptorFetcher",null,require("jira/ajs/select/fetchers/ajax-descriptor-fetcher"));AJS.namespace("AJS.MixedDescriptorFetcher",null,require("jira/ajs/select/fetchers/mixed-descriptor-fetcher"));AJS.namespace("AJS.FuncDescriptorFetcher",null,require("jira/ajs/select/fetchers/func-descriptor-fetcher"));;
;
/* module-key = 'jira.webresources:select-pickers', location = '/includes/ajs/select/QueryableDropdownSelect.js' */
define("jira/ajs/select/queryable-dropdown-select",["jira/ajs/control","jira/ajs/select/suggestions/default-suggest-handler","jira/ajs/layer/inline-layer-factory","jira/ajs/list/list","jira/util/navigator","jira/util/assistive","jquery","underscore"],function(Control,DefaultSuggestHandler,InlineLayerFactory,List,Navigator,Assistive,jQuery,_){var SUGGESTIONS_ID_SUFFIX="-suggestions";var CONTROL_ID=0;return Control.extend({INVALID_KEYS:{"Shift":true,"Esc":true,"Right":true},init:function(options){this.suggestionsVisible=false;this._setOptions(options);this._createFurniture();this._createDropdownController();this._createSuggestionsController();this._createListController();this._assignEventsToFurniture();if(this.options.width){this.setFieldWidth(this.options.width)}if(this.options.loadOnInit){this.requestSuggestions(true)}},_createDropdownController:function(){var instance=this;if(this.options.dropdownController){this.dropdownController=this.options.dropdownController}else{this.dropdownController=InlineLayerFactory.createInlineLayers({offsetTarget:this.$field,width:this.$field.innerWidth(),content:this.options.element})}this.dropdownController.onhide(function(){instance.hideSuggestions()})},_createSuggestionsController:function(){this.suggestionsHandler=this.options.suggestionsHandler?new this.options.suggestionsHandler(this.options):new DefaultSuggestHandler(this.options)},_createListController:function(){var instance=this;this.listController=new List({containerSelector:this.options.element,groupSelector:"ul.aui-list-section",matchingStrategy:this.options.matchingStrategy,eventTarget:this.$field,selectionHandler:function(){instance.$field.val("Loading...").css("color","#999");instance.hideSuggestions();return true}})},_onItemFocus:function(e,item){var $field=this.$field;var id=(item&&item.id)?item.id:"null";Assistive.wait(function(){$field.attr("aria-activedescendant",id)})},setFieldWidth:function(width){this.$container.css({width:width,minWidth:width})},showErrorMessage:function(value){var $container=this.$container.parent(".field-group");this.hideErrorMessage();this.$errorMessage.text(AJS.format(this.options.errorMessage,value||this.getQueryVal()));if($container.length===1){$container.append(this.$errorMessage);return }if($container.length===0){$container=this.$container.parent(".frother-control-renderer")}if($container.length===1){this.$errorMessage.prependTo($container);return }if($container.length===0){this.$container.parent().append(this.$errorMessage)}},hideErrorMessage:function(){if(this.$errorMessage){this.$errorMessage.remove()}this.$container.parent().find(".error").remove()},_getDefaultOptions:function(){CONTROL_ID+=1;return{id:CONTROL_ID,keyInputPeriod:75,localListLiveUpdateLimit:25,localListLiveUpdateDelay:150}},_createFurniture:function(){this.$container=this._render("container").insertBefore(this.options.element);this.suggestionsContainerId=this.options.id+SUGGESTIONS_ID_SUFFIX;this.$field=this._render("field").appendTo(this.$container);this.$dropDownIcon=this._render("dropdownAndLoadingIcon",this._hasDropdownButton()).appendTo(this.$container);if(this.options.overlabel){this.$overlabel=this._render("overlabel").insertBefore(this.$field);this.$overlabel.overlabel()}},_hasDropdownButton:function(){return this.options.showDropdownButton||this.options.ajaxOptions&&this.options.ajaxOptions.minQueryLength===0},_assignEventsToFurniture:function(){var instance=this;this._assignEvents("ignoreBlurElement",this.dropdownController.$layer);this._assignEvents("container",this.$container);if(this._hasDropdownButton()){this._assignEvents("ignoreBlurElement",this.$dropDownIcon);this._assignEvents("dropdownAndLoadingIcon",this.$dropDownIcon)}setTimeout(function(){instance._assignEvents("field",instance.$field);instance._assignEvents("keys",instance.$field)},15);this.listController.bind("itemFocus",this._onItemFocus.bind(this))},requestSuggestions:function(force){var instance=this,deferred=jQuery.Deferred();this.outstandingRequest=this.suggestionsHandler.execute(this.getQueryVal(),force).done(function(descriptors,query){if(query===instance.getQueryVal()){deferred.resolve(descriptors,query)}});if(this.outstandingRequest.state()!=="resolved"){window.clearTimeout(this.loadingWait);this.loadingWait=window.setTimeout(function(){if(instance.outstandingRequest.state()==="pending"){instance.showLoading()}},150);this.outstandingRequest.always(function(){instance.hideLoading()})}return deferred},showLoading:function(){this.$dropDownIcon.addClass("loading").removeClass("noloading");if(!this.$dropDownIcon.data("spinner")){this.$dropDownIcon.spin()}this.$field.attr("aria-busy","true");return this},hideLoading:function(){this.$dropDownIcon.removeClass("loading").addClass("noloading");this.$dropDownIcon.spinStop();this.$field.attr("aria-busy","false");return this},_setSuggestions:function(data){if(data){this.listController.generateListFromJSON(data,this.getQueryVal());this.showSuggestions()}else{this.hideSuggestions()}this.$container.attr("data-query",this.getQueryVal())},disable:function(){if(!this.disabled){this.$container.addClass("aui-disabled");this.$disabledBlanket=this._render("disabledBlanket").appendTo(this.$container);this.$field.attr("disabled",true);this.dropdownController.hide();this.disabled=true}},enable:function(){if(this.disabled){this.$container.removeClass("aui-disabled");this.$disabledBlanket.remove();this.$field.attr("disabled",false);this.disabled=false}},getQueryVal:function(){return jQuery.trim(this.$field.val())},_isValidInput:function(event){return this.$field.is(":visible")&&!(event.type==="aui:keydown"&&this.INVALID_KEYS[event.key])},_handleCharacterInput:function(force){var queryLength=this.getQueryVal().length;if(queryLength>=1||force){this.requestSuggestions(force).done(_.bind(function(suggestions){this._setSuggestions(suggestions)},this))}else{this.hideSuggestions()}},_handleDown:function(e){if(!this.suggestionsVisible){this.listController._latestQuery="";this._handleCharacterInput(true)}e.preventDefault()},_rejectPendingRequests:function(){if(this.outstandingRequest){this.outstandingRequest.reject()}},showSuggestions:function(){if(this.suggestionsVisible){return }this.suggestionsVisible=true;this.dropdownController.show();this.dropdownController.setWidth(this.$field.innerWidth());this.dropdownController.setPosition();this.listController.enable();this.$field.attr("aria-expanded","true");this.$field.attr("aria-controls",this.suggestionsContainerId)},hideSuggestions:function(){if(!this.suggestionsVisible){return }this._rejectPendingRequests();this.suggestionsVisible=false;this.$dropDownIcon.addClass("noloading");this.dropdownController.hide();this.listController.disable();this.$field.removeAttr("aria-activedescendant");this.$field.attr("aria-expanded","false");this.$field.removeAttr("aria-controls")},_deactivate:function(){this.hideSuggestions()},_handleEscape:function(e){if(this.suggestionsVisible){e.stopPropagation();if(e.type==="keyup"){this.hideSuggestions();if(Navigator.isIE()&&Navigator.majorVersion()<12){this.$field.focus()}}}},acceptFocusedSuggestion:function(){var focused=this.listController.getFocused();if(focused.length!==0&&focused.is(":visible")){this.listController._acceptSuggestion(focused)}},keys:{"Down":function(e){if(this._hasDropdownButton()){this._handleDown(e)}},"Up":function(e){e.preventDefault()},"Return":function(e){e.preventDefault()}},onEdit:function(){this._handleCharacterInput()},_events:{dropdownAndLoadingIcon:{click:function(e){if(this.suggestionsVisible){this.hideSuggestions()}else{this._handleDown(e);this.$field.focus()}e.stopPropagation()}},container:{disable:function(){this.disable()},enable:function(){this.enable()}},field:{blur:function(){if(!this.ignoreBlurEvent){this._deactivate()}else{this.ignoreBlurEvent=false}},click:function(e){e.stopPropagation()},"keydown keyup":function(e){if(e.keyCode===27){this._handleEscape(e)}}},keys:{"aui:keydown input":function(event){this._handleKeyEvent(event)}},ignoreBlurElement:{mousedown:function(e){if(Navigator.isIE()&&Navigator.majorVersion()<12){var targetIsDropdownController=(jQuery(e.target)[0]==jQuery(this.dropdownController.$layer)[0]);if(targetIsDropdownController){this.ignoreBlurEvent=true}if(typeof document.addEventListener==="undefined"){if(!targetIsDropdownController){var field=this.$field.get(0);function onbeforedeactivate(event){event.returnValue=false}field.attachEvent("onbeforedeactivate",onbeforedeactivate);setTimeout(function(){field.detachEvent("onbeforedeactivate",onbeforedeactivate)},0)}return }}e.preventDefault()}}},_renders:{disabledBlanket:function(){return jQuery("<div class='aui-disabled-blanket' />").height(this.$field.outerHeight())},overlabel:function(){return jQuery("<span id='"+this.options.id+"-overlabel' data-target='"+this.options.id+"-field' class='overlabel'>"+this.options.overlabel+"</span>")},baseField:function(tagName){tagName=tagName||"input";return jQuery("<"+tagName+" />").attr({"autocomplete":"off","role":"combobox","aria-autocomplete":"list","aria-haspopup":"true","aria-expanded":"false"})},field:function(){return this._render("baseField").attr({"class":"text","id":this.options.id+"-field","type":"text"})},container:function(){return jQuery("<div class='queryable-select' id='"+this.options.id+"-queryable-container' />")},dropdownAndLoadingIcon:function(showDropdown){var $element=jQuery('<span class="icon noloading"><span>More</span></span>');if(showDropdown){$element.addClass("drop-menu")}return $element},suggestionsContainer:function(idPrefix){return jQuery("<div></div>").attr({"class":"aui-list","id":idPrefix+SUGGESTIONS_ID_SUFFIX,"tabindex":"-1","role":"listbox"})}}})});AJS.namespace("AJS.QueryableDropdown",null,require("jira/ajs/select/queryable-dropdown-select"));AJS.namespace("AJS.QueryableDropdownSelect",null,require("jira/ajs/select/queryable-dropdown-select"));;
;
/* module-key = 'jira.webresources:select-pickers', location = '/includes/ajs/select/MultiSelect.Lozenge.js' */
define("jira/ajs/select/multi-select/lozenge",["jira/util/assistive","jira/ajs/control","jquery"],function(Assistive,Control,jQuery){var ID=0;var assistiveLabelId;return Control.extend({init:function(options){this.id=ID;ID+=1;this._setOptions(options);this.$lozenge=this._render("lozenge");this.$removeButton=this._render("removeButton");this.$removeButton.tooltip();this._assignEvents("instance",this);this._assignEvents("lozenge",this.$lozenge);this._assignEvents("removeButton",this.$removeButton);this.$removeButton.appendTo(this.$lozenge);this.$lozenge.appendTo(this.options.container)},_getDefaultOptions:function(){return{label:null,title:null,container:null,focusClass:"focused"}},_renders:{"lozenge":function(){var label=AJS.escapeHtml(this.options.label);var title=AJS.escapeHtml(this.options.title)||"";if(!assistiveLabelId){assistiveLabelId=Assistive.createOrUpdateLabel("Press delete or backspace to remove this option")}return jQuery('<li class="item-row" id="item-row-'+this.id+'" role="option" aria-describedby="'+assistiveLabelId+'"><button type="button" tabindex="-1" class="value-item"><span><span class="value-text">'+label+"</span></span></button></li>")},"removeButton":function(){return jQuery('<em class="item-delete" aria-label=" "></em>')}},_events:{"instance":{"focus":function(){this.$lozenge.addClass(this.options.focusClass)},"blur":function(){this.$lozenge.removeClass(this.options.focusClass)},"remove":function(){this.$lozenge.remove()}},"lozenge":{"click":function(){this.trigger("focus")}},"removeButton":{"click":function(){this.trigger("remove")}}}})});AJS.namespace("AJS.MultiSelect.Lozenge",null,require("jira/ajs/select/multi-select/lozenge"));;
;
/* module-key = 'jira.webresources:select-pickers', location = '/includes/ajs/select/MultiSelect.LozengeGroup.js' */
define("jira/ajs/select/multi-select/lozenge-group",["jira/ajs/group"],function(Group){return Group.extend({keys:{"Left":function(){if(this.index>0){this.shiftFocus(-1)}},"Right":function(){if(this.index===this.items.length-1){this.items[this.index].trigger("blur")}else{this.shiftFocus(1)}},"Backspace":function(){var index=this.index;if(index>0){this.shiftFocus(-1)}else{if(this.items.length>1){this.shiftFocus(1)}}this.items[index].trigger("remove")},"Return":function(){this.items[this.index].trigger("blur")},"Del":function(){var index=this.index;if(index+1<this.items.length){this.shiftFocus(1)}this.items[index].trigger("remove")}}})});AJS.namespace("AJS.MultiSelect.LozengeGroup",null,require("jira/ajs/select/multi-select/lozenge-group"));;
;
/* module-key = 'jira.webresources:select-pickers', location = '/includes/ajs/select/MultiSelect.js' */
define("jira/ajs/select/multi-select",["jira/ajs/select/multi-select/lozenge","jira/ajs/select/multi-select/lozenge-group","jira/ajs/select/queryable-dropdown-select","jira/ajs/select/select-helper","jira/ajs/select/select-model","jira/ajs/select/suggestions/select-suggest-handler","jira/ajs/layer/inline-layer-factory","jira/ajs/list/list","jira/ajs/list/item-descriptor","jira/util/navigator","jira/util/objects","jira/util/assistive","jquery"],function(MultiSelectLozenge,MultiSelectLozengeGroup,QueryableDropdownSelect,SelectHelper,SelectModel,SelectSuggestHandler,InlineLayerFactory,List,ItemDescriptor,Navigator,Objects,Assistive,jQuery){return QueryableDropdownSelect.extend({init:function(options){if(this._setOptions(options)===this.INVALID){return this.INVALID}jQuery.extend(this,SelectHelper);this.options.element=jQuery(this.options.element);this.lozengeGroup=this.options.itemGroup;this._createSelectModel();if(this.options.disabled){this._createFurniture(true);return this}this._createFurniture();this._createSuggestionsController();this._createListController();this._createDropdownController();this._assignEventsToFurniture();this._setInitState();if(this.options.width){this.setFieldWidth(this.options.width)}this.model.$element.addClass("multi-select-select").trigger("initialized",[this])},_createSelectModel:function(){this.model=new SelectModel({element:this.options.element,removeOnUnSelect:this.options.removeOnUnSelect})},_setInitState:function(){this._restoreSelectedOptions();if(this.options.inputText){this.$field.val(this.options.inputText);this.updateFreeInputVal()}},_createListController:function(){var instance=this;this.listController=new List({containerSelector:jQuery(".aui-list",this.$container),groupSelector:"ul.aui-list-section",matchingStrategy:this.options.matchingStrategy,maxInlineResultsDisplayed:this.options.maxInlineResultsDisplayed,expandAllResults:this.options.expandAllResults,selectionHandler:function(e){instance._selectionHandler(this.getFocused(),e);return false}})},_createDropdownController:function(){var instance=this;this.dropdownController=InlineLayerFactory.createInlineLayers({alignment:AJS.LEFT,offsetTarget:this.$field,maxInlineResultsDisplayed:this.options.maxInlineResultsDisplayed,content:jQuery(".aui-list",this.$container)});if(this.options.layerId){this.dropdownController.options.id=this.options.layerId}this.dropdownController.onhide(function(){instance.hideSuggestions()})},_createSuggestionsController:function(){this.suggestionsHandler=this.options.suggestionsHandler?new this.options.suggestionsHandler(this.options,this.model):new SelectSuggestHandler(this.options,this.model)},_getDefaultOptions:function(){return jQuery.extend(true,this._super(),{minRoomForText:50,errorMessage:"The value {0} is invalid.",showDropdownButton:true,itemGroup:new MultiSelectLozengeGroup(),suggestionsHandler:SelectSuggestHandler,itemBuilder:function(descriptor){return new MultiSelectLozenge({label:descriptor.label(),title:descriptor.title(),container:this.$selectedItemsContainer})}})},_createFurniture:function(disabled){var id=this.model.$element.attr("id");if(this.model.$element.prev().hasClass("ajs-multi-select-placeholder")){this.model.$element.prev().remove()}if(disabled){this.model.$element.replaceWith(this._render("disableSelectField",id))}else{this.$container=this._render("container",id);this.$field=this._render("field",id).appendTo(this.$container);var $suggestionsContainer=this._render("suggestionsContainer",id);this.$container.append($suggestionsContainer);this.suggestionsContainerId=$suggestionsContainer.attr("id");this.$container.insertBefore(this.model.$element);this.$dropDownIcon=this._render("dropdownAndLoadingIcon",this._hasDropdownButton()).appendTo(this.$container);this.$errorMessage=this._render("errorMessage",id);this.$selectedItemsWrapper=this._render("selectedItemsWrapper").appendTo(this.$container);this.$selectedItemsContainer=this._render("selectedItemsContainer").appendTo(this.$selectedItemsWrapper)}},_assignEventsToFurniture:function(){var instance=this;this._super();this._assignEvents("body",document);this._assignEvents("selectedItemsContainer",this.$selectedItemsContainer);this._assignEvents("lozengeGroup",this.lozengeGroup);this.model.$element.bind("updateOptions",function(e){instance.options=jQuery.extend(true,instance.options,instance.model.$element.getOptionsFromAttributes());instance._createSuggestionsController()}).bind("selectOption",function(e,descriptor){instance.addItem(descriptor)}).bind("removeOption",function(e,descriptor){instance.removeItem(descriptor)}).bind("clearSelection",function(){instance.clearLozenges()}).bind("showSuggestions",function(e){instance._handleDown(e)}).bind("hideSuggestions",function(){instance.hideSuggestions()})},_getUserInputValue:function(){return this.options.uppercaseUserEnteredOnSelect?this.$field.val().toUpperCase():this.$field.val()},clear:function(){this.$field.val("");this.hideSuggestions();this.clearSelection()},clearSelection:function(){this.model.setAllUnSelected();this.updateItemsIndent();this.model.$element.trigger("unselect",[this])},clearLozenges:function(){this.lozengeGroup.removeAllItems();this.clear()},removeItem:function(descriptor){var instance=this;this.model.setUnSelected(descriptor);window.setTimeout(function(){instance.updateItemsIndent()},0);this.model.$element.trigger("unselect",[descriptor,this])},_restoreSelectedOptions:function(){var instance=this;jQuery.each(this.model.getDisplayableSelectedDescriptors(),function(){instance.addItem(this,true)});this.updateItemsIndent()},_shouldEnableLozengeGroup:function(){return this.lozengeGroup.items.length>0&&this.lozengeGroup.index<0&&(this.$field.val().length===0||this.getCaret(this.$field[0])===0)},_handleBackSpace:function(){var instance=this;if(this._shouldEnableLozengeGroup()){setTimeout(function(){instance.lozengeGroup.shiftFocus(-1)},0)}},_handleLeft:function(){if(this._shouldEnableLozengeGroup()){var instance=this;setTimeout(function(){instance.lozengeGroup.shiftFocus(-1)},0)}},updateItemsIndent:function(){var lineHeight=20;var inputIndent=this._getInputIndent();var newHeight=inputIndent.top+lineHeight;if(this.$container&&this.$container.closest(".inline-edit-fields").size()){newHeight+=0}else{newHeight+=6}this.$field.css({paddingTop:inputIndent.top,paddingLeft:inputIndent.left});this.$field.css({height:newHeight});if(this.currentTopOffset&&this.currentTopOffset!==inputIndent.top){this.$container.trigger("multiSelectHeightUpdated",[this])}if(Navigator.isIE()&&Navigator.majorVersion()<11){this.$field.val(this.$field.val()+" ");this.$field.val(this.$field.val().replace(/\s$/,""))}this.currentTopOffset=inputIndent.top},_isItemPresent:function(descriptor){var duplicate=false;var value=descriptor.value();jQuery.each(this.lozengeGroup.items,function(){if(this.value===value){duplicate=true;return false}});return duplicate},addItem:function(descriptor,initialize){if(descriptor instanceof ItemDescriptor){descriptor=Objects.copyObject(descriptor.allProperties(),false)}descriptor.value=jQuery.trim(descriptor.value);descriptor.label=jQuery.trim(descriptor[this.options.itemAttrDisplayed])||descriptor.value;descriptor.title=jQuery.trim(descriptor.title)||descriptor.label;descriptor=new ItemDescriptor(descriptor);if(this._isItemPresent(descriptor)){return }var lozenge=this.options.itemBuilder.call(this,descriptor);this.lozengeGroup.addItem(lozenge);this._assignEvents("lozenge",lozenge);this.model.setSelected(descriptor);this.updateItemsIndent();this.dropdownController.setPosition();lozenge.value=descriptor.value();if(!initialize){this.model.$element.trigger("selected",[descriptor,this])}},_addMultipleItems:function(items,removeOnUnSelect){var instance=this;jQuery.each(items,function(i,descriptor){if(removeOnUnSelect){descriptor.removeOnUnSelect=true}instance.addItem(descriptor)})},_getInputIndent:function(){var top,left,indent,iconArea=21,paddingLeft=5,paddingTop=4,lastLozengeIndex=this.lozengeGroup.items.length-1,$last;indent={top:paddingTop,left:paddingLeft};if(lastLozengeIndex>=0){$last=this.lozengeGroup.items[lastLozengeIndex].$lozenge;top=$last.prop("offsetTop");left=$last.prop("offsetLeft")+$last.outerWidth();if(left>this.$container.width()-iconArea-this.options.minRoomForText){top+=$last.prop("offsetHeight");left=0}indent.top+=top;indent.left+=left}return indent},_selectionHandler:function(selected,e){var instance=this;selected.each(function(){instance.addItem(jQuery.data(this,"descriptor"))});this.$field.val("").focus().scrollIntoView({margin:20});this.hideSuggestions();this.hideErrorMessage();this.updateFreeInputVal();this.model.$element.trigger("change");e.preventDefault()},isValidItem:function(itemValue){var suggestedItemDescriptor=this.listController.getFocused().data("descriptor");if(!suggestedItemDescriptor){return false}itemValue=itemValue.toLowerCase();return itemValue===jQuery.trim(suggestedItemDescriptor.label.toLowerCase())||itemValue===jQuery.trim(suggestedItemDescriptor.value.toLowerCase())},handleFreeInput:function(){var value=jQuery.trim(this.$field.val()),descriptor;if(value){descriptor=this.model.getDescriptor(value);if(descriptor){this.addItem(descriptor);this.model.$element.trigger("change");this.$field.val("");this.hideErrorMessage();this.updateFreeInputVal()}else{if(!this.options.submitInputVal){this.showErrorMessage(value)}}}},submitForm:function(){if(this.$field.val().length===0&&!this.suggestionsVisible){jQuery(this.$field[0].form).submit()}},_handleCharacterInput:function(ignoreBuffer,ignoreQueryLength){this._super(ignoreBuffer,ignoreQueryLength);this.updateFreeInputVal()},_deactivate:function(){this.handleFreeInput();this.lozengeGroup.trigger("blur");this.hideSuggestions()},keys:{"Left":function(){this._handleLeft()},"Backspace":function(){this._handleBackSpace()},"Return":function(e){this.submitForm();e.preventDefault()},"Tab":function(e){this.acceptFocusedSuggestion()}},_events:{body:{tabSelect:function(){if(this.$field.is(":visible")){this.updateItemsIndent()}},multiSelectRevealed:function(){if(this.$field.is(":visible")){this.updateItemsIndent()}}},field:{blur:function(){if(!this.ignoreBlurEvent){this._deactivate()}else{this.ignoreBlurEvent=false;this.$field.focus()}},"aui:keydown aui:keypress":function(event){if(this.lozengeGroup.index>=0){if(event.key in this.lozengeGroup.keys){event.preventDefault()}else{if(event.key==="Return"){this.submitForm();event.preventDefault()}else{this.onEdit(event);this.lozengeGroup.trigger("blur")}}}},click:function(){this.lozengeGroup.trigger("blur");this.$field.focus()}},lozengeGroup:{focus:function(){this.$field.focus();this.hideSuggestions();this._unassignEvents("keys",this.$field);this.$field.attr("aria-controls",this.suggestionsContainerId)},blur:function(){this._assignEvents("keys",this.$field);this.$field.removeAttr("aria-controls");if(this.$field.val()){this._handleCharacterInput()}}},lozenge:{remove:function(event){this.removeItem(this.model.getDescriptor(event.target.value));this.$field.focus()},focus:function(event){Assistive.wait(function(){this.$field.attr("aria-activedescendant",event.currentTarget.$lozenge.attr("id"))}.bind(this))},blur:function(){this.$field.removeAttr("aria-activedescendant")}},selectedItemsContainer:{click:function(event){if(event.target===event.currentTarget){this.lozengeGroup.trigger("blur");this.$field.focus()}}}},_renders:{errorMessage:function(idPrefix){return jQuery('<div class="error" />').attr("id",idPrefix+"-error")},selectedItemsWrapper:function(){return jQuery('<div class="representation"></div>')},selectedItemsContainer:function(){return jQuery('<ul class="items" role="listbox" />')},field:function(idPrefix){return this._render("baseField","textarea").attr({"id":idPrefix+"-textarea","class":"text long-field","wrap":"off"})},disableSelectField:function(id){return jQuery("<input type='text' class='long-field' name='"+id+"' id='"+id+"' />")},container:function(idPrefix){return jQuery('<div class="jira-multi-select long-field" id="'+idPrefix+'-multi-select">')},suggestionsContainer:function(idPrefix){return jQuery('<div class="aui-list" id="'+idPrefix+'-suggestions" tabindex="-1"></div>')}}})});AJS.namespace("AJS.MultiSelect",null,require("jira/ajs/select/multi-select"));;
;
/* module-key = 'jira.webresources:select-pickers', location = '/includes/jira/field/IssuePicker.js' */
define("jira/field/issue-picker",["jira/ajs/select/multi-select","jira/ajs/list/group-descriptor","jira/ajs/list/item-descriptor","jquery"],function(MultiSelect,GroupDescriptor,ItemDescriptor,jQuery){var IssuePicker=MultiSelect.extend({_formatResponse:function(response){var ret=[],canonicalBaseUrl=(function(){var uri=parseUri(window.location);return uri.protocol+"://"+uri.authority})();if(response&&response.sections){jQuery(response.sections).each(function(i,section){var groupDescriptor=new GroupDescriptor({weight:i,label:section.label,description:section.sub});if(section.issues&&section.issues.length>0){jQuery(section.issues).each(function(){groupDescriptor.addItem(new ItemDescriptor({highlighted:true,value:this.key,label:this.key+" - "+this.summaryText,icon:this.img?canonicalBaseUrl+contextPath+this.img:null,html:this.keyHtml+" - "+this.summary}))})}ret.push(groupDescriptor)})}return ret},_getDefaultOptions:function(){return jQuery.extend(true,this._super(),{ajaxOptions:{formatResponse:this._formatResponse}})},_launchPopup:function(){function getWithDefault(value,def){if(value==null){return def}else{return value}}var url,urlParam,vWinUsers,options,instance=this;IssuePicker.callback=function(items){if(typeof items==="string"){items=JSON.parse(items)}instance._addMultipleItems(items,true);instance.$field.focus()};options=this.options.ajaxOptions.data;url=contextPath+"/secure/popups/IssuePicker.jspa?";urlParam={singleSelectOnly:"false",decorator:"popup",currentIssue:options.currentIssueKey||"",showSubTasks:getWithDefault(options.showSubTasks,false),showSubTasksParent:getWithDefault(options.showSubTaskParent,false)};if(options.currentProjectId){urlParam["currentProjectId"]=options.currentProjectId}url+=jQuery.param(urlParam);vWinUsers=window.open(url,"IssueSelectorPopup","status=no,resizable=yes,top=100,left=200,width="+this.options.popupWidth+",height="+this.options.popupHeight+",scrollbars=yes,resizable");vWinUsers.opener=self;vWinUsers.focus()},_createFurniture:function(disabled){var $popupLink;this._super(disabled);$popupLink=this._render("popupLink");this._assignEvents("popupLink",$popupLink);this.$container.addClass("jira-issue-picker");this.$container.addClass("hasIcon");this.$container.after($popupLink)},handleFreeInput:function(){var values=this.$field.val().toUpperCase().match(/\S+/g);if(values){this._addMultipleItems(jQuery.map(values,function(value){return{value:value,label:value}}))}this.$field.val("")},_events:{popupLink:{click:function(e){this._launchPopup();e.preventDefault()}}},_renders:{popupLink:function(){return jQuery("<a class='issue-picker-popup' />").attr({href:"#",title:this.options.popupLinkMessage}).text(""+this.options.popupLinkMessage+"")}}});IssuePicker.callback=null;return IssuePicker});AJS.namespace("jira.issuepicker",null,require("jira/field/issue-picker"));AJS.namespace("AJS.IssuePicker",null,require("jira/field/issue-picker"));AJS.namespace("JIRA.IssuePicker",null,require("jira/field/issue-picker"));;
;
/* module-key = 'jira.webresources:select-pickers', location = '/includes/jira/field/LabelPicker.js' */
define("jira/field/label-picker",["jira/ajs/select/multi-select","jira/ajs/list/group-descriptor","jira/ajs/list/item-descriptor","jquery"],function(MultiSelect,GroupDescriptor,ItemDescriptor,jQuery){return MultiSelect.extend({_getDefaultOptions:function(){return jQuery.extend(true,this._super(),{ajaxOptions:{url:contextPath+"/includes/js/ajs/layer/labeldata.js",query:true,formatResponse:this._formatResponse},removeDuplicates:true,removeOnUnSelect:true,userEnteredOptionsMsg:"New Label"})},isValidItem:function(itemValue){return !/\s/.test(itemValue)},_handleServerSuggestions:function(data){if(data&&data.token){if(jQuery.trim(this.$field.val())!==data.token){return }}this._super(data)},_handleSpace:function(){if(jQuery.trim(this.$field.val())!==""){if(this.handleFreeInput()){this.hideSuggestions()}}},keys:{"Spacebar":function(event){this._handleSpace();event.preventDefault()}},_formatResponse:function(data){var optgroup=new GroupDescriptor({label:"Suggestions",type:"optgroup",styleClass:"labels-suggested"});if(data&&data.suggestions){jQuery.each(data.suggestions,function(){optgroup.addItem(new ItemDescriptor({value:this.label,label:this.label,html:this.html,highlighted:true}))})}return[optgroup]},handleFreeInput:function(){var values=jQuery.trim(this.$field.val()).match(/\S+/g);if(values){for(var value,i=0;value=values[i];i++){this.addItem({value:value,label:value})}this.model.$element.trigger("change")}this.$field.val("")}})});AJS.namespace("AJS.LabelPicker",null,require("jira/field/label-picker"));AJS.namespace("JIRA.LabelPicker",null,require("jira/field/label-picker"));;
;
/* module-key = 'jira.webresources:select-pickers', location = '/includes/ajs/select/SingleSelect.js' */
define("jira/ajs/select/single-select",["jira/ajs/select/queryable-dropdown-select","jira/ajs/select/select-helper","jira/ajs/select/select-model","jira/ajs/select/suggestion-collection-model","jira/ajs/select/suggestions/select-suggest-handler","jira/ajs/layer/inline-layer-factory","jira/ajs/list/list","jira/ajs/list/item-descriptor","jira/util/navigator","jquery"],function(QueryableDropdownSelect,SelectHelper,SelectModel,SuggestionCollectionModel,SelectSuggestHandler,InlineLayerFactory,List,ItemDescriptor,Navigator,jQuery){return QueryableDropdownSelect.extend({init:function(options){if(this._setOptions(options)===this.INVALID){return this.INVALID}this._createSelectModel();if(this.options.disabled){this._createFurniture(true);return this}jQuery.extend(this,SelectHelper);this._createFurniture();this._createSuggestionsController();this._createDropdownController();this._createListController();this._assignEventsToFurniture();this._setInitState();if(this.options.width){this.setFieldWidth(this.options.width)}if(this.$overlabel){this.$overlabel.overlabel(this.$field)}this.model.$element.addClass("aui-ss-select").trigger("initialized",[this])},_setInitState:function(){if(this.options.editValue){this._setEditingMode();this.$field.val(this.options.editValue)}else{if(this.getSelectedDescriptor()){this.setSelection(this.getSelectedDescriptor())}else{this._setEditingMode();if(this.options.inputText){this.$field.val(this.options.inputText)}}}},_createSelectModel:function(){if(!!this.options.model){this.model=new this.options.model({element:this.options.element,removeOnUnSelect:this.options.removeOnUnSelect})}else{this.model=new SelectModel({element:this.options.element,removeOnUnSelect:this.options.removeOnUnSelect})}},_createDropdownController:function(){this.dropdownController=InlineLayerFactory.createInlineLayers({alignment:AJS.LEFT,offsetTarget:this.$field,content:jQuery(".aui-list",this.$container),setMaxHeightToWindow:this.options.setMaxHeightToWindow,minHeight:this.options.minHeight})},_createSuggestionsController:function(){this.suggestionsHandler=this.options.suggestionsHandler?new this.options.suggestionsHandler(this.options,this.model):new SelectSuggestHandler(this.options,this.model)},_assignEventsToFurniture:function(){var instance=this;this._super();this.model.$element.bind("reset",function(){var selectedDescriptor=instance.getSelectedDescriptor();if(selectedDescriptor){instance.setSelection(instance.getSelectedDescriptor())}}).bind("showSuggestions",function(e){instance._handleDown(e)}).bind("hideSuggestions",function(){instance.hideSuggestions()}).bind("set-selection-value",function(e,value){instance._setDescriptorWithValue(value)})},setFieldWidth:function(width){this.$container.css({maxWidth:width});this.$field.css({maxWidth:width})},_createListController:function(){var instance=this;this.listController=new List({containerSelector:jQuery(".aui-list",this.$container),groupSelector:"ul.aui-list-section",matchingStrategy:this.options.matchingStrategy,maxInlineResultsDisplayed:this.options.maxInlineResultsDisplayed,matchItemText:this.options.matchItemText,hasLinks:this.options.hasLinks,selectionHandler:function(e){var selectedSuggestion=this.getFocused(),selectedDescriptor=selectedSuggestion.data("descriptor");instance.setSelection(selectedDescriptor);instance.$field.select();e.preventDefault();return false}})},getSelectedDescriptor:function(){return this.model.getDisplayableSelectedDescriptors()[0]},getDisplayVal:function(descriptor){return descriptor[this.options.itemAttrDisplayed||"label"]()},_getDefaultOptions:function(){return jQuery.extend(true,this._super(),{errorMessage:"The value {0} is invalid.",revertOnInvalid:false,showDropdownButton:true})},_createFurniture:function(disabled){var id=this.model.$element.attr("id");this.model.$element.data("aui-ss",true);this.$container=this._render("container",this.model.id);var containerClass=this.model.$element.data("container-class");if(containerClass){this.$container.addClass(containerClass)}if(disabled){var value=this.model.$element.val()&&this.model.$element.val()[0];value=value||"";this.model.$element.replaceWith(this._render("disableSelectField",id,value))}else{var placeholder=this.model.getPlaceholder();this.$field=this._render("field",this.model.id,placeholder).appendTo(this.$container);if(placeholder&&!this._placeholderSupported()){this.options.overlabel=placeholder;this.$overlabel=this._render("overlabel").insertBefore(this.$field)}var $suggestionsContainer=this._render("suggestionsContainer",this.model.id);this.suggestionsContainerId=$suggestionsContainer.attr("id");this.$container.append($suggestionsContainer);this.$field.attr("aria-controls",$suggestionsContainer.attr("id"));this.$container.insertBefore(this.model.$element);this.$dropDownIcon=this._render("dropdownAndLoadingIcon",this._hasDropdownButton()).appendTo(this.$container);this.$errorMessage=this._render("errorMessage")}},_placeholderSupported:function(){return !(Navigator.isIE()&&Navigator.majorVersion()<10)},getQueryVal:function(){if(this.$container.hasClass("aui-ss-editing")){return jQuery.trim(this.$field.val())}else{return""}},_setSuggestions:function(data,context){if(data){this._super(data,context);this.model.$element.trigger("suggestionsRefreshed",[this])}else{this.hideSuggestions()}},_setEditingMode:function(){this.$container.addClass("aui-ss-editing").removeClass("aui-ss-has-entity-icon");this.$field.css("paddingLeft")},_hasIcon:function(){var icon,selectedDescriptor=this.getSelectedDescriptor();if(selectedDescriptor){icon=selectedDescriptor.icon();return icon&&icon!=="none"}},_setReadOnlyMode:function(){this.$container.removeClass("aui-ss-editing");if(this._hasIcon()){this.$container.addClass("aui-ss-has-entity-icon");if(Navigator.isIE()&&Navigator.majorVersion()>8){this.$container.append(this.$field.detach())}}},submitForm:function(){if(!this.suggestionsVisible){this.handleFreeInput();jQuery(this.$field[0].form).submit()}},selectValue:function(value){this.listController.selectValue(value)},setSelection:function(descriptor,triggerChangeEvent){triggerChangeEvent=typeof triggerChangeEvent!=="undefined"?triggerChangeEvent:true;if(typeof descriptor==="string"){descriptor=new ItemDescriptor({value:descriptor,label:descriptor})}this.removeFreeInputVal();this.$field.val(descriptor.fieldText()||this.getDisplayVal(descriptor));this.$field.trigger("change");if(this.model.setSelected(descriptor,triggerChangeEvent)){this.hideErrorMessage()}if(this._hasIcon()){if(this.$entityIcon){this.$entityIcon.remove()}this.$entityIcon=this._render("entityIcon",descriptor.icon()).appendTo(this.$container)}this._setReadOnlyMode();this.hideSuggestions();this.lastSelection=descriptor;this.model.$element.trigger("selected",[descriptor,this])},clear:function(){this.$field.val("");this.hideSuggestions();this.clearSelection()},clearSelection:function(){var instance=this;instance._setEditingMode();instance.model.setAllUnSelected();instance.model.$element.trigger("unselect",[this])},_handleServerSuggestions:function(data){this.cleanUpModel();this._super(data)},cleanUpModel:function(){if(this.options.ajaxOptions.query){this.model.clearUnSelected()}},onEdit:function(){if(this.getSelectedDescriptor()){this.clearSelection()}this._super();this.model.$element.trigger("query")},handleFreeInput:function(value){value=value||jQuery.trim(this.$field.val());if(this.options.revertOnInvalid&&!this.model.getDescriptor(value)){this.setSelection(this.lastSelection||"")}else{if(this.$container.hasClass("aui-ss-editing")){if(this._setDescriptorWithValue(value)){this.hideErrorMessage()}else{if(!this.options.submitInputVal){this.showErrorMessage(value)}}}}},_setDescriptorWithValue:function(value){var descriptor=this.model.getDescriptor(value);if(descriptor){this.setSelection(descriptor);return true}return false},_handleCharacterInput:function(force){this._super(force);if(this.$container.hasClass("aui-ss-editing")){this.updateFreeInputVal()}},_deactivate:function(){this.handleFreeInput();this.hideSuggestions()},keys:{"Return":function(e){this.submitForm();e.preventDefault()},"Tab":function(){this.acceptFocusedSuggestion()}},_events:{field:{focus:function(){var instance=this;window.setTimeout(function(){if(instance.$field.is(":focus")){instance.$field.select()}},0)},click:function(){this._handleCharacterInput(true)}}},_renders:{label:function(label,id){return jQuery("<label />").attr("for",id).text(label).addClass("overlabel")},errorMessage:function(){return jQuery('<div class="error" />')},entityIcon:function(url){var icon=jQuery('<img class="aui-ss-entity-icon" alt=""/>');icon.attr("src",url);return icon},field:function(idPrefix,placeholder){var $field=this._render("baseField").attr({"class":"text aui-ss-field ajs-dirty-warning-exempt","id":idPrefix+"-field","type":"text"});if(placeholder){$field.attr("placeholder",placeholder)}return $field},disableSelectField:function(id,value){return jQuery("<input type='text' class='text long-field' value='"+value+"' name='"+id+"' id='"+id+"' />")},container:function(idPrefix){return jQuery('<div class="aui-ss'+(this.options.ajaxOptions?" ajax-ss":"")+'" id="'+idPrefix+'-single-select">')},dropdownAndLoadingIcon:function(showDropdown){var $element=jQuery('<span class="icon aui-ss-icon noloading"><span>More</span></span>');if(showDropdown){$element.addClass("drop-menu")}return $element}}})});AJS.namespace("AJS.SingleSelect",null,require("jira/ajs/select/single-select"));;
;
/* module-key = 'jira.webresources:select-pickers', location = '/includes/ajs/select/ScrollableSingleSelect.js' */
define("jira/ajs/select/scrollable-single-select",["jira/ajs/select/single-select","jira/ajs/layer/inline-layer-factory","jira/ajs/list/pageable-list","jquery","underscore"],function(SingleSelect,InlineLayerFactory,PageableList,jQuery,_){return SingleSelect.extend({init:function(options){var defaults={newResultsThreshold:90};options=jQuery.extend(true,defaults,options);this._super(options);this.newResultsThreshold=options.newResultsThreshold},_assignEventsToFurniture:function(){var instance=this,promise;this._super();this.dropdownController.$layer.on("scroll",function(){if(this.scrollTop*100/instance.newResultsThreshold>this.scrollHeight-this.clientHeight){if(!promise||promise.isResolved()){promise=instance._fetchNewContent().done(function(){if(instance.listController.isDisplayedAllItems()&&typeof instance.scrolledToBottomHandler==="function"){instance.scrolledToBottomHandler()}}).fail(function(e){instance.listController.showPageRenderError();instance.model.$element.one("suggestionsRefreshed",function(){promise=undefined})})}}})},_createListController:function(){var instance=this;this.listController=new PageableList({containerSelector:jQuery(".aui-list",this.$container),groupSelector:"ul.aui-list-section",matchingStrategy:this.options.matchingStrategy,pageSize:this.options.pageSize,pagingThreshold:this.options.pagingThreshold,matchItemText:this.options.matchItemText,hasLinks:this.options.hasLinks,selectionHandler:function(e){var selectedSuggestion=this.getFocused(),selectedDescriptor=selectedSuggestion.data("descriptor");instance.setSelection(selectedDescriptor);instance.$field.select();e.preventDefault();return false}})},_fetchNewContent:function(){var promise=jQuery.Deferred();_.defer(function(){try{this.listController.addNextPage();promise.resolve()}catch(error){promise.reject(error)}}.bind(this));return promise}})});;
;
/* module-key = 'jira.webresources:select-pickers', location = '/includes/ajs/select/CheckboxMultiSelect.js' */
define("jira/ajs/select/checkbox-multi-select",["jira/ajs/select/queryable-dropdown-select","jira/ajs/select/select-helper","jira/ajs/select/select-model","jira/ajs/select/suggestions/checkbox-multi-select-suggest-handler","jira/ajs/list/list","jira/ajs/list/item-descriptor","jira/util/events","jira/util/events/types","jquery","underscore"],function(QueryableDropdownSelect,SelectHelper,SelectModel,SelectSuggestHandler,List,ItemDescriptor,Events,Types,jQuery,_){return QueryableDropdownSelect.extend({init:function(options){var instance=this;jQuery.extend(this,SelectHelper);this._setOptions(options);var element=jQuery(this.options.element);if(!element.attr("multiple")){throw"Cannot create CheckboxMultiSelect without multiple-select select element."}this.options.element=jQuery(this.options.element).hide();this.model=new SelectModel({element:this.options.element,removeOnUnSelect:this.options.removeOnUnSelect});this.suggestionsHandler=this.options.suggestionsHandler?new this.options.suggestionsHandler(this.options,this.model):new SelectSuggestHandler(this.options,this.model);this.options.element.bind("updateOptions",function(){instance._setOptions(options)}).bind("selectOption",function(e,descriptor){instance.selectItem(descriptor)}).bind("removeOption",function(e,descriptor){instance.unselectItem(descriptor)}).bind("clear",function(){instance.clear()});this._createFurniture();this._createDropdownController();this._createListController();this._assignEventsToFurniture();this.render();this.model.$element.addClass("check-list-select-select").trigger("initialized",[this]);Events.trigger(Types.CHECKBOXMULITSELECT_READY,[this.model.$element,this]);return this},_createListController:function(){var instance=this;this.listController=new List({stallEventBind:this.options.stallEventBind,containerSelector:jQuery(".aui-list",this.$container),scrollContainer:".aui-list-scroll",selectionEvent:"change",delegateTarget:this.$field,hasLinks:false,itemSelector:".check-list-item",groupSelector:"ul.aui-list-section",matchingStrategy:this.options.matchingStrategy,maxInlineResultsDisplayed:this.options.maxInlineResultsDisplayed,expandAllResults:this.options.expandAllResults,renderers:this._getCustomRenders(),selectionHandler:function(e){var focusedItem;if(e.type==="change"){focusedItem=jQuery(e.target).closest(this.options.itemSelector)}else{focusedItem=this.getFocused()}instance._selectionHandler(focusedItem,e);return false}})},_createDropdownController:function(){this.dropdownController={show:jQuery.noop,setWidth:jQuery.noop,setPosition:jQuery.noop,hide:jQuery.noop}},_getCustomRenders:function(){return{suggestion:this._renders.suggestionItem,suggestionItemElement:this._renders.suggestionItemElement.bind(this),suggestionItemResolver:this._renders.suggestionItemResolver.bind(this)}},_handleCharacterInput:function(force){jQuery.each(this.listController.$container.find(".invalid-item"),function(){jQuery(this).tipsy("hide")});this.requestSuggestions(force).done(_.bind(function(suggestions){this._setSuggestions(suggestions)},this));this.$dropDownIcon.toggleClass("clear-field aui-iconfont-remove",!!this.getQueryVal());this.$dropDownIcon.toggleClass("aui-iconfont-search",!this.getQueryVal());this.listController.moveToFirst()},_getDefaultOptions:function(){return jQuery.extend(true,this._super(),{errorMessage:"The value {0} is invalid.",stallEventBind:true})},_createFurniture:function(){var id=this.model.$element.attr("id");this.$container=this._render("container",id);this.$fieldContainer=this._render("fieldContainer").appendTo(this.$container);this.$field=this._render("field",id,this._getPlaceholderText()).appendTo(this.$fieldContainer);var $suggestionsContainer=this._render("suggestionsContainer",id);this.suggestionsContainerId=$suggestionsContainer.attr("id");this.$container.append($suggestionsContainer);this.$field.attr("aria-controls",$suggestionsContainer.attr("id"));this.$container.insertBefore(this.model.$element);this.$dropDownIcon=this._render("dropdownAndLoadingIcon").appendTo(this.$fieldContainer)},_getPlaceholderText:function(){var placeholderText=jQuery.trim(this.model.$element.data("placeholder-text"));return(placeholderText&&placeholderText!=="")?placeholderText:"Search"},_assignEventsToFurniture:function(){var instance=this;this._assignEvents("body",document);if(this.options.stallEventBind){window.setTimeout(function(){instance._assignEvents("field",instance.$field)._assignEvents("keys",instance.$field)._assignEvents("container",instance.$container)._assignEvents("fieldIcon",instance.$dropDownIcon)},0)}else{instance._assignEvents("field",instance.$field)._assignEvents("keys",instance.$field)._assignEvents("fieldIcon",instance.$dropDownIcon)}this.listController.$container.delegate(".clear-all","click",function(event){event.preventDefault();var $clearAll=jQuery(event.target);if($clearAll.hasClass("disabled")){return }$clearAll.parent().remove();instance.clear()});this.listController.bind("itemFocus",this._onItemFocus.bind(this))},clear:function(){var instance=this;var selectedDescriptors=this.model.getDisplayableSelectedDescriptors();this.model.setAllUnSelected();if(this.$field.val().length===0){this.$field.val("");this.listController.$container.find(":checkbox").removeAttr("checked")}else{this.clearQueryField();this.listController.moveToFirst()}this._toggleClearButton();jQuery.each(selectedDescriptors,function(){instance.model.$element.trigger("unselect",[this,instance,true])})},clearQueryField:function(){this.$field.val("");this._handleCharacterInput(true);this.$field.focus()},unselectItem:function(descriptor){this.model.setUnSelected(descriptor);this.model.$element.trigger("unselect",[descriptor,this,false]);this.$container.find(".aui-list input[type=checkbox]").each(function(){if(this.value===descriptor.value()){this.checked=false}})},showLoading:function(){this.$dropDownIcon.addClass("loading").removeClass("noloading");return this},hideLoading:function(){this.$dropDownIcon.removeClass("loading").addClass("noloading");return this},_handleEscape:function(e){var $field=this.$field;if(e.type==="keydown"&&$field.val()!==""){e.stopPropagation();$field.val("");$field.on("keyup",handleEscKeyUp);this._handleCharacterInput(true)}function handleEscKeyUp(event){if(event.keyCode===27){event.stopPropagation();$field.off("keyup",handleEscKeyUp)}}},selectItem:function(descriptor,initialize){this.model.setSelected(descriptor);if(!initialize){this.model.$element.trigger("selected",[descriptor,this])}this.$container.find(".aui-list input[type=checkbox]").each(function(){if(this.value===descriptor.value()){this.checked=true}})},_selectionHandler:function(selected,event){var instance=this;selected.each(function(){var descriptor=jQuery.data(this,"descriptor"),$input=jQuery(this).find(":input");if(instance._directCheckboxClick||event.shiftKey){descriptor.properties.fromCheckbox=true}instance._setDescriptorSelection(descriptor,$input)});this._toggleClearButton()},_toggleClearButton:function(){var hasSelection=this.model.getSelectedValues().length>0;this.listController.$container.find(".clear-all").attr("tabindex",hasSelection?null:-1).closest(".check-list-group-actions").toggleClass("hidden",!hasSelection)},_setDescriptorSelection:function(descriptor,$input){if(!descriptor.selected()){this.selectItem(descriptor);$input.attr("checked","checked")}else{this.unselectItem(descriptor);$input.removeAttr("checked")}},render:function(){this._handleCharacterInput(true)},_events:{field:{"keydown":function(event){if(event.keyCode===13){event.preventDefault();var instance=this;this.model.$element.bind("unselect selected",handleSelected);setTimeout(function(){instance.model.$element.unbind("unselect selected",handleSelected)},0)}function handleSelected(){if(jQuery.trim(instance.$field.val())!==""){instance.$field.val("");instance._handleCharacterInput(true)}}}},container:{mousedown:function(event){var instance=this;function onmouseup(event){if(event.type==="mouseup"){instance._directCheckboxClick=true;setTimeout(function(){instance._directCheckboxClick=false},40)}jQuery(document).unbind("mouseup mouseleave",onmouseup)}if(jQuery(event.target).is("input[type=checkbox]")){jQuery(document).unbind("mouseup mouseleave",onmouseup).bind("mouseup mouseleave",onmouseup)}if(event.target!==this.$field.get(0)){event.preventDefault()}},click:function(){if(this.$field.get(0)!==document.activeElement){this.$field.focus()}}},fieldIcon:{click:function(e){if(jQuery(e.target).hasClass("clear-field")){this.clearQueryField()}}}},_renders:{errorMessage:function(idPrefix){return jQuery('<div class="error" />').attr("id",idPrefix+"-error")},fieldContainer:function(){return jQuery("<div class='check-list-field-container' />")},field:function(idPrefix,placeholderText){return this._render("baseField").attr({"placeholder":placeholderText,"class":"aui-field check-list-field","id":idPrefix+"-input"})},disableSelectField:function(id){return jQuery("<input type='text' class='long-field' name='"+id+"' id='"+id+"' />")},container:function(idPrefix){return jQuery('<div class="check-list-select" id="'+idPrefix+'-multi-select">')},suggestionItemElement:function(descriptor,replacementText){var $checkbox=jQuery("<input type='checkbox' tabindex='-1' />").val(descriptor.value()),$listElem=jQuery('<li class="check-list-item" role="option" id="'+descriptor.value()+"-"+this.options.id+'">'),$label=jQuery("<label class='item-label' />"),$img;if(descriptor.styleClass()){$listElem.addClass(descriptor.styleClass())}if(replacementText){$label.html(replacementText)}else{if(descriptor.html()){$label.html(descriptor.html())}else{$label.text(descriptor.label())}}if(descriptor.selected()){$checkbox.attr("checked","checked")}if(descriptor.icon()&&descriptor.icon()!=="none"){$img=jQuery("<img src='"+descriptor.icon()+"' height='16' width='16' align='absmiddle' />");if(descriptor.fallbackIcon()&&descriptor.fallbackIcon()!=="none"){$img.one("error",function(){this.src=descriptor.fallbackIcon()})}$label.prepend($img)}if(descriptor.title()){$label.attr("title",descriptor.title());$label.attr("data-descriptor-title",descriptor.title())}if(descriptor.disabled()){$listElem.addClass("disabled");$checkbox.attr("disabled","disabled")}$label.prepend($checkbox);$listElem.append($label);return $listElem},suggestionItemResolver:function(descriptor,replacementText){return this._render("suggestionItemElement",descriptor,replacementText)},suggestionItem:function(descriptor,replacementText){var $listElem=this._render("suggestionItemResolver",descriptor,replacementText),$label=$listElem.find("label"),$tipsyTarget;if(descriptor.invalid()||descriptor.disabled()){$listElem.addClass("has-invalid-item");$label.append("<span class='invalid-item'></span>");$tipsyTarget=$label.find(".invalid-item");_.defer(function(){$listElem.attr("original-title",$listElem.attr("title"));$listElem.removeAttr("title")});var title;if(descriptor.title()){title=descriptor.title();$label.attr("original-title",title);$label.removeAttr("title")}else{title=AJS.format("{0} \'\'{1}\'\' is not valid for your current Project(s) and/or Issue Type(s) selection","Value",descriptor.label())}$tipsyTarget.tipsy({title:function(){return title},className:"tipsy-front",trigger:"manual"});$tipsyTarget.hoverIntent({interval:200,over:function(){$tipsyTarget.tipsy("show")},out:function(){$tipsyTarget.tipsy("hide")}})}return $listElem.data("descriptor",descriptor)},dropdownAndLoadingIcon:function(){return jQuery('<span class="icon-default aui-icon aui-icon-small aui-iconfont-search noloading"></span>')}},handleFreeInput:jQuery.noop,hideSuggestions:jQuery.noop,showErrorMessage:jQuery.noop,_deactivate:jQuery.noop})});AJS.namespace("AJS.CheckboxMultiSelect",null,require("jira/ajs/select/checkbox-multi-select"));;
;
/* module-key = 'jira.webresources:select-pickers', location = '/includes/ajs/select/CheckboxMultiSelectStatusLozenge.js' */
define("jira/ajs/select/checkbox-multi-select-status-lozenge",["jira/ajs/select/checkbox-multi-select","jquery"],function(CheckboxMultiSelect,jQuery){return CheckboxMultiSelect.extend({_getCustomRenders:function(){var renders=this._super();renders.suggestionItemStatusLozenge=this._renders.suggestionItemStatusLozenge;return renders},_renders:{suggestionItemStatusLozenge:function(descriptor){var $checkbox=jQuery("<input type='checkbox' tabindex='-1' />").val(descriptor.value()),$listElem=jQuery('<li class="check-list-item" role="option" id="'+descriptor.value()+"-"+this.options.id+'">'),$label=jQuery("<label class='item-label' />");if(descriptor.styleClass()){$listElem.addClass(descriptor.styleClass())}$label.html(JIRA.Template.Util.Issue.Status.issueStatusResolver({issueStatus:descriptor.model().data("simple-status"),isSubtle:true}));if(descriptor.selected()){$checkbox.attr("checked","checked")}if(descriptor.title()){$label.attr("data-descriptor-title",descriptor.title())}if(descriptor.disabled()){$listElem.addClass("disabled");$checkbox.attr("disabled","disabled")}$label.prepend($checkbox);$listElem.append($label);return $listElem},suggestionItemResolver:function(descriptor,replacementText){if(descriptor.model().data("simple-status")){return this._render("suggestionItemStatusLozenge",descriptor)}else{return this._render("suggestionItemElement",descriptor,replacementText)}}}})});AJS.namespace("AJS.CheckboxMultiSelectStatusLozenge",null,require("jira/ajs/select/checkbox-multi-select-status-lozenge"));;
;
/* module-key = 'jira.webresources:shifter', location = '/includes/jira/shifter/shifter.soy' */
// This file was automatically generated from shifter.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.Shifter.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.Shifter == 'undefined') { JIRA.Templates.Shifter = {}; }


JIRA.Templates.Shifter.dialog = function(opt_data, opt_ignored) {
  return '<div class="shifter-dialog" id="' + soy.$$escapeHtml(opt_data.id) + '"><form class="aui ajs-dirty-warning-exempt"><div id="' + soy.$$escapeHtml(opt_data.id) + '-suggestions" class="aui-list"></div></form><div class="hint-container overflow-ellipsis" title="' + soy.$$escapeHtml("Pressing period (.) opens this dialog box") + '">' + soy.$$filterNoAutoescape("Pressing period (\x3ckbd\x3e.\x3c/kbd\x3e) opens this dialog box") + '</div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.Shifter.dialog.soyTemplateName = 'JIRA.Templates.Shifter.dialog';
}


JIRA.Templates.Shifter.groupHeading = function(opt_data, opt_ignored) {
  return '<div class="shifter-group-heading"><h5>' + soy.$$escapeHtml(opt_data.groupName) + '</h5>' + ((opt_data.groupContext) ? '<span class="shifter-group-context">' + soy.$$escapeHtml(opt_data.groupContext) + '</span>' : '') + '</div>';
};
if (goog.DEBUG) {
  JIRA.Templates.Shifter.groupHeading.soyTemplateName = 'JIRA.Templates.Shifter.groupHeading';
}
;
;
/* module-key = 'jira.webresources:shifter', location = '/includes/jira/shifter/ShifterAnalytics.js' */
define("jira/shifter/shifter-analytics",["jira/util/strings","jira/util/data/meta","underscore","exports"],function(StringUtils,Meta,_,exports){var privacyPolicySafeGroups=["admin","issue-actions"];function isGroupSafe(group){return privacyPolicySafeGroups.indexOf(group)>=0}var privacyPolicySafeLabels=["done","start progress","ready for review","stop progress","reopen","approve","reject","reopen and start progress"];function isLabelSafe(label){return privacyPolicySafeLabels.indexOf(label)>=0}function prepareLabel(label,value,group){value=extractValue(value);label=label.toLowerCase();if(isGroupSafe(group)||isLabelSafe(label)){return label}else{if(group==="edit-fields"){if(!StringUtils.startsWith(value,"customfield_")){return value}}}return StringUtils.hashCode(label)}function extractValue(value){if(_.isObject(value)&&_.has(value,"url")){return value.url}else{if(_.isString(value)){return value.toLowerCase()}else{return""}}}function trigger(eventName,attributes){AJS.trigger("analyticsEvent",{name:"jira.dotdialog."+eventName,data:attributes})}function getLanguage(){var locale=Meta.get("user-locale");var language;if(StringUtils.contains(locale,"_")){language=locale.split("_")[0]}return language||"en"}exports.show=function show(){trigger("show")};exports.selection=function selection(label,value,gorup){if(gorup&&value&&label){trigger("selection",{group:gorup,selected:prepareLabel(label,value,gorup),lang:getLanguage()})}};exports.selection.privacyPolicySafeGroups=privacyPolicySafeGroups;exports.selection.privacyPolicySafeLabels=privacyPolicySafeLabels});;
;
/* module-key = 'jira.webresources:shifter', location = '/includes/jira/shifter/ShifterSelect.js' */
define("jira/shifter/shifter-select",["jira/ajs/select/queryable-dropdown-select","jira/ajs/list/list-with-messages","jira/ajs/list/message-descriptor","jquery","underscore"],function(QueryableDropdownSelect,ListWithMessages,MessageDescriptor,jQuery,_){return QueryableDropdownSelect.extend({init:function(options){_.extend(options,{dropdownController:{setWidth:jQuery.noop,setPosition:jQuery.noop,onhide:jQuery.noop,hide:jQuery.noop,show:jQuery.noop}});this._super(options);this.$field.attr("aria-controls",this.options.element.attr("id"));this.$field.attr("placeholder","Find Actions...");this.$dropDownIcon.click(_.bind(this.clear,this));this._handleCharacterInput()},onEdit:function(){this.toggleClearButton();this._handleCharacterInput()},clear:function(){this.$field.val("").focus();this.onEdit()},toggleClearButton:function(){this.$dropDownIcon.toggleClass("aui-iconfont-remove",!!this.$field.val())},showLoading:function(){this._super();this.$dropDownIcon.removeClass("aui-iconfont-remove")},hideLoading:function(){this._super();this.toggleClearButton()},_handleCharacterInput:function(){this._super(true);if(this.getQueryVal().length===0){this.listController.moveToFirst()}},_createListController:function(){var instance=this;this.listController=new ListWithMessages({containerSelector:this.options.element,groupSelector:"ul.aui-list-section",scrollContainer:".aui-list-scroll",matchingStrategy:this.options.matchingStrategy,maxResultsDisplayedPerGroup:this.options.maxResultsDisplayedPerGroup,eventTarget:this.$field,hasLinks:false,renderers:{suggestionGroupHeading:this._renders.suggestionGroupHeading},selectionHandler:function(e){var targetData=jQuery(e.currentTarget).data();if(targetData&&targetData.descriptor instanceof MessageDescriptor){return false}var selectedDescriptor=this.getFocused().data("descriptor");var groupIndex=selectedDescriptor.meta().groupIndex;var group=instance.options.groups[groupIndex];var value=selectedDescriptor.value();var label=selectedDescriptor.label();instance.$dropDownIcon.removeClass("aui-iconfont-remove");instance.$field.val("Loading...").prop("disabled",true);instance.options.onSelection(group,value,label)}})},hideSuggestions:jQuery.noop,_renders:{suggestionGroupHeading:function(descriptor){return jQuery(JIRA.Templates.Shifter.groupHeading({groupName:descriptor.label(),groupContext:descriptor.description()})).data("descriptor",descriptor)},dropdownAndLoadingIcon:function(showDropdown){return jQuery('<span class="icon noloading aui-icon aui-icon-small"><span>More</span></span>')}}})});AJS.namespace("JIRA.ShifterComponent.ShifterSelect",null,require("jira/shifter/shifter-select"));;
;
/* module-key = 'jira.webresources:shifter', location = '/includes/jira/shifter/ShifterDialog.js' */
define("jira/shifter/shifter-dialog",["jira/lib/class","jira/data/session-storage","jira/shifter/shifter-select","jira/ajs/list/group-descriptor","jira/ajs/list/item-descriptor-factory","jira/shifter/shifter-analytics","jquery","underscore"],function(Class,sessionStorage,ShifterSelect,GroupDescriptor,ItemDescriptorFactory,ShifterAnalytics,jQuery,_){return Class.extend({BLUR_DELAY:50,init:function(id,groups,options){this.id=id;this.groups=groups;this.options=options;this._render();this._destroyOnBlur();this._preventFocusOnNonInputElements();jQuery(document).on("mousedown.shifterdialog."+id,_.bind(this._destroyOnMousedownOutside,this))},focus:function(){if(this.$dialog){this.$dialog.find("input").focus()}},destroy:function(){var $dialog=this.$dialog;if($dialog){$dialog.stop().animate({top:-1*$dialog.height()},100,function(){$dialog.remove()});this.$dialog=null;jQuery(document).off("mousedown.shifterdialog."+this.id)}},destroyed:function(){return !this.$dialog},saveLastQuery:function(query){sessionStorage.setItem("JIRA.Shifter.lastQuery",query)},getLastQuery:function(){return sessionStorage.getItem("JIRA.Shifter.lastQuery")},enterLoadingState:function(){var $dialog=this.$dialog;$dialog.addClass("loading-action");$dialog.find(".aui-list").slideUp(200)},_render:function(){var html=JIRA.Templates.Shifter.dialog({id:this.id});var $dialog=this.$dialog=jQuery(html).appendTo("body");var shifterSelect=this.shifterSelect=new ShifterSelect({id:this.id,element:$dialog.find(".aui-list"),groups:this.groups,suggestionsHandler:this._makeSuggestionsHandler(),onSelection:_.bind(this._onSelection,this),maxResultsDisplayedPerGroup:this.options.maxResultsDisplayedPerGroup});if(this.getLastQuery()){shifterSelect.$field.val(this.getLastQuery()).select();shifterSelect.onEdit()}shifterSelect.$field.on("keyup",_.bind(function(e){if(e.which===jQuery.ui.keyCode.ESCAPE){e.stopPropagation();this.destroy()}},this));if(AJS.currentLayerItem&&AJS.currentLayerItem.hide){AJS.currentLayerItem.hide()}$dialog.css("top",-1*$dialog.height()).animate({top:0},100)},_destroyOnBlur:function(){this.$dialog.find("input").blur(_.bind(function(){setTimeout(_.bind(function(){if(this.$dialog&&!jQuery.contains(this.$dialog[0],document.activeElement)){this.destroy()}},this),this.BLUR_DELAY)},this))},_destroyOnMousedownOutside:function(e){if(this.$dialog.find(e.target).length===0&&e.target!==this.$dialog){this.destroy()}},_preventFocusOnNonInputElements:function(){var $inputs=this.$dialog.find("input");this.$dialog.mousedown(function(e){if(jQuery.inArray(e.target,$inputs)===-1){e.preventDefault()}})},_makeSuggestionsHandler:function(){var groups=this.groups;return Class.extend({execute:function(query){var suggestions=[];var masterDeferred=jQuery.Deferred();var deferredsRemaining=groups.length;_.map(groups,function(group,groupIndex){return group.getSuggestions(query).done(function(groupSuggestions){if(!_.isArray(groupSuggestions)){return }suggestions.push(new GroupDescriptor({label:group.name,description:group.context,weight:group.weight,items:_.map(groupSuggestions,function(suggestion){return ItemDescriptorFactory.createItemDescriptor(suggestion,groupIndex)})}));suggestions.sort(function(a,b){return a.weight()-b.weight()})}).always(function(){deferredsRemaining--;if(deferredsRemaining===0){masterDeferred.resolve(suggestions,query)}})});return masterDeferred}})},_onSelection:function(group,value,label){ShifterAnalytics.selection(label,value,group.id);this.saveLastQuery(label);var ret=group.onSelection(value,label);if(ret&&_.isFunction(ret.always)){this.enterLoadingState();ret.always(_.bind(this.destroy,this))}else{this.destroy()}}})});AJS.namespace("JIRA.ShifterComponent.ShifterDialog",null,require("jira/shifter/shifter-dialog"));;
;
/* module-key = 'jira.webresources:shifter', location = '/includes/jira/shifter/ShifterController.js' */
define("jira/shifter/shifter-controller",["jira/lib/class","jira/shifter/shifter-dialog","jira/shifter/shifter-analytics","underscore"],function(Class,ShifterDialog,ShifterAnalytics,_){return Class.extend({MAX_RESULTS_PER_GROUP:5,init:function(id){this.id=id;this.groupFactories=[]},register:function(groupFactory){this.groupFactories.push(groupFactory);return groupFactory},unregister:function(groupFactory){this.groupFactories=_.without(this.groupFactories,groupFactory);return groupFactory},show:function(){ShifterAnalytics.show();if(!this.dialog||this.dialog.destroyed()){var groups=_.chain(this.groupFactories).map(function(factory){return factory()}).compact().flatten().value().sort(function(a,b){return a.weight-b.weight});this.dialog=new ShifterDialog(this.id,groups,{maxResultsDisplayedPerGroup:this.MAX_RESULTS_PER_GROUP})}this.dialog.focus()},hide:function(){this.dialog&&this.dialog.destroy()}})});AJS.namespace("JIRA.ShifterComponent.ShifterController",window,require("jira/shifter/shifter-controller"));;
;
/* module-key = 'jira.webresources:shifter', location = '/includes/jira/shifter/shifter.js' */
(function(){var shifter=null;define("jira/shifter",["jira/shifter/shifter-controller"],function(ShifterController){if(shifter===null){shifter=new ShifterController("shifter-dialog")}return shifter})})();AJS.namespace("JIRA.Shifter",null,require("jira/shifter"));;
;
/* module-key = 'jira.webresources:inline-attach', location = '/includes/ajs/attachment/InlineAttach.js' */
define("jira/attachment/inline-attach",["jira/lib/class","jira/xsrf","jira/util/navigator","jquery"],function(Class,XSRF,Navigator,jQuery){var InlineAttach=Class.extend({init:function(element){var $element=jQuery(element);if(InlineAttach.AjaxPresenter.isSupported($element)){new InlineAttach.AjaxPresenter($element)}else{new InlineAttach.FormPresenter($element)}}});jQuery.extend(InlineAttach,{MAX_UPLOADS:2,DISPLAY_WAIT:600,rescope:function(fn,scope){if(fn){if(scope){return jQuery.proxy(fn,scope)}else{return fn}}else{return jQuery.noop}},copyArrayLike:function(array){return jQuery.makeArray(array)},Renderers:{container:function(){return jQuery("<div class='field-group'/>")}}});InlineAttach.Presenter=Class.extend({init:function(){this.cancelled=false;this.running=[];this.waiting=[]},_addUpload:function(upload){if(!this.cancelled){if(this.running.length>=InlineAttach.MAX_UPLOADS){this.waiting.push(upload)}else{this.running.push(upload);upload.upload()}}return this.running.length>0},_finishUpload:function(upload){if(!this.cancelled){InlineAttach.Presenter.removeFromArray(this.waiting,upload);if(InlineAttach.Presenter.removeFromArray(this.running,upload)){if(this.waiting.length>0){var next=this.waiting.shift();this.running.push(next);next.upload()}}}return this.running.length>0},_cancel:function(){this.cancelled=true;var i;var wait=InlineAttach.copyArrayLike(this.waiting);for(i=0;i<wait.length;i++){wait[i].abort()}var run=InlineAttach.copyArrayLike(this.running);for(i=0;i<run.length;i++){run[i].abort()}this.waiting=[];this.running=[]}});jQuery.extend(InlineAttach.Presenter,{removeFromArray:function(array,element){var index=jQuery.inArray(element,array);if(index>=0){return array.splice(index,1)}else{return null}}});InlineAttach.FormPresenter=InlineAttach.Presenter.extend({init:function($element){this._super();this.form=new InlineAttach.Form(new InlineAttach.FileInput($element,false));this.form.fileSelector.onChange(jQuery.proxy(this._attach,this));this.form.onCancel(jQuery.proxy(this._cancel,this))},_attach:function(fileName){this.form.clearErrors();if(this.cancelled){return }var form=this.form,data=this._createSubmitData();var $oldInput=form.cloneFileInput();form.fileSelector.clear();var progress=form.addStaticProgress(fileName);var timer=new InlineAttach.Timer(function(){!this.cancelled&&progress.show()},this);var upload=new InlineAttach.FormUpload({$input:$oldInput,url:InlineAttach.FormPresenter.DEFAULT_URL,params:data,scope:this,before:function(){!this.cancelled&&progress.start()},success:function(val){if(this.cancelled){return }if(val.id&&val.name){form.addTemporaryFileCheckbox(val.id,val.name,progress)}else{if(val.errorMsg){form.addErrorWithFileName(val.errorMsg,fileName,progress)}else{form.addError(InlineAttach.Text.tr("upload.error.bad.response",fileName),progress)}}},error:function(text){if(this.cancelled){return }if(text.indexOf("SecurityTokenMissing")>=0){form.addError(InlineAttach.Text.tr("upload.xsrf.timeout",fileName),progress)}else{form.addError(InlineAttach.Text.tr("upload.error.unknown",fileName),progress)}},after:function(){timer.cancel();progress.remove();if(!this.cancelled&&!this._finishUpload(upload)){form.enable()}}});progress.onCancel(function(){upload.abort()});if(this._addUpload(upload)){timer.schedule(InlineAttach.DISPLAY_WAIT);form.disable()}form.fileSelector.focus()},_cancel:function(){this._super();this.form.enable()},_createSubmitData:function(){var data={atl_token:this.form.getAtlToken(),formToken:this.form.getFormToken()};if(this.form.issueId){data.id=this.form.issueId}else{if(this.form.projectId){data.create=true;data.projectId=this.form.projectId}else{throw"Unable to find either an issueId or projectId to submit the attachment to."}}return data}});InlineAttach.FormPresenter.DEFAULT_URL=contextPath+"/secure/AttachTemporaryFile.jspa?decorator=none";InlineAttach.AjaxPresenter=InlineAttach.Presenter.extend({init:function($element){this._super();this.form=new InlineAttach.Form(new InlineAttach.FileInput($element,true));this.form.fileSelector.onChange(jQuery.proxy(this._attach,this));this.form.onCancel(jQuery.proxy(this._cancel,this))},_attach:function(files){this.form.clearErrors();if(this.cancelled){return }if(files&&files.length>0){files=this._checkAndFilterFiles(files);if(files){this._uploadFiles(files)}}this.form.fileSelector.clear().focus()},_checkAndFilterFiles:function(files){if(files.length>InlineAttach.AjaxPresenter.MAX_SELECTED_FILES){this.form.addError(InlineAttach.Text.tr("upload.error.too.many.files",files.length,InlineAttach.AjaxPresenter.MAX_SELECTED_FILES));return null}var maxSize=this.form.maxSize;var newFiles=[];for(var i=0;i<files.length;i++){try{var file=files[i];if(file.size===0){this.form.addError(InlineAttach.Text.tr("upload.empty.file",file.name))}else{if(maxSize>0&&file.size>maxSize){var sizes=InlineAttach.Text.fileSize(maxSize,file.size);this.form.addError(InlineAttach.Text.tr("upload.too.big",file.name,sizes[1],sizes[0]))}else{newFiles.push({name:file.name,size:file.size,file:file})}}}catch(e){this.form.addError(InlineAttach.AjaxUpload.getClientErrorMessage(e,file))}}return newFiles.length===0?null:newFiles},_createSubmitData:function(){var data={atl_token:this.form.getAtlToken(),formToken:this.form.getFormToken()};if(this.form.issueId){data.issueId=this.form.issueId}else{if(this.form.projectId){data.projectId=this.form.projectId}else{throw"Unable to find either an issueId or projectId to submit the attachment to."}}return data},_uploadFiles:function(files){var form=this.form,data=this._createSubmitData(),that=this,running=false;jQuery.each(files,function(){var progress=form.addProgress(this),file=this;var timer=new InlineAttach.Timer(function(){if(!that.cancelled){progress.show()}});var upload=new InlineAttach.AjaxUpload({file:file.file,params:jQuery.extend({filename:file.name,size:file.size},data),scope:that,url:InlineAttach.AjaxPresenter.DEFAULT_URL,before:function(){!this.cancelled&&progress.start()},progress:function(val){!this.cancelled&&progress.update(val)},success:function(val,status){if(this.cancelled){return }if(status===201){if(val.id!==undefined&&val.name!==undefined){form.addTemporaryFileCheckbox(val.id,val.name,progress,file.file)}else{form.addError(InlineAttach.Text.tr("upload.error.bad.response",file.name),progress)}}else{if(val.token){form.setAtlToken(val.token)}if(val.errorMessage){form.addErrorWithFileName(val.errorMessage,file.name,progress)}else{form.addError(this._getErrorFromStatus(status,file),progress)}}},error:function(text,status){if(this.cancelled){return }if(status<0){form.addError(text,progress)}else{var statusError=this._getErrorFromStatus(status,file);if(statusError){form.addError(statusError,progress)}else{form.addError(InlineAttach.Text.tr("upload.error.unknown",file.name),progress)}}},after:function(){timer.cancel();progress.finish().remove();if(!this.cancelled&&!this._finishUpload(upload)){form.enable()}}});progress.onCancel(function(){upload.abort()});if(that._addUpload(upload)){running=true;timer.schedule(InlineAttach.DISPLAY_WAIT)}});if(running){this.form.disable()}},_getErrorFromStatus:function(status,file){var error;if(status===0){error=InlineAttach.Text.tr("upload.error.server.no.reply",file.name)}else{if(status===400){error=InlineAttach.Text.tr("upload.error.badrequest",file.name)}else{if(status===401){error=InlineAttach.Text.tr("upload.error.auth",file.name)}else{error=InlineAttach.Text.tr("upload.error.unknown.status",file.name,status)}}}return error},_cancel:function(){this._super();this.form.enable()}});jQuery.extend(InlineAttach.AjaxPresenter,{DEFAULT_URL:contextPath+"/rest/internal/2/AttachTemporaryFile",MAX_SELECTED_FILES:100,isSupported:function($element){if(!$element||!$element[0]||!$element[0].files){return false}else{return InlineAttach.AjaxUpload.isSupported()}}});InlineAttach.FileInput=Class.extend({init:function($fileInput,testMultiple){this.$element=$fileInput;this.$container=$fileInput.parent();if(testMultiple&&this.$element[0].files!==undefined){this.$element.attr("multiple","multiple");this.multiple=true}else{this.multiple=false}},clear:function(){this.$element.val("");return this},getFiles:function(){return this.$element[0].files},hasFiles:function(){return this.getFiles().length>0},onChange:function(callback){var that=this;this.$element.change(function(){if(that.multiple){callback.call(that,this.files)}else{callback.call(that,that.getFileName())}});return this},focus:function(){if(this._isIE()){var $e=this.$element;setTimeout(function(){$e.focus()},0)}else{this.$element.focus()}return this},cloneInput:function(){var oldElement=this.$element;oldElement.replaceWith(this.$element=oldElement.clone(true));oldElement.unbind();return oldElement},getFileName:(function(){var fakepath=/^c:\\fakepath\\(?!$)/i;return function(){var fileName=this.$element.val();fileName=fileName.replace(fakepath,"");if(this._isIE()&&fileName.indexOf("\\")>=0){fileName=fileName.substring(fileName.lastIndexOf("\\")+1)}return fileName}})(),_isIE:function(){return Navigator.isIE()&&Navigator.majorVersion()<11},before:function(el){if(el){if(el.$element){el=el.$element}this.$container.before(el)}}});(function(){var options={showPercentage:false,height:"2px"},count=0;InlineAttach.ProgressBar=Class.extend({init:function(){var $container=this.$element=this._renderers.container();this.$progress=this._renderers.progress().appendTo($container);this.$progress.progressBar(0,options);this.hidden=true;this.old=0},value:function(value){if(value>100){value=100}else{if(value<0){value=0}}if(this.hidden){this.$progress.show();this.hidden=false}if(this.old!==value){this.$progress.progressBar(value,options);if(value>=100){this.$progress.fadeOut()}this.old=value}},_renderers:{container:function(){return jQuery("<div>").addClass("file-progress")},progress:function(){return jQuery("<div>").attr("id","upload-progress-"+(count++)).hide()}}})})();InlineAttach.UploadProgress=Class.extend({init:function(file){var $container=this.$element=InlineAttach.Renderers.container().hide();var progress=this.progress=new InlineAttach.ProgressBar();var content=this._renders.content(file.name);this.$content=content.$content;this.$cancel=content.$cancel;$container.append(content.$element).append(progress.$element);this.total=file.size;this.current=0;this.name=file.name;this.timer=new InlineAttach.Timer(this._update,this);this.rateNumerator=0;this.rateDenominator=0;this._title(InlineAttach.Text.tr("upload.progress.title.waiting"))},start:function(){this.started=this._now();this.startedSize=0;return this},update:function(current){this.timer.cancel();return this._update(current)},_update:function(current){var now=this._now();if(current===undefined){current=this.current}else{if(current!==this.current){this.lastUpdate=now;this.current=current}}var text=InlineAttach.Text;var percentage=Math.min(100,Math.round(current/this.total*100));var partSize=text.currentOutOfTotalSize(current,this.total);var rateDisplay,remainingDisplay;this.progress.value(percentage);var timeDiff=(now-this.started)/1000;if(timeDiff>=2){if(this.startedSize>0){this._addRate((current-this.startedSize)/timeDiff)}this.started=now;this.startedSize=current}var rate=this._calcRate();if(current>=InlineAttach.UploadProgress.DATA_MIN&&rate>0){var remaining=Math.max(1,(this.total-current)/rate);rateDisplay=text.rate(rate);remainingDisplay=text.time(remaining)}if(now-this.lastUpdate>=InlineAttach.UploadProgress.STALLED_TIMEOUT){this._content(text.tr("upload.file.stalled",this.name));if(rateDisplay){this._title(text.tr("upload.progress.title.known.stalled",rateDisplay,partSize))}else{this._title(text.tr("upload.progress.title.unknown.stalled",partSize))}}else{if(rateDisplay){this._title(text.tr("upload.progress.title.known",rateDisplay,partSize,remainingDisplay));this._content(text.tr("upload.file.remaining",this.name,remainingDisplay))}else{this._title(partSize);this._content(this.name)}}if(current<this.total){this.timer.schedule(InlineAttach.UploadProgress.UPLOAD_REFRESH)}return this},finish:function(){this.progress.value(100);this.timer.cancel();return this},onCancel:function(callback){var that=this;this.$cancel.click(function(e){e.preventDefault();callback.call(that)});return this},remove:function(){this.$element.remove();return this},hide:function(){this.$element.hide();return this},show:function(){this.$element.fadeIn();return this},_title:function(title){this.$element.attr("title",title);return this},_content:function(rem){this.$content.text(rem);return this},_addRate:function(rate){var weight=InlineAttach.UploadProgress.WEIGHT;this.rateNumerator=this.rateNumerator*weight+rate;this.rateDenominator=this.rateDenominator*weight+1},_calcRate:function(){if(this.rateDenominator===0){return 0}var value=this.rateNumerator/this.rateDenominator;if(Math.abs(value)<0.005){return 0}else{return value}},_now:function(){return new Date().getTime()},_renders:{content:function(fileName){var text=InlineAttach.Text.tr("upload.file.waiting",fileName);var $container=jQuery("<div class='loading file'>");var $content=jQuery("<span>").text(text);var $cancel=jQuery("<a href='#'/>").text(InlineAttach.Text.tr("upload.cancel"));$container.append($content).append(" ").append($cancel);return{$element:$container,$content:$content,$cancel:$cancel}}}});jQuery.extend(InlineAttach.UploadProgress,{STALLED_TIMEOUT:10000,UPLOAD_REFRESH:2000,DATA_MIN:20*1024,WEIGHT:0.7});InlineAttach.UnknownProgress=Class.extend({init:function(fileName){var content=this._renders.content(fileName);this.$element=content.$element;this.$cancel=content.$cancel;this.$content=content.$content;this.fileName=fileName;this._title(InlineAttach.Text.tr("upload.progress.title.waiting"))},remove:function(){this.$element.remove();return this},hide:function(){this.$element.hide();return this},show:function(){this.$element.fadeIn();return this},start:function(){this._title(InlineAttach.Text.tr("upload.progress.title.running"));this._content(this.fileName);return this},onCancel:function(callback){var that=this;this.$cancel.click(function(e){e.preventDefault();callback.call(that)});return this},_title:function(title){this.$element.attr("title",title);return this},_content:function(text){this.$content.text(text);return this},_renders:{content:function(fileName){var text=InlineAttach.Text.tr("upload.file.waiting",fileName);var $cancel=jQuery("<a href='#'/>").text(InlineAttach.Text.tr("upload.cancel"));var $loading=jQuery("<div class='loading file'>");var $content=jQuery("<span>").text(text);$loading.append($content).append(" ").append($cancel);var $container=InlineAttach.Renderers.container().append($loading);return{$element:$container,$cancel:$cancel,$content:$content}}}});InlineAttach.Form=Class.extend({init:function(fileInput){this.fileSelector=fileInput;this.$form=fileInput.$element.closest("form");this.maxSize=parseInt(this.$form.find("#attach-max-size").text()||jQuery("#attach-max-size").text());if(isNaN(this.maxSize)){throw"Unable to find maximum upload size on form."}var assigned=false;var val=parseInt(this.$form.find(":input[name=id]").val());if(!isNaN(val)){assigned=true;this.issueId=val}val=parseInt(this.$form.find(":input[name=pid]").val());if(!isNaN(val)){assigned=true;this.projectId=val}if(!assigned){throw"Unable to find either an issueId or projectId to submit the attachment to."}},getAtlToken:function(){var $atlToken=this.$form.find("input[name='atl_token']");if($atlToken.length>0){return $atlToken.val()}else{return atl_token()}},setAtlToken:function(token){var $token=this.$form.find("input[name='atl_token']");if($token.length>0){$token.val(token)}else{XSRF.updateTokenOnPage(token)}return this},getFormToken:function(){var $formToken=this.$form.find("input[name='formToken']");if($formToken.length>0){return $formToken.val()}else{return null}},disable:function(){this._getFormSubmits().attr("disabled","disabled");return this},enable:function(){this._getFormSubmits().removeAttr("disabled");return this},addProgress:function(file){var prog=new InlineAttach.UploadProgress(file);this._addElement(prog.$element);return prog},addStaticProgress:function(fileName){var prog=new InlineAttach.UnknownProgress(fileName);this._addElement(prog.$element);return prog},addTemporaryFileCheckbox:function(value,name,replaceObj,file){var $thumbNail=this.addLocalThumbnailImage(name,file);var $element=InlineAttach.Renderers.container();var $label=jQuery("<label>").attr("for","filetoconvert-"+value).text(name);var $check=jQuery("<input type='checkbox' class='checkbox' name='filetoconvert' checked='checked'>").attr({"id":"filetoconvert-"+value,"value":value,"title":InlineAttach.Text.tr("upload.checkbox.title")});$element.append($check).append($label);if($thumbNail){$element.append(jQuery("<br/>")).append($thumbNail)}$element.hide();this._replaceElement($element,replaceObj);return this},addLocalThumbnailImage:function(name,file){var $thumbNail=null;window.URL=window.webkitURL||window.URL;if(file&&window.URL&&window.URL.createObjectURL){var imageType=/image.*/;if(file.type.match(imageType)){var that=this;var title=name+" - "+InlineAttach.Text.fileSize(file.size)+" - "+file.type;var img=document.createElement("img");img.title=title;img.alt=title;img.onload=function(e){var aspectRatio=that.getAspectRatio(100,100,img.width,img.height);img.width=Math.round(img.width/aspectRatio);img.height=Math.round(img.height/aspectRatio);$thumbNail.show();window.URL.revokeObjectURL(img.src)};img.src=window.URL.createObjectURL(file);$thumbNail=jQuery(img).hide()}}return $thumbNail},getAspectRatio:function(maxWidth,maxHeight,origWidth,origHeight){if(origWidth>maxWidth){return Math.round(origWidth/maxWidth)}else{if(origHeight>maxHeight){return Math.round(origHeight/maxHeight)}else{return 1}}},addErrorWithFileName:function(error,fileName,replaceObj){if(error.indexOf(fileName)===-1){error=InlineAttach.Text.tr("upload.error.server",fileName,error)}return this.addError(error,replaceObj)},addError:function(error,replaceObj){var $element=InlineAttach.Renderers.container();$element.addClass("error").append(jQuery("<div>").text(error)).hide();this._replaceElement($element,replaceObj);return $element},clearErrors:function(){this.$form.find("div.error").remove();return this},cloneFileInput:function(){return this.fileSelector.cloneInput()},onCancel:function(callback){var $cancel=this.$form.find("a.cancel");$cancel.click(jQuery.proxy(callback,this));return this},_getFormSubmits:function(){return this.$form.find("input[type=submit]")},_addElement:function(el){this.fileSelector.before(el)},_replaceElement:function($element,replaceObj){if(replaceObj&&replaceObj.$element){replaceObj.$element.replaceWith($element)}else{this._addElement($element)}$element.fadeIn()}});InlineAttach.FormUpload=Class.extend({init:function(options){var scope=options.scope||null;var rescope=InlineAttach.rescope;this.$input=options.$input;this.url=options.url;this.params=options.params||{};this.successcb=rescope(options.success,scope);this.errorcb=rescope(options.error,scope);this.before=rescope(options.before,scope);this.after=rescope(options.after,scope);this.abortcb=rescope(options.abort,scope);this.aborted=false;this.$form=null;this.xhr=null},upload:function(){if(this.aborted){return }var url=this.url;var params=jQuery.param(this.params);if(params){url=url+"?"+params}var $attachForm=this.$form=this._renders.form(url),that=this;this._addToBody($attachForm.append(this.$input));$attachForm.ajaxForm({dataType:"json",data:this.params,timeout:0,beforeSend:function(xhr){that.xhr=xhr},beforeSubmit:function(){that.before()},error:function(xhr){if(that.aborted){that.abortcb()}else{var text=(xhr&&xhr.responseText)||"";that.errorcb(text)}},success:function(data){that.successcb(data||{})},complete:function(){if(that.$form){that.$form.remove();that.$form=null}that.after()}});$attachForm.submit()},abort:function(){if(!this.aborted){this.aborted=true;if(this.xhr){this.xhr.abort();this.xhr=null}else{this.abortcb();this.after()}}},_addToBody:function($form){jQuery("body").append($form)},_renders:{form:function(postUrl){return jQuery("<form method='post' enctype='multipart/form-data'/>").attr("action",postUrl).hide()}}});InlineAttach.AjaxUpload=Class.extend({init:function(options){var scope=options.scope||null;var rescope=InlineAttach.rescope;this.file=options.file;this.url=options.url;this.params=options.params||{};this.beforecb=rescope(options.before,scope);this.progresscb=rescope(options.progress,scope);this.errorcb=rescope(options.error,scope);this.successcb=rescope(options.success,scope);this.abortcb=rescope(options.abort,scope);this.finalcb=rescope(options.after,scope);this.aborted=false},upload:function(){if(this.aborted||this.xhr){return }var xhr=this.xhr=InlineAttach.AjaxUpload.xhr();xhr.upload.onprogress=jQuery.proxy(this._upload,this);xhr.onreadystatechange=jQuery.proxy(this._statechange,this);var url=this.url;var params=jQuery.param(this.params);if(params){url=url+"?"+params}this.beforecb();try{xhr.open("POST",url,true);xhr.setRequestHeader("Content-Type",this.file.type||"application/octet-stream");xhr.send(this.file)}catch(e){this._clienterror(e,this.file)}},abort:function(){if(!this.aborted){this.aborted=true;if(this.xhr){this.xhr.abort()}else{this.abortcb();this.finalcb()}}},_statechange:function(){if(this.xhr.readyState===4){if(this.aborted){this.abortcb()}else{try{this.successcb(JSON.parse(this.xhr.responseText),this.xhr.status,this.xhr)}catch(e){this.errorcb(this.xhr.responseText,this.xhr.status,this.xhr)}this.xhr.upload.onprogress=this.xhr.statechange=null}this.finalcb()}},_clienterror:function(e,file){this.errorcb(InlineAttach.AjaxUpload.getClientErrorMessage(e,file),-1,this.xhr);this.finalcb()},_upload:function(event){if(event.lengthComputable){this.progresscb(event.loaded)}}});jQuery.extend(InlineAttach.AjaxUpload,{isSupported:function(){return InlineAttach.AjaxUpload._fileApiSupport(window)&&InlineAttach.AjaxUpload._xhrSupport()},xhr:function(){var fn=InlineAttach.AjaxUpload._xhrJquery();if(!fn){fn=InlineAttach.AjaxUpload._xhrDirect}InlineAttach.AjaxUpload.xhr=fn;return fn()},getClientErrorMessage:function(e,file){var safeName;try{safeName=file.name}catch(ignored){safeName="<unknown>"}if(e.name==="NS_ERROR_FILE_ACCESS_DENIED"){return InlineAttach.Text.tr("upload.error.no.access",safeName)}else{if(e.name==="NS_ERROR_FILE_NOT_FOUND"||e.name==="NS_ERROR_FILE_TARGET_DOES_NOT_EXIST"){return InlineAttach.Text.tr("upload.error.does.not.exist",safeName)}else{return InlineAttach.Text.tr("upload.error.client.unknown",safeName,e.message||e)}}},_xhrJquery:function(){var settings=jQuery.ajaxSettings;return(settings&&settings.xhr)||null},_xhrDirect:function(){try{return new XMLHttpRequest()}catch(e){return null}},_xhrSupport:function(){try{var xhr=InlineAttach.AjaxUpload.xhr();if(xhr&&xhr.upload){return true}}catch(e){}return false},_fileApiSupport:function(window){return window.File&&window.FileList&&(!Navigator.isMozilla()||window.FileReader)}});InlineAttach.Timer=Class.extend({init:function(callback,scope){this.callback=InlineAttach.rescope(callback,scope||this);this._callback=jQuery.proxy(this._callback,this);this.timeoutId=null},cancel:function(){if(this.timeoutId!==null){this._endTimeout(this.timeoutId);this.timeoutId=null}return this},schedule:function(timeout){this.cancel();this.timeoutId=this._startTimeout(this._callback,timeout);return this},_callback:function(){this.timeoutId=null;this.callback()},_startTimeout:function(fn,timeout){return window.setTimeout(fn,timeout)},_endTimeout:function(id){window.clearTimeout(id)}});InlineAttach.Text=(function(){var kB=1024;var MB=1024*kB;var GB=1024*MB;var bMax=Math.floor(kB*0.995);var kBMax=Math.floor(MB*0.995);var MBMax=Math.floor(GB*0.995);return{"upload.empty.file":"Cannot attach empty file {0}.","upload.too.big":"{0} is too large to attach. Attachment is {1} but the largest allowed attachment is {2}.","upload.error.bad.response":"Cannot attach file {0}: Unexpected server response.","upload.error.unknown.status":"Cannot attach file {0}: Unknown server error ({1}).","upload.error.auth":"Cannot attach file {0}: You do not have permission to attach a file to the issue.","upload.error.badrequest":"Cannot attach file {0}. Browser made bad request to the server.","upload.error.server":"Cannot attach file {0}: {1}","upload.cancel":"Cancel","upload.file.remaining":"{0} - {1} left.","upload.file.waiting":"{0} - waiting.","upload.file.stalled":"{0} - stalled.","upload.checkbox.title":"Clear check box to prevent file being attached","upload.xsrf.timeout":"Cannot attach file {0}: Your session has timed out or you were logged out. Please save your work and reload the page.","upload.error.unknown":"Cannot attach file {0}: Unknown server error.","upload.progress.title.waiting":"Waiting for other uploads to complete.","upload.progress.title.running":"Uploading.","upload.progress.title.unknown.stalled":"{0}, stalled.","upload.progress.title.known":"{0} - {1}, {2} left.","upload.progress.title.known.stalled":"{0} - {1}, stalled.","upload.kilobyte":"{0} kB","upload.kilobyte.part":"{0}/{1} kB","upload.megabyte":"{0} MB","upload.megabyte.part":"{0}/{1} MB","upload.gigabyte":"{0} GB","upload.gigabyte.part":"{0}/{1} GB","upload.seconds":"{0} sec","upload.minutes":"{0} min","upload.hours":"{0} hr","upload.hours.minutes":"{0} hr {1} min","upload.bytes.per.second":"{0} B/sec","upload.kilobytes.per.second":"{0} kB/sec","upload.megabytes.per.second":"{0} MB/sec","upload.error.no.access":"Browser does not have permission to access {0}.","upload.error.does.not.exist":"{0} does not exist.","upload.error.client.unknown":"An unknown error occured on the browser while trying to attach {0}: {1}.","upload.error.too.many.files":"You are trying to attach {0} files. Only {1} files can be attached at a time.","upload.error.server.no.reply":"Cannot attach file {0}: Unable to communicate with JIRA.",tr:function(key){if(arguments.length===0){return undefined}else{if(arguments.length===1){return this[key]||key}else{if(this[key]){var args=InlineAttach.copyArrayLike(arguments);args[0]=this[key];return AJS.format.apply(AJS,args)}else{return key}}}},fileSize:function(){if(arguments.length===0){return undefined}else{var key,b=InlineAttach.Text._classifySize(arguments[0]);if(b.unit===kB){key="upload.kilobyte"}else{if(b.unit===MB){key="upload.megabyte"}else{key="upload.gigabyte"}}if(arguments.length===1){return this.tr(key,b.convert(arguments[0]))}else{var result=new Array(arguments.length);for(var i=0;i<arguments.length;i++){result[i]=this.tr(key,b.convert(arguments[i]))}return result}}},currentOutOfTotalSize:function(current,total){var b=this._classifySize(total),key;if(b.unit===kB){key="upload.kilobyte.part"}else{if(b.unit===MB){key="upload.megabyte.part"}else{key="upload.gigabyte.part"}}return this.tr(key,b.convert(current),b.convert(total))},_classifySize:function(size){var base;if(size<=kBMax){base=kB}else{if(size<=MBMax){base=MB}else{base=GB}}return{unit:base,convert:function(s){return InlineAttach.Text._toDisplay(s/base)}}},time:function(seconds){if(seconds<60){return this.tr("upload.seconds",Math.floor(seconds))}else{var minutes=seconds/60;if(minutes<60){return this.tr("upload.minutes",Math.floor(minutes))}else{var hours=Math.floor(minutes/60);minutes=Math.floor(minutes%60);if(minutes>0){return this.tr("upload.hours.minutes",hours,minutes)}else{return this.tr("upload.hours",hours)}}}},rate:function(bytesPerSecond){if(bytesPerSecond<=bMax){return this.tr("upload.bytes.per.second",InlineAttach.Text._toDisplay(bytesPerSecond))}else{if(bytesPerSecond<=kBMax){return this.tr("upload.kilobytes.per.second",InlineAttach.Text._toDisplay(bytesPerSecond/kB))}else{return this.tr("upload.megabytes.per.second",InlineAttach.Text._toDisplay(bytesPerSecond/MB))}}},_toDisplay:function(number){if(number<0.005){return"0"}else{return(Math.round(number*100)/100).toFixed(2)}}}})();return InlineAttach});AJS.namespace("AJS.InlineAttach",null,require("jira/attachment/inline-attach"));;
;
/* module-key = 'jira.webresources:inline-attach', location = '/includes/jquery/plugins/attachment/jquery.inlineAttach.js' */
define("jira/jquery/plugins/attachment/inline-attach",["jira/attachment/inline-attach","jquery"],function(InlineAttach,jQuery){jQuery.fn.inlineAttach=function(){var res=[];this.each(function(){res.push(new InlineAttach(this))});return res}});(function(){require("jira/jquery/plugins/attachment/inline-attach")})();;
;
/* module-key = 'jira.webresources:dialogs', location = '/includes/jira/dialog/FormDialog.js' */
define("jira/dialog/form-dialog",["jira/dialog/dialog","jira/flag","jira/message","jira/ajs/ajax/smart-ajax","jira/focus/set-focus","jira/util/browser","jira/util/events","jira/util/navigator","jira/skate","jquery"],function(Dialog,Flag,Messages,SmartAjax,SetFocus,Browser,Events,Navigator,skate,jQuery){return Dialog.extend({defineResources:function(){this._super.apply(this,arguments);if(this.isIssueDialog()){this.requireContext("jira.edit.issue")}},_getDefaultOptions:function(){return jQuery.extend(this._super(),{autoClose:false,targetUrl:"",handleRedirect:false,onUnSuccessfulSubmit:function(){},onSuccessfulSubmit:function(){},onDialogFinished:function(){var targetUrl=this._getTargetUrlValue();this.hide();if(targetUrl){Events.trigger("page-unload.location-change.from-dialog",[this.$popup]);window.location.href=targetUrl}else{Events.trigger("page-unload.refresh.from-dialog",[this.$popup]);Browser.reloadViaWindowLocation()}},submitAjaxOptions:{type:"post",data:{inline:true,decorator:"dialog"},dataType:"html"},isIssueDialog:false})},_getFormDataAsObject:function(){var fieldValues={};jQuery(this.$form.serializeArray()).each(function(){var fieldVal=fieldValues[this.name];if(!fieldVal){fieldVal=this.value}else{if(jQuery.isArray(fieldVal)){fieldVal.push(this.value)}else{fieldVal=[fieldVal,this.value]}}fieldValues[this.name]=fieldVal});return fieldValues},_getRelativePath:function(){var ajaxOptions=this._getRequestOptions();return parseUri(ajaxOptions.url).directory},_getPath:function(action){var relPath=this._getRelativePath();if(action.indexOf(relPath)===0){return action}else{return relPath+action}},_submitForm:function(e){this.cancelled=false;this.xhr=null;this.redirected=false;this.serverIsDone=false;var instance=this,defaultRequestOptions=jQuery.extend(true,{},this.options.submitAjaxOptions),requestOptions=jQuery.extend(true,defaultRequestOptions,{url:this._getPath(this.$form.attr("action")),data:this._getFormDataAsObject(),complete:function(xhr,textStatus,smartAjaxResult){instance.hideFooterLoadingIndicator();if(!instance.cancelled){instance._showMessagesFromXhrResponse(xhr);if(smartAjaxResult.successful){instance.$form.trigger("fakesubmit");instance._handleServerSuccess(smartAjaxResult.data,xhr,textStatus,smartAjaxResult);if(!instance.redirected){instance._handleSubmitResponse(smartAjaxResult.data,xhr,smartAjaxResult)}}else{instance._handleServerError(xhr,textStatus,smartAjaxResult.errorThrown,smartAjaxResult)}}instance.$form.removeClass("submitting")}});requestOptions.data.decorator="dialog";requestOptions.data.inline=true;this.showFooterLoadingIndicator();this.xhr=SmartAjax.makeRequest(requestOptions);e.preventDefault()},_showMessagesFromXhrResponse:function _showMessagesFromXhrResponse(xhr){var messagesJson=xhr.getResponseHeader("X-Atlassian-Messages");if(messagesJson){var messages=JSON.parse(messagesJson);Flag.showMessages(messages)}},_handleServerError:function(xhr,textStatus,errorThrown,smartAjaxResult){if(this.options.onUnSuccessfulSubmit){this.options.onUnSuccessfulSubmit.call(xhr,textStatus,errorThrown,smartAjaxResult)}var errorContent=SmartAjax.buildDialogErrorContent(smartAjaxResult,true);var content$=this.get$popupContent().find(".form-body");if(content$.length!==1){content$=this.get$popupContent()}var insertErrMsg=content$.length===1&&!smartAjaxResult.hasData;if(insertErrMsg){content$.prepend(errorContent)}else{this.setSubmitResponseContent(errorContent)}},setSubmitResponseContent:function(content){if(this.options.formatSubmitResponseContent){content=this.options.formatSubmitResponseContent.call(this,content)}this._setContent(content)},isIssueDialog:function(){return !!this.options.isIssueDialog},_handleServerSuccess:function(data,xhr,textStatus,smartAjaxResult){var msgInstructions=this._detectMsgInstructions(xhr);if(msgInstructions){Messages.showMsgOnReload(msgInstructions.msg,{type:msgInstructions.type,closeable:msgInstructions.closeable,target:msgInstructions.target})}var instructions=this._detectRedirectInstructions(xhr);this.serverIsDone=instructions.serverIsDone;if(instructions.redirectUrl){if(this.options.onSuccessfulSubmit){this.options.onSuccessfulSubmit.call(this,data,xhr,textStatus,smartAjaxResult)}this._performRedirect(instructions.redirectUrl)}else{if(!this.serverIsDone){this.setSubmitResponseContent(data)}}},_detectMsgInstructions:function(xhr){var instructions={msg:xhr.getResponseHeader("X-Atlassian-Dialog-Msg-Html")};if(instructions.msg){instructions.type=xhr.getResponseHeader("X-Atlassian-Dialog-Msg-Type").toUpperCase();instructions.closeable=(xhr.getResponseHeader("X-Atlassian-Dialog-Msg-Closeable")==="true");instructions.target=xhr.getResponseHeader("X-Atlassian-Dialog-Msg-Target");return instructions}},_handleInitialDoneResponse:function(data,xhr,smartAjaxResult){this._handleSubmitResponse(data,xhr,smartAjaxResult)},_handleSubmitResponse:function(data,xhr,smartAjaxResult){if(this.serverIsDone){if(this.options.onSuccessfulSubmit){this.options.onSuccessfulSubmit.call(this,data,xhr,smartAjaxResult)}if(this.options.autoClose){this.hide()}if(this.options.onDialogFinished){this.options.onDialogFinished.call(this,data,xhr,smartAjaxResult)}}},_performRedirect:function(url){if(!this.options.stayVisibleOnRedirect){this.hide()}this.redirected=true;this._super(url)},_hasTargetUrl:function(){return this._getTargetUrlHolder().length>0},_getTargetUrlHolder:function(){return jQuery(this.options.targetUrl)},_getTargetUrlValue:function(){return this._getTargetUrlHolder().val()},decorateContent:function(){var instance=this,$buttons,$cancel,$buttonContainer,$footerContainer,$closeLink;this.$form=jQuery("form",this.get$popupContent());this._constructHeading();this.$form.submit(function(e){var event=new jQuery.Event("before-submit");instance.$form.trigger(event,[e,instance]);if(!event.isDefaultPrevented()){instance.$form.addClass("submitting");var submitButtons=jQuery(":submit",instance.$form);submitButtons.attr("disabled","disabled");if(instance.options.submitHandler){instance.showFooterLoadingIndicator();instance.options.submitHandler.call(instance,e,function(){if(instance.isCurrent()){instance.hideFooterLoadingIndicator();instance.$form.removeClass("submitting")}})}else{instance._submitForm(e)}}else{e.preventDefault()}});$cancel=jQuery(".cancel",this.get$popupContent());$cancel.click(function(e){if(instance.xhr){instance.xhr.abort()}instance.xhr=null;instance.cancelled=true;instance.hide(true,{reason:Dialog.HIDE_REASON.cancel});e.preventDefault()});if(Navigator.isIE()&&Navigator.majorVersion()<12){$cancel.focus(function(e){if(e.altKey){$cancel.click()}})}$buttons=this.get$popupContent().find(".button, .aui-button");$buttonContainer=this.get$popupContent().find("div.buttons");if($cancel.length===0&&$buttons.length===0){if($buttonContainer.length===0){$footerContainer=jQuery('<div class="buttons-container form-footer"><div class="buttons"/></div>').appendTo(this.get$popupContent());$buttonContainer=$footerContainer.find(".buttons")}AJS.populateParameters();$closeLink=jQuery("<button class='aui-button aui-button-link cancel' id='aui-dialog-close'>"+"Close"+"</button>");$buttonContainer.append($closeLink);$closeLink=jQuery(".cancel",this.get$popupContent());$closeLink.click(function(e){instance.hide(true,{reason:Dialog.HIDE_REASON.cancel});e.preventDefault()})}$buttonContainer.prepend(jQuery("<span class='icon throbber'/>"));this.get$popupContent().on("click",".shortcut-tip-trigger",function(e){e.preventDefault();if(!instance.get$popupContent().isDirty()||confirm("You have entered new data in this dialog. If you navigate away from this dialog without first saving your data, the changes will be lost. Click cancel to return to the dialog.")){instance.hide();jQuery("#keyshortscuthelp").click()}});if(!($footerContainer instanceof jQuery)){$footerContainer=$buttonContainer.closest(".buttons-container, .form-footer");if(!$footerContainer.size()){$footerContainer=$buttonContainer}}this.$buttonContainer=$footerContainer},getButtonsContainer:function(){return this.$buttonContainer},_constructHeading:function(){var $formHeading,$formHeadingContainer;$formHeading=jQuery(":header:first",this.get$popupContent());if($formHeading.length>0){this.addHeading($formHeading.contents());$formHeadingContainer=$formHeading.parent();$formHeading.remove();while($formHeadingContainer.is(":empty")){$formHeading=$formHeadingContainer.parent();$formHeadingContainer.remove();$formHeadingContainer=$formHeading}}},_setContent:function(content,decorate){this._super(content,decorate);if(content&&Dialog.current===this){if(Navigator.isIE()&&Navigator.majorVersion()<11){this.$form.bind("keypress",function(e){if(e.keyCode===13&&jQuery(e.target).is("input")){e.preventDefault();jQuery(this).submit()}})}if(Dialog.current===this){this._focusFirstField()}}},_focusFirstField:function(focusElementSelector){var triggerConfig=new SetFocus.FocusConfiguration();if(focusElementSelector){triggerConfig.focusElementSelector=focusElementSelector}else{if(this.$activeTrigger&&this.$activeTrigger.attr("data-field")){triggerConfig.focusElementSelector="[name='"+this.$activeTrigger.attr("data-field")+"']"}}triggerConfig.parentElementSelectors.unshift(".aui-dialog-content");triggerConfig.context=this.get$popup()[0];if(Navigator.isIE()&&Navigator.majorVersion()<11){var $focusHack=jQuery(".trigger-hack",triggerConfig.context);if($focusHack.length===0){$focusHack=jQuery("<input Class='trigger-hack' type='text' value=''/>").css({position:"absolute",left:-9000,top:-9000}).appendTo(triggerConfig.context)}$focusHack.focus()}skate.init&&skate.init(triggerConfig.context);SetFocus.pushConfiguration(triggerConfig);SetFocus.triggerFocus();SetFocus.triggerFocus()},hide:function(undim,options){if(this._super(undim,options)===false){return false}SetFocus.popConfiguration()}})});AJS.namespace("AJS.FormPopup",null,require("jira/dialog/form-dialog"));AJS.namespace("JIRA.FormDialog",null,require("jira/dialog/form-dialog"));;
;
/* module-key = 'jira.webresources:dialogs', location = '/includes/jira/dialog/ErrorDialog.js' */
define("jira/dialog/error-dialog",["jira/dialog/dialog","jira/ajs/ajax/ajax-util","jira/lib/class","jira/util/browser","jquery"],function(Dialog,AjaxUtil,Class,Browser,$){var ErrorDialog=Class.extend({init:function(options){var message=options.message||"The JIRA server was contacted but has returned an error response. We are unsure of the result of this operation.";var mode;if(!options.mode||["warning","error","info"].indexOf(options.mode)<0){mode="error"}else{mode=options.mode}this.dialog=new Dialog({id:"error-dialog",content:function(ready){var $el=$(JIRA.Templates.ErrorDialog.serverErrorModalDialog({message:message,mode:mode}));$el.find(".error-dialog-refresh").click(function(e){e.preventDefault();Browser.reloadViaWindowLocation()});ready($el)}});this.dialog.addHeading("Error");this.dialog.handleCancel=$.noop},hide:function(){this.dialog.hide();return this},show:function(){this.dialog.show();return this}});ErrorDialog.openErrorDialogForXHR=function(xhr){return new ErrorDialog({message:AjaxUtil.getErrorMessageFromXHR(xhr)}).show()};return ErrorDialog});AJS.namespace("JIRA.ErrorDialog",null,require("jira/dialog/error-dialog"));;
;
/* module-key = 'jira.webresources:dialogs', location = '/includes/jira/dialog/ErrorDialog.soy' */
// This file was automatically generated from ErrorDialog.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.ErrorDialog.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.ErrorDialog == 'undefined') { JIRA.Templates.ErrorDialog = {}; }


JIRA.Templates.ErrorDialog.serverErrorModalDialog = function(opt_data, opt_ignored) {
  return '<div class="form-body"><div class="aui-message ' + soy.$$escapeHtml(opt_data.mode) + '"><span class="aui-icon icon-error"></span> ' + soy.$$escapeHtml(opt_data.message) + '</div></div><div class="buttons-container form-footer"><div class="buttons"><a href="#" class="error-dialog-refresh aui-button aui-button-link">' + soy.$$escapeHtml("Refresh") + '</a></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.ErrorDialog.serverErrorModalDialog.soyTemplateName = 'JIRA.Templates.ErrorDialog.serverErrorModalDialog';
}
;
;
/* module-key = 'jira.webresources:dialogs', location = '/includes/ajs/ajax/SmartAjaxWebSudo.js' */
define("jira/ajs/ajax/smart-ajax/web-sudo",["jira/ajs/ajax/smart-ajax","jira/ajs/ajax/ajax-util","jira/dialog/dialog","jira/dialog/form-dialog","jira/util/browser","jquery"],function(SmartAjax,AjaxUtil,Dialog,FormDialog,Browser,$){return{showWebSudoDialog:function showWebSudoDialog(options){var context=options.context||this;var dialog=new FormDialog({id:"smart-websudo",type:"ajax",ajaxOptions:{url:contextPath+"/secure/admin/WebSudoAuthenticate!default.jspa?close=true"},submitHandler:function(e,closeCallback){e.preventDefault();var form=$(e.target);SmartAjax.makeRequest({url:form.attr("action"),data:form.serialize(),type:"POST",complete:function(xhr){if(xhr.getResponseHeader("X-Atlassian-WebSudo")==="Has-Authentication"){if($.isFunction(options.success)){options.success.call(context,function(){closeCallback();dialog.hide()})}else{closeCallback();dialog.hide()}}else{dialog._setContent(xhr.responseText,true)}}})}});if($.isFunction(options.cancel)){$(dialog).one("Dialog.hide",function(e,el,reason){if(reason==Dialog.HIDE_REASON.cancel||reason==Dialog.HIDE_REASON.escape){e=$.Event();(options.cancel.call(context,e)===false||!e.isDefaultPrevented())&&Browser.reloadViaWindowLocation(el.find(".cancel").attr("href"))}})}if($.isFunction(options.beforeShow)){options.beforeShow.call(context)}dialog.show();if($.isFunction(options.show)){options.show.call(context)}},handleWebSudoError:function handleWebSudoError(ajaxOptions,dialogOptions,xhr,statusText,smartAjaxResult){var newOptions={success:function(closeFunction){if(dialogOptions&&$.isFunction(dialogOptions.success)){dialogOptions.success.apply(this,arguments)}else{closeFunction()}SmartAjax.makeRequest(ajaxOptions)},cancel:function(){$.isFunction(ajaxOptions.complete)&&ajaxOptions.complete.call(this,xhr,statusText,smartAjaxResult);dialogOptions&&$.isFunction(dialogOptions.cancel)&&dialogOptions.cancel.apply(this,arguments)},beforeShow:function(){if(dialogOptions&&$.isFunction(dialogOptions.beforeShow)){dialogOptions.beforeShow.apply(this,arguments)}},show:function(){if(dialogOptions&&$.isFunction(dialogOptions.show)){dialogOptions.show.apply(this,arguments)}},context:this};this.showWebSudoDialog(newOptions)},makeWebSudoRequest:function makeWebSudoRequest(ajaxOptions,dialogOptions){var ourAjaxOptions=$.extend({},ajaxOptions);var suppressComplete=false;var deferred=$.Deferred();var instance=this;var errorHandler=function(xhr,statusText,errorThrown,smartAjaxResult){if(AjaxUtil.isWebSudoFailure(xhr)){suppressComplete=true;instance.handleWebSudoError(ourAjaxOptions,dialogOptions,xhr,statusText,smartAjaxResult)}else{deferred.rejectWith(this,arguments);$.isFunction(ajaxOptions.error)&&ajaxOptions.error.apply(this,arguments)}};var completeHandler=function(){!suppressComplete&&$.isFunction(ajaxOptions.complete)&&ajaxOptions.complete.apply(this,arguments);suppressComplete=false};var successHandler=function(){$.isFunction(ajaxOptions.success)&&ajaxOptions.success.apply(this,arguments);deferred.resolveWith(this,arguments)};ourAjaxOptions.error=errorHandler;ourAjaxOptions.complete=completeHandler;ourAjaxOptions.success=successHandler;SmartAjax.makeRequest(ourAjaxOptions);return deferred.promise()}}});(function(SmartAjaxWebSudo){AJS.namespace("JIRA.SmartAjax.showWebSudoDialog",null,SmartAjaxWebSudo.showWebSudoDialog);AJS.namespace("JIRA.SmartAjax.handleWebSudoError",null,SmartAjaxWebSudo.handleWebSudoError);AJS.namespace("JIRA.SmartAjax.makeWebSudoRequest",null,SmartAjaxWebSudo.makeWebSudoRequest)})(require("jira/ajs/ajax/smart-ajax/web-sudo"));;
;
/* module-key = 'jira.webresources:dialogs', location = '/includes/jira/dialog/IssueActionsDialog.js' */
require(["jquery","underscore","jira/ajs/ajax/smart-ajax","jira/shifter"],function(jQuery,_,SmartAjax,Shifter){Shifter.register(function(){var actionDeferred=jQuery.Deferred();var workflowDeferred=jQuery.Deferred();function tryGetting(fns){for(var i=0;i<fns.length;i++){var func=_.reduce(fns[i].split("."),function(obj,prop){return obj!==undefined?obj[prop]:undefined},window);if(_.isFunction(func)){var value=func();if(value!=null){return value}}}return undefined}var issueKey=tryGetting(["JIRA.Issues.getSelectedIssueKey","JIRA.Issue.getIssueKey","JIRA.IssueNavigator.getSelectedIssueKey"]);var issueId=tryGetting(["JIRA.Issues.getSelectedIssueKey","JIRA.Issue.getIssueId","JIRA.IssueNavigator.getSelectedIssueId"]);if(issueId==null){return null}var url=AJS.format(AJS.contextPath()+"/rest/api/1.0/issues/{0}/ActionsAndOperations?atl_token={1}",issueId,atl_token());SmartAjax.makeRequest({dataType:"json",url:url}).done(function(response){var actionSuggestions=_.map(response.operations,function(operation){return{label:operation.name,value:{styleClass:operation.styleClass,url:operation.url}}});var workflowSuggestions=_.map(response.actions,function(workflow){var url=AJS.contextPath()+"/secure/WorkflowUIDispatcher.jspa?id="+response.id+"&action="+workflow.action+"&atl_token="+response.atlToken;return{label:workflow.name,value:{styleClass:"issueaction-workflow-transition",url:url}}});actionDeferred.resolve(actionSuggestions);workflowDeferred.resolve(workflowSuggestions)}).fail(function(jqXHR,textStatus){var errorMsg;if(JIRA&&JIRA.Templates&&JIRA.Templates.ViewIssue&&JIRA.Templates.ViewIssue.Body&&JIRA.Templates.ViewIssue.Body.errorsLoading){errorMsg=JIRA.Templates.ViewIssue.Body.errorsLoading({isTimeout:textStatus==="timeout"})}else{errorMsg="Unable to retrieve issue."}actionDeferred.resolve([{label:errorMsg,messageID:"error-loading-issue",useAUI:false,isMessage:true}]);workflowDeferred.reject()});var onSelection=function(value,label){var $dialogTrigger=jQuery("<a>",{text:label,"class":value.styleClass,href:value.url,css:{display:"none"}});$dialogTrigger.appendTo("body").get(0).click();$dialogTrigger.remove()};return[{id:"issue-actions",name:"Issue Actions",context:issueKey,weight:200,getSuggestions:function(){return actionDeferred},onSelection:onSelection},{id:"issue-transitions",name:"Workflow",context:issueKey,weight:220,getSuggestions:function(){return workflowDeferred},onSelection:onSelection}]})});;
;
/* module-key = 'jira.webresources:dialogs', location = '/includes/jira/dialog/LabelsDialog.js' */
define("jira/dialog/labels-dialog",["jira/dialog/form-dialog","jira/issue","jira/issuenavigator/issue-navigator","jira/util/events","jira/util/events/types","jquery"],function(FormDialog,Issue,IssueNavigator,Events,Types,jQuery){return FormDialog.extend({init:function(options){this._super(options);this.issueId=null;this.customFieldId=null;this.labelsProvider=this.initLabelsProvider();this.labelPicker=null},initLabelsProvider:function(){if(this.options.labelsProvider&&jQuery.isFunction(this.options.labelsProvider)){return this.options.labelsProvider}else{if(this.options.labels){return this._getLabelsFromOptions}else{return this._getLabelsFromTrigger}}},_getLabelsFromOptions:function(){return jQuery(this.options.labels)},_getLabelsFromTrigger:function(){return this.$activeTrigger.closest(".labels-wrap")},decorateContent:function(){this._super();var $content=this.get$popupContent();this.issueId=$content.find("input[name=id]").val();var $customFieldId=$content.find("input[name=customFieldId]");if($customFieldId.length===1){this.customFieldId=$customFieldId.val()}else{this.customFieldId=null}},focusLabelPicker:function(){this.get$popupContent().find("textarea").focus()},show:function(){if(this._super()){this.focusLabelPicker()}},_handleSubmitResponse:function(data,xhr,smartAjaxResult){if(this.serverIsDone){if(this.options.onSuccessfulSubmit){this.options.onSuccessfulSubmit.call(this,data,xhr,smartAjaxResult)}var issueIdVal=this.get$popupContent().find("input[name=id]").val(),noLinkVal=this.get$popupContent().find("input[name=noLink]").val();if(this.options.autoClose){this.hide()}var jsonpData={id:issueIdVal,decorator:"none",noLink:noLinkVal};if(this.customFieldId){jsonpData.customFieldId=this.customFieldId}var instance=this;var $labelsWrap=instance.labelsProvider(this);jQuery(jQuery.ajax({url:contextPath+"/secure/EditLabels!viewLinks.jspa",data:jsonpData,success:function(html){var $newLabelsWrap=jQuery("<div>").html(html).find(".labels-wrap");if(IssueNavigator.isNavigator()){$newLabelsWrap.find("a.edit-labels").remove()}$labelsWrap.html($newLabelsWrap.html());if(Types.REFRESH_ISSUE_PAGE){Events.trigger(Types.REFRESH_ISSUE_PAGE,[Issue.getIssueId()])}}})).throbber({target:$labelsWrap})}},handleCancel:function(){this._super();this.$content=null}})});AJS.namespace("AJS.LabelsPopup",null,require("jira/dialog/labels-dialog"));AJS.namespace("JIRA.LabelsDialog",null,require("jira/dialog/labels-dialog"));;
;
/* module-key = 'jira.webresources:dialogs', location = '/includes/jira/dialog/ScreenshotDialog.js' */
define("jira/dialog/screenshot-window",["jira/dialog/dialog","jira/ajs/layer/inline-layer","jquery"],function(Dialog,InlineLayer,jQuery){return function(options){this.$trigger=jQuery(options.trigger);jQuery(document).delegate(options.trigger,"click",function(e){e.preventDefault();if(Dialog.current){Dialog.current.hide()}if(InlineLayer.current){InlineLayer.current.hide()}window.open(jQuery(this).attr("href")+"&decorator=popup","screenshot","width=800,height=700,scrollbars=yes,status=yes")})}});AJS.namespace("jira.app.attachments.screenshot.ScreenshotWindow",null,require("jira/dialog/screenshot-window"));AJS.namespace("JIRA.ScreenshotDialog",null,require("jira/dialog/screenshot-window"));;
;
/* module-key = 'jira.webresources:dialogs', location = '/includes/jira/userhover/userhover.js' */
define("jira/userhover/userhover",["jira/ajs/dropdown/dropdown-factory","aui/inline-dialog","jquery"],function(DropdownFactory,InlineDialog,jQuery){var userhover=function(){};userhover.INLINE_DIALOG_OPTIONS={urlPrefix:contextPath+"/secure/ViewUserHover!default.jspa?decorator=none&username=",showDelay:400,closeOthers:false,noBind:true,hideCallback:function(){this.popup.remove()}};userhover.show=function(trigger){clearTimeout(jQuery.data(trigger,"AJS.InlineDialog.delayId")||0);jQuery.data(trigger,"AJS.InlineDialog.hasUserAttention",true);if(jQuery.data(trigger,"AJS.InlineDialog")||userhover._locked||AJS.params.loggedInUser===""){return }jQuery.data(trigger,"AJS.InlineDialog.delayId",setTimeout(function(){if(jQuery(trigger).closest("html").length===0){userhover.hide(trigger);return }jQuery.data(trigger,"AJS.InlineDialog",InlineDialog(jQuery(trigger),"user-hover-dialog-"+new Date().getTime(),function($contents,_,showPopup){userhover._fetchDialogContents($contents,trigger,showPopup)},userhover.INLINE_DIALOG_OPTIONS)).show()},userhover.INLINE_DIALOG_OPTIONS.showDelay))};userhover.hide=function(trigger,showDelay){clearTimeout(jQuery.data(trigger,"AJS.InlineDialog.delayId")||0);jQuery.data(trigger,"AJS.InlineDialog.hasUserAttention",false);var dialog=jQuery.data(trigger,"AJS.InlineDialog");if(dialog&&!userhover._locked){if(typeof showDelay!=="number"){showDelay=userhover.INLINE_DIALOG_OPTIONS.showDelay}if(showDelay>=0){jQuery.data(trigger,"AJS.InlineDialog.delayId",setTimeout(function(){dialog.hide();jQuery.data(trigger,"AJS.InlineDialog",null)},showDelay))}else{dialog.hide();jQuery.data(trigger,"AJS.InlineDialog",null)}}};userhover._locked=false;userhover._fetchDialogContents=function($contents,trigger,showPopup){jQuery.get(userhover.INLINE_DIALOG_OPTIONS.urlPrefix+encodeURIComponent(trigger.getAttribute("rel")),function(html){if(jQuery.data(trigger,"AJS.InlineDialog.hasUserAttention")){$contents.html(html);$contents.css("overflow","visible");jQuery(DropdownFactory.createDropdown({trigger:$contents.find(".aui-dd-link"),content:$contents.find(".aui-list")})).bind({"showLayer":function(){userhover._locked=true},"hideLayer":function(){userhover._locked=false;if(!jQuery.data(trigger,"AJS.InlineDialog.hasUserAttention")){userhover.hide(trigger)}}});showPopup();jQuery.data(trigger,"AJS.InlineDialog.delayId",setTimeout(function(){$contents.bind({"mousemove":function(){userhover.show(trigger)},"mouseleave":function(){userhover.hide(trigger)}})},userhover.INLINE_DIALOG_OPTIONS.showDelay))}})};return userhover});AJS.namespace("jira.app.userhover",null,require("jira/userhover/userhover"));AJS.namespace("JIRA.userhover",null,require("jira/userhover/userhover"));;
;
/* module-key = 'jira.webresources:dialogs', location = '/includes/jira/userhover/initUserhover.js' */
(function(jQuery,userhover){jQuery(document).delegate(".user-hover[rel]",{"mousemove":function(){userhover.show(this)},"mouseleave":function(){userhover.hide(this)},"click":function(){userhover.hide(this,-1)}})})(require("jquery"),require("jira/userhover/userhover"));;
;
/* module-key = 'jira.webresources:dialogs', location = '/includes/jira/dialog/LinkIssueDialog.js' */
(function(){var DialogFactory=require("jira/dialog/dialog-factory");var FormDialog=require("jira/dialog/form-dialog");var DialogUtil=require("jira/dialog/dialog-util");var SmartAjax=require("jira/ajs/ajax/smart-ajax");var Issue=require("jira/issue");var IssueNavigator=require("jira/issuenavigator/issue-navigator");var jQuery=require("jquery");function markSelectedLinkType(activeId,linkTypes){var hasSelected=false;jQuery.each(linkTypes,function(i,linkType){if(linkType.id===activeId){linkType.isSelected=true;hasSelected=true;return false}});if(!hasSelected){linkTypes[0].isSelected=true}return linkTypes}function getRemoteIssueLinks(issueId){var deferred=jQuery.Deferred();SmartAjax.makeRequest({url:contextPath+"/rest/viewIssue/1/remoteIssueLink/linkType?issueId="+issueId,complete:function(xhr,textStatus,smartAjaxResult){if(smartAjaxResult.successful){deferred.resolve(smartAjaxResult.data)}else{deferred.reject(SmartAjax.buildDialogErrorContent(smartAjaxResult))}}});return deferred.promise()}function getTabContent(dialog){var deferred=jQuery.Deferred(),ajaxOptions=DialogUtil.getDefaultAjaxOptions.call(dialog);ajaxOptions.complete=function(xhr,textStatus,smartAjaxResult){if(smartAjaxResult.successful){deferred.resolve(smartAjaxResult.data)}else{deferred.reject(SmartAjax.buildDialogErrorContent(smartAjaxResult))}};SmartAjax.makeRequest(ajaxOptions);return deferred.promise()}function getActiveTabId(dialog){return dialog.$activeTrigger.attr("id")}DialogFactory.createLinkIssueDialog=function(trigger){return new FormDialog({id:"link-issue-dialog",isIssueDialog:true,trigger:trigger,onSuccessfulSubmit:function(data,smartAjaxResponse){if(smartAjaxResponse.getResponseHeader("X-Atlassian-Dialog-Msg-Type")!=="warning"){DialogUtil.storeCurrentIssueIdOnSucessfulSubmit.apply(this,arguments)}},issueMsg:"thanks_issue_linked",widthClass:"large",stacked:true,content:function(ready){var dialog=this,issueId=Issue.getIssueId()||IssueNavigator.getSelectedIssueId();getTabContent(dialog).done(function(tabContent){getRemoteIssueLinks(issueId).done(function(linkTypes){linkTypes=markSelectedLinkType(getActiveTabId(dialog),linkTypes);ready(JIRA.Templates.LinkIssue.dialog({linkTypes:linkTypes,tabContent:tabContent}));jQuery.each(linkTypes,function(i,linkType){var focusElementSelector;if(linkType.isSelected===true){focusElementSelector="[name='"+linkType.focusedFieldName+"']";if(jQuery(focusElementSelector).length===0){focusElementSelector="#"+linkType.id}dialog._focusFirstField(focusElementSelector)}})}).fail(function(errorContent){ready(errorContent)})}).fail(function(errorContent){ready(errorContent)})},formatSubmitResponseContent:function(content){this.get$popupContent().find(".dialog-pane").html(content);return this.get$popupContent().html()},onContentRefresh:function(){this.bindAnchorsToDialog(this.get$popupContent().find(".dialog-menu-item "))}})};AJS.namespace("JIRA.Dialogs.createLinkIssueDialog",null,DialogFactory.createLinkIssueDialog)})();;
;
/* module-key = 'jira.webresources:dialogs', location = '/includes/jira/dialog/linkissue.soy' */
// This file was automatically generated from linkissue.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.LinkIssue.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.LinkIssue == 'undefined') { JIRA.Templates.LinkIssue = {}; }


JIRA.Templates.LinkIssue.dialog = function(opt_data, opt_ignored) {
  var output = '<div class="aui-group"><div class="aui-item dialog-menu-group"><ul class="dialog-menu">';
  var linkTypeList4 = opt_data.linkTypes;
  var linkTypeListLen4 = linkTypeList4.length;
  for (var linkTypeIndex4 = 0; linkTypeIndex4 < linkTypeListLen4; linkTypeIndex4++) {
    var linkTypeData4 = linkTypeList4[linkTypeIndex4];
    output += '<li><button id="' + soy.$$escapeHtml(linkTypeData4.id) + '" data-url="' + soy.$$escapeHtml(linkTypeData4.url) + '" class="dialog-menu-item ' + ((linkTypeData4.isSelected) ? 'selected' : '') + '">' + soy.$$escapeHtml(linkTypeData4.label) + '</button></li>';
  }
  output += '</ul></div><div class="aui-item dialog-pane">' + soy.$$filterNoAutoescape(opt_data.tabContent) + '</div></div>';
  return output;
};
if (goog.DEBUG) {
  JIRA.Templates.LinkIssue.dialog.soyTemplateName = 'JIRA.Templates.LinkIssue.dialog';
}
;
;
/* module-key = 'jira.webresources:default-comment-security-level', location = '/includes/ajs/select/security/DefaultCommentSecurityLevelModel.js' */
define("jira/ajs/select/security/default-comment-security-level-model",["jira/lib/class","jquery","wrm/context-path"],function(Class,jQuery,contextPath){return Class.extend({DEFAULT_COMMENT_SECURITY_LEVEL_KEY_PREFIX:"default-comment-security-level-",_currentDefault:null,_preferenceKey:null,init:function(projectId){this.NOT_SELECTED_DEFAULT=new this.LvlObj("","");this._preferenceKey=this.DEFAULT_COMMENT_SECURITY_LEVEL_KEY_PREFIX+projectId},LvlObj:function(level,levelName){this.level=level;this.levelName=levelName},_isLvlObjValid:function(lvlObj){return !(lvlObj["level"]==undefined||lvlObj["levelName"]==undefined)},_getDefaultStoreRequest:function(lvlObj){return jQuery.ajax({url:contextPath()+"/rest/api/2/mypreferences?key="+this._preferenceKey,type:"PUT",contentType:"application/json",dataType:"json",data:JSON.stringify(lvlObj)})},_getDefaultLoadRequest:function(){return jQuery.ajax({url:contextPath()+"/rest/api/2/mypreferences?key="+this._preferenceKey,type:"GET",contentType:"application/json",dataType:"json"})},updateDefault:function(lvlObj,onSuccess,onError){this._sendDefaultChangedAnalytics(lvlObj);this._getDefaultStoreRequest(lvlObj).done(function done(data){this._currentDefault=lvlObj;onSuccess()}.bind(this)).fail(function fail(xhr){onError(xhr)})},getDefault:function(onSuccess,onError){if(this._currentDefault==null){this._getDefaultLoadRequest().done(function done(data){if(this._isLvlObjValid(data)){this._currentDefault=data}else{this._currentDefault=this.NOT_SELECTED_DEFAULT}onSuccess(this._currentDefault)}.bind(this)).fail(function fail(xhr){if(xhr.status==404){this._currentDefault=this.NOT_SELECTED_DEFAULT;onSuccess(this._currentDefault)}else{onError(xhr)}}.bind(this))}else{onSuccess(this._currentDefault)}},getCurrentDefault:function(){return this._currentDefault},_sendDefaultChangedAnalytics:function(lvlObj){AJS.trigger("analyticsEvent",{name:"jira.issue.comment.level.default.set",data:{projectId:this.projectId,issueId:JIRA.Issue.getIssueId(),newDefault:lvlObj}})}})});;
;
/* module-key = 'jira.webresources:default-comment-security-level', location = '/includes/ajs/select/security/DefaultCommentSecurityLevelControl.js' */
define("jira/ajs/select/security/default-comment-security-level-control",["jira/ajs/select/security/default-comment-security-level-model","jira/ajs/ajax/smart-ajax","jira/dialog/form-dialog","jira/lib/class","jquery","underscore"],function(DefaultCommentSecurityLevelModel,SmartAjax,FormDialog,Class,jQuery,_){var helpLink=WRM.data.claim("jira.webresources:default-comment-security-level.DefaultCommentSecurityLevelHelpLink");return Class.extend({_InitialLoadDefaultLevelView:Class.extend({init:function($containerSpan){this.$containerSpan=$containerSpan},startLoading:function(){this.$containerSpan.html(JIRA.Templates.CommentSecurityLevel.initialLoadDefaultStart());this.$containerSpan.find(".default-comment-level-spinner").spin({top:"0px",left:"0px"})},endLoading:function(){this.$containerSpan.find(".default-comment-level-load").addClass("hidden")}}),_SaveDefaultLevelControl:Class.extend({init:function($containerSpan,defaultLevelModel,currentSelection){this.$containerSpan=$containerSpan;this.defaultLevelModel=defaultLevelModel;this.currentSelection=currentSelection;this._putLinkToSetDefault();this._putHelpLink()},_putLinkToSetDefault:function(){this.$containerSpan.append(JIRA.Templates.CommentSecurityLevel.linkToSetDefault());this.$containerSpan.find(".default-comment-level-switch").bind("click",function(e){e.preventDefault();this._onUpdateBegin();this.defaultLevelModel.updateDefault(this.currentSelection,this._onUpdateSuccess.bind(this),this._onUpdateFail.bind(this))}.bind(this))},_putHelpLink:function(){this.$containerSpan.append(JIRA.Templates.Links.helpLink(helpLink));var helpElem=this.$containerSpan.find(".default-comment-level-help");helpElem.attr("title","Makes the selected restriction level your default for this project");helpElem.tooltip({trigger:"hover",gravity:"nw",fade:true})},_putStatusSpan:function(data){this.$containerSpan.html(JIRA.Templates.CommentSecurityLevel.defaultLevelStatus(data));var $defaultLevelMessageStatus=this.$containerSpan.find(".default-comment-level-status");$defaultLevelMessageStatus.attr("status",data.status);setTimeout(function(){$defaultLevelMessageStatus.addClass("fade-out")},2000)},_onUpdateBegin:function(){this.$containerSpan.find(".default-comment-level-switch").addClass("disabled-link");if(this.$containerSpan.find(".default-comment-level-spinner").length==0){this.$containerSpan.prepend(JIRA.Templates.CommentSecurityLevel.defaultLevelSpinner());this.$containerSpan.find(".default-comment-level-spinner").spin()}},_onUpdateSuccess:function(){this._putStatusSpan({text:"Done",status:"success",span_classes:"",icon_classes:"aui-icon aui-icon-small aui-iconfont-approve",text_classes:"default-saved-message"})},_onUpdateFail:function(xhr){new FormDialog({content:SmartAjax.buildDialogErrorContent(xhr)}).show();this.$containerSpan.find(".default-comment-level-spinner").remove();this.$containerSpan.find(".default-comment-level-switch").removeClass("disabled-link")}}),enabled:true,projectId:null,$rootSpan:null,$errorSpan:null,selectionSpi:null,defaultLevelModel:null,init:function($defaultCommentLevelSpan,$errorSpan,selectionSpi){this.$rootSpan=$defaultCommentLevelSpan;this.$errorSpan=$errorSpan;this.projectId=$defaultCommentLevelSpan.data("project-id");if(!_.isNumber(this.projectId)){this.enabled=false;return }this.selChanged=false;this.selectionSpi=selectionSpi;this.defaultLevelModel=new DefaultCommentSecurityLevelModel(this.projectId)},selectionChanged:function(){this.selChanged=true},loadAndApplyDefault:function(apply){if(apply){this.selectionSpi.selectUnavailble("Unknown")}var $defaultCommentLevelContainer=this._createContainer();var initDefaultView=new this._InitialLoadDefaultLevelView($defaultCommentLevelContainer);initDefaultView.startLoading();this.defaultLevelModel.getDefault(function success(lvlObj){if(!apply){this.selectionSpi.repickSelection()}else{if(!this.selChanged){this._applyDefaultToSelection(lvlObj)}}initDefaultView.endLoading()}.bind(this),function error(xhr){new FormDialog({content:SmartAjax.buildDialogErrorContent(xhr)}).show();initDefaultView.endLoading()}.bind(this))},flushViewWithNewControl:function(selectionDescriptor){var defaultLevel=this.defaultLevelModel.getCurrentDefault();if(defaultLevel&&selectionDescriptor.value()!=defaultLevel.level&&selectionDescriptor.value()!="none"){var $defaultCommentLevelContainer=this._createContainer();var currentSelection=new this.defaultLevelModel.LvlObj(selectionDescriptor.value(),selectionDescriptor.label());new this._SaveDefaultLevelControl($defaultCommentLevelContainer,this.defaultLevelModel,currentSelection)}else{this.$rootSpan.empty()}this.$errorSpan.empty()},_applyDefaultToSelection:function(lvlObj){if(!this.selectionSpi.hasSecurityLevel(lvlObj.level)){this.selectionSpi.selectUnavailble(lvlObj.levelName);this.$errorSpan.html(JIRA.Templates.CommentSecurityLevel.unavailable({"name":lvlObj.levelName}))}else{this.selectionSpi.selectLevel(lvlObj.level);var presentLevelName=this.selectionSpi.getSelectedLevelName();if(presentLevelName!=lvlObj.levelName){lvlObj.levelName=presentLevelName;this.defaultLevelModel.updateDefault(lvlObj,function(){},function(){})}}},_createContainer:function(){var $container=jQuery(JIRA.Templates.CommentSecurityLevel.defaultLevelContainer());this.$rootSpan.html($container);return $container}})});;
;
/* module-key = 'jira.webresources:default-comment-security-level', location = '/includes/ajs/select/security/SecuritySelectAdapter.js' */
define("jira/ajs/select/security/select-adapter",["jira/lib/class"],function(Class){return Class.extend({_selectedModel:null,init:function(selectModel){this._selectModel=selectModel},hasSecurityLevel:function(level){return this._selectModel.hasOptionByValue(level)},selectUnavailble:function(text){this._selectModel.putOption("none",text,true);this._selectModel.changeSelectionByValue("none")},selectLevel:function(level){this._selectModel.changeSelectionByValue(level)},repickSelection:function(){this._selectModel.changeSelectionByValue(this.getSelectedLevel())},getSelectedLevel:function(){return this._selectModel.getSelectedValues()[0]},getSelectedLevelName:function(){return this._selectModel.getSelectedTexts()[0]}})});;
;
/* module-key = 'jira.webresources:default-comment-security-level', location = '/includes/ajs/select/security/CommentSecurityLevel.soy' */
// This file was automatically generated from CommentSecurityLevel.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.CommentSecurityLevel.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.CommentSecurityLevel == 'undefined') { JIRA.Templates.CommentSecurityLevel = {}; }


JIRA.Templates.CommentSecurityLevel.defaultLevelSpinner = function(opt_data, opt_ignored) {
  return '<span class="icon default-comment-level-spinner"></span>';
};
if (goog.DEBUG) {
  JIRA.Templates.CommentSecurityLevel.defaultLevelSpinner.soyTemplateName = 'JIRA.Templates.CommentSecurityLevel.defaultLevelSpinner';
}


JIRA.Templates.CommentSecurityLevel.initialLoadDefaultStart = function(opt_data, opt_ignored) {
  return '<span class="default-comment-level-load">' + JIRA.Templates.CommentSecurityLevel.defaultLevelSpinner(null) + '<span class="default-comment-level-load-text">' + soy.$$escapeHtml("Loading your default...") + '</span></span>';
};
if (goog.DEBUG) {
  JIRA.Templates.CommentSecurityLevel.initialLoadDefaultStart.soyTemplateName = 'JIRA.Templates.CommentSecurityLevel.initialLoadDefaultStart';
}


JIRA.Templates.CommentSecurityLevel.linkToSetDefault = function(opt_data, opt_ignored) {
  return '' + aui.buttons.button({text: "Make this my default", type: 'link', extraClasses: 'default-comment-level-switch'});
};
if (goog.DEBUG) {
  JIRA.Templates.CommentSecurityLevel.linkToSetDefault.soyTemplateName = 'JIRA.Templates.CommentSecurityLevel.linkToSetDefault';
}


JIRA.Templates.CommentSecurityLevel.defaultLevelStatus = function(opt_data, opt_ignored) {
  return '<span class="default-comment-level-status ' + soy.$$escapeHtml(opt_data.span_classes) + '"><span class="default-comment-level-status-icon ' + soy.$$escapeHtml(opt_data.icon_classes) + '"></span><span class="default-comment-level-status-text ' + soy.$$escapeHtml(opt_data.text_classes) + '">' + soy.$$escapeHtml(opt_data.text) + '</span></span>';
};
if (goog.DEBUG) {
  JIRA.Templates.CommentSecurityLevel.defaultLevelStatus.soyTemplateName = 'JIRA.Templates.CommentSecurityLevel.defaultLevelStatus';
}


JIRA.Templates.CommentSecurityLevel.unavailable = function(opt_data, opt_ignored) {
  return '<span class="security-level-unavailble"><span class="aui-icon aui-icon-small aui-iconfont-error"></span><span class="security-level-unavailble-text">' + soy.$$escapeHtml(AJS.format("Your selected security level is unavailable, please change it",opt_data.name)) + '</span></span>';
};
if (goog.DEBUG) {
  JIRA.Templates.CommentSecurityLevel.unavailable.soyTemplateName = 'JIRA.Templates.CommentSecurityLevel.unavailable';
}


JIRA.Templates.CommentSecurityLevel.defaultLevelContainer = function(opt_data, opt_ignored) {
  return '<span class="default-comment-level-container"></span>';
};
if (goog.DEBUG) {
  JIRA.Templates.CommentSecurityLevel.defaultLevelContainer.soyTemplateName = 'JIRA.Templates.CommentSecurityLevel.defaultLevelContainer';
}
;
;
/* module-key = 'jira.webresources:dropdown-select', location = '/includes/ajs/select/DropdownSelect.js' */
define("jira/ajs/select/dropdown-select",["jira/ajs/control","jira/ajs/select/select-model","jira/ajs/layer/inline-layer-factory","jira/ajs/list/list","jquery"],function(Control,SelectModel,InlineLayerFactory,List,jQuery){return Control.extend({init:function(options){var instance=this;this.model=new SelectModel(options);this.model.$element.hide();this._createFurniture();this.dropdownController=InlineLayerFactory.createInlineLayers({alignment:AJS.LEFT,width:200,hideOnScroll:".issue-container",content:jQuery(".aui-list",this.$container)});this.dropdownController.layer().addClass("select-menu");this.listController=new List({containerSelector:jQuery(".aui-list",this.$container),groupSelector:"ul.opt-group",itemSelector:"li:not(.no-suggestions)",selectionHandler:function(e){instance._selectionHandler(this.getFocused(),e);e.preventDefault()}});this._assignEventsToFurniture()},show:function(){this.listController.generateListFromJSON(this.model.getAllDescriptors());this.dropdownController.show();this.listController.index=0;this.listController.focus();this.listController.enable()},_assignEventsToFurniture:function(){this._assignEvents("trigger",this.$trigger)},_createFurniture:function(){var id=this.model.$element.attr("id");this.$container=this._render("container",id);this.$trigger=this.model.$element.prev("a").appendTo(this.$container);this.$container.append(this._render("suggestionsContainer",id));this.$container.insertBefore(this.model.$element)},_renders:{container:function(idPrefix){return jQuery('<div class="select-menu" id="'+idPrefix+'-multi-select">')},suggestionsContainer:function(idPrefix){return jQuery('<div class="aui-list aui-list-checked" id="'+idPrefix+'-suggestions" tabindex="-1"></div>')}},_selectionHandler:function(selected){var instance=this,intCount=0;this.model.setSelected(selected.data("descriptor"));this.dropdownController.content().find(".aui-checked").removeClass(".aui-checked");selected.addClass(".aui-checked");var myInterval=window.setInterval(function(){intCount++;selected.toggleClass(".aui-checking");if(intCount>2){clearInterval(myInterval);instance.dropdownController.hide()}},80)},_events:{trigger:{click:function(e){this.show();e.preventDefault();e.stopPropagation()}}}})});AJS.namespace("AJS.SelectMenu",null,require("jira/ajs/select/dropdown-select"));AJS.namespace("AJS.DropdownSelect",null,require("jira/ajs/select/dropdown-select"));;
;
/* module-key = 'jira.webresources:dropdown-select', location = '/includes/ajs/select/SecurityLevelSelect.js' */
define("jira/ajs/select/security-level-select",["jira/issue","jira/featureflags/feature-manager","jira/ajs/select/security/default-comment-security-level-control","jira/ajs/select/security/select-adapter","jira/ajs/select/dropdown-select","jquery"],function(Issue,DarkFeatures,DefaultCommentSecurityLevelControl,SecuritySelectAdapter,DropdownSelect,jQuery){return DropdownSelect.extend({$securityLevelDiv:null,$commentLevelSelect:null,$triggerIcon:null,$currentLevelSpan:null,defaultEnabled:false,loadDefault:false,_defaultSecurityLevelControl:null,_createFurniture:function(){AJS.populateParameters();this._super()},init:function(commentLevelSelect){this._super(commentLevelSelect);var $commentLevelSelect=jQuery(commentLevelSelect);this.$securityLevelDiv=$commentLevelSelect.parent();this.$triggerIcon=this.$securityLevelDiv.find(".security-level-drop-icon");this.$currentLevelSpan=this.$securityLevelDiv.find(".current-level");this.defaultEnabled=$commentLevelSelect.data("enable-default")?true:false;this.applyDefault=$commentLevelSelect.data("apply-default")?true:false;this.model.$element.bind("change",function whenChangedUpdateView(event,selectionDescriptor){this._updateView(selectionDescriptor)}.bind(this));if(this.defaultEnabled&&DarkFeatures.isFeatureEnabled("viewissue.comment.defaultlevel")){var $defaultCommentLevelSpan=this.$securityLevelDiv.find(".default-comment-level");var $commentInlineErrorSpan=this.$securityLevelDiv.next(".security-level-inline-error");this._defaultSecurityLevelControl=new DefaultCommentSecurityLevelControl($defaultCommentLevelSpan,$commentInlineErrorSpan,new SecuritySelectAdapter(this.model));this._defaultSecurityLevelControl.loadAndApplyDefault(this.applyDefault);this.model.$element.bind("change",function whenChangedFlushView(event,selectionDescriptor){this._defaultSecurityLevelControl.flushViewWithNewControl(selectionDescriptor)}.bind(this))}},_updateView:function(selectionDescriptor){var commentIsViewableByAllUsers=selectionDescriptor.value()=="";if(commentIsViewableByAllUsers){this.$triggerIcon.removeClass("aui-iconfont-locked").addClass("aui-iconfont-unlocked");var securityLevelViewableByAll="Viewable by All Users";this.$triggerIcon.text(AJS.format("This comment will be {0}",securityLevelViewableByAll));this.$currentLevelSpan.text(securityLevelViewableByAll)}else{this.$triggerIcon.removeClass("aui-iconfont-unlocked").addClass("aui-iconfont-locked");var htmlEscapedLabel=jQuery("<div/>").text(selectionDescriptor.label()).html();var specificSecurityLevelAsHtmlFormat=AJS.format("Restricted to \u003cspan class=\'redText\'\u003e{0}\u003c/span\u003e",htmlEscapedLabel);var stripHtmlSecurityLevelLabel=jQuery("<div/>").html(specificSecurityLevelAsHtmlFormat).text();this.$triggerIcon.text(AJS.format("This comment will be {0}",stripHtmlSecurityLevelLabel));this.$currentLevelSpan.html(specificSecurityLevelAsHtmlFormat)}},_handleDownKey:function(e){if(e.keyCode===jQuery.ui.keyCode.DOWN&&!this.dropdownController.isVisible()){e.preventDefault();e.stopPropagation();this.show()}},_selectionHandler:function(selected){this._super(selected);var lastSelection=selected.data("descriptor").value();if(this._defaultSecurityLevelControl){this._defaultSecurityLevelControl.selectionChanged()}this._sendSelectionChangedAnalytics(lastSelection,selected.data("descriptor").value())},_sendSelectionChangedAnalytics:function(lastSelection,newSelection){AJS.trigger("analyticsEvent",{name:"jira.issue.comment.level.changed",data:{issueId:Issue.getIssueId(),lastSelection:lastSelection,newSelection:newSelection}})},_events:{trigger:{keydown:function(e){this._handleDownKey(e)},keypress:function(e){this._handleDownKey(e)}}}})});AJS.namespace("AJS.SecurityLevel",null,require("jira/ajs/select/security-level-select"));AJS.namespace("AJS.SecurityLevelSelect",null,require("jira/ajs/select/security-level-select"));;
;
/* module-key = 'jira.webresources:user-management', location = '/includes/jira/common/Users.js' */
(function(User){AJS.namespace("JIRA.Users.LoggedInUser.userName",null,User.username);AJS.namespace("JIRA.Users.LoggedInUser.isAnonymous",null,User.isAnonymous)})(require("jira/util/users/logged-in-user"));;
;
/* module-key = 'jira.webresources:mentions', location = '/includes/jira/mention/initMentions.js' */
require(["wrm/require"],function(wrmRequire){wrmRequire(["wrc!jira.webresources:mentions-feature"],function(){require(["jira/mention/mention-element"])})});;
;
/* module-key = 'com.atlassian.auiplugin:aui-banner', location = 'js/aui/banner.js' */
(function(A){define("aui/banner",[],function(){return A(AJS,AJS.$,AJS.template)})})(function(E,A,I){var G="header";function F(J){var K=H(J);C();B(K);return K}function H(J){var L='<div class="aui-banner aui-banner-{type}" role="banner"><p class="aui-banner-title" role="heading">{title}</p>{body}</div>';var K=A(I(L).fill({type:"error",title:J.title||"","body:html":J.body||""}).toString());K.find(".aui-banner-title:empty").remove();return K}function C(){var K=D();var J=K.find(".aui-banner");J.get().forEach(function(L){var M=L.getAttribute("aria-hidden")==="true";if(M){A(L).remove()}})}function D(){return A("#"+G)}function B(J){var K=D();if(!K.length){throw new Error("You must implement the application header")}J.prependTo(K);E._internal.animation.recomputeStyle(J);J.attr("aria-hidden","false")}return F});;
;
/* module-key = 'com.atlassian.auiplugin:aui-alignment', location = 'js/aui/internal/alignment.js' */
(function(A){AJS.Alignment=A(window.Tether);if(typeof window.define==="function"){define("aui/internal/alignment",["aui/internal/tether"],function(){return AJS.Alignment})}})(function(E){var C="data-aui-alignment";var J="data-aui-alignment-static";var H="aui-alignment";var A="aui-alignment-side-";var K="aui-alignment-snap-";var D="right middle";var I={"top left":{el:"bottom left",target:"top left"},"top center":{el:"bottom center",target:"top center"},"top right":{el:"bottom right",target:"top right"},"right top":{el:"top left",target:"top right"},"right middle":{el:"middle left",target:"middle right"},"right bottom":{el:"bottom left",target:"bottom right"},"bottom left":{el:"top left",target:"bottom left"},"bottom center":{el:"top center",target:"bottom center"},"bottom right":{el:"top right",target:"bottom right"},"left top":{el:"top right",target:"top left"},"left middle":{el:"middle right",target:"middle left"},"left bottom":{el:"bottom right",target:"bottom left"}};function G(Q,P,M){var N=A+P;var O=K+M;Q.className+=" "+N+" "+O}function B(M){var N=(M.getAttribute(C)||D).split(" ");return{side:N[0],snap:N[1]}}function F(N,M){return I[N+" "+M]||I[D]}function L(O,P){var R=B(O);var Q=F(R.side,R.snap);var N=O.hasAttribute(J);var M=new E({enabled:false,element:O,target:P,attachment:Q.el,targetAttachment:Q.target,classPrefix:H,constraints:[{to:"window",attachment:N===true?"none":"together"}]});G(O,R.side,R.snap);this._auiTether=M}L.prototype={destroy:function(){this._auiTether.destroy();return this},disable:function(){this._auiTether.disable();return this},enable:function(){this._auiTether.enable();return this}};return L});;
;
/* module-key = 'com.atlassian.auiplugin:aui-trigger', location = 'js/aui/trigger.js' */
(function(A){define("aui/trigger",[],function(){return A(AJS.$,window.skate)})})(function(E,B){function D(G,H){var F=E(H).closest("a[href]",G);return !!F.length&&F[0]!==G}function C(F){return document.getElementById(F.getAttribute("aria-controls"))}function A(G,H){if(G.isEnabled()){var F=C(G);if(F&&F.message){F.message(H)}}}B("data-aui-trigger",{type:B.types.ATTR,insert:function(F){E(F).on({click:function(G){if(!D(F,G.target)){A(F,G);G.preventDefault()}},"mouseenter mouseleave focus blur":function(G){A(F,G)}})},prototype:{disable:function(){this.setAttribute("aria-disabled","true")},enable:function(){this.setAttribute("aria-disabled","false")},isEnabled:function(){return this.getAttribute("aria-disabled")!=="true"}}})});;
;
/* module-key = 'com.atlassian.auiplugin:aui-trigger', location = 'soy/trigger.soy' */
// This file was automatically generated from trigger.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.trigger.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.trigger == 'undefined') { aui.trigger = {}; }


aui.trigger.trigger = function(opt_data, opt_ignored) {
  return '<' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'a') + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + ' class="' + aui.renderExtraClasses(opt_data) + '" aria-owns="' + soy.$$escapeHtml(opt_data.menu.id) + '" aria-controls="' + soy.$$escapeHtml(opt_data.menu.id) + '" aria-haspopup="true"' + ((opt_data.title) ? ' title="' + soy.$$escapeHtml(opt_data.title) + '"' : '') + ((opt_data.container) ? ' data-container="' + soy.$$escapeHtml(opt_data.container) + '"' : '') + (((! opt_data.tagName || opt_data.tagName == 'a') && (! opt_data.extraAttributes || Object.prototype.toString.call(opt_data.extraAttributes) === '[object Object]' && ! opt_data.extraAttributes.href && ! opt_data.extraAttributes.tabindex)) ? ' tabindex="0"' : '') + ' data-aui-trigger' + aui.renderExtraAttributes(opt_data) + '>' + ((opt_data.content) ? soy.$$filterNoAutoescape(opt_data.content) : '') + ((opt_data.text) ? soy.$$escapeHtml(opt_data.text) : '') + ((! (opt_data.showIcon == false)) ? '<span class="icon ' + soy.$$escapeHtml(opt_data.iconClasses ? opt_data.iconClasses : 'aui-icon-dropdown') + '">' + ((opt_data.iconText) ? soy.$$escapeHtml(opt_data.iconText) : '') + '</span>' : '') + '</' + soy.$$escapeHtml(opt_data.tagName ? opt_data.tagName : 'a') + '>';
};
if (goog.DEBUG) {
  aui.trigger.trigger.soyTemplateName = 'aui.trigger.trigger';
}
;
;
/* module-key = 'com.atlassian.auiplugin:internal-aui-browser', location = 'js/aui/internal/browser.js' */
(function(A){AJS._internal=AJS._internal||{};AJS._internal.browser=A(AJS.$)})(function(B){var A={};var C=null;A.supportsCalc=function(){if(C===null){var D=B('<div style="height: 10px; height: -webkit-calc(20px + 0); height: calc(20px);"></div>');C=(20===D.appendTo(document.documentElement).height());D.remove()}return C};A.supportsRequestAnimationFrame=function(){return !!window.requestAnimationFrame};return A});;
;
/* module-key = 'com.atlassian.auiplugin:aui-inline-dialog2', location = 'js/aui/inline-dialog2.js' */
(function(A){define("aui/inline-dialog2",["./internal/alignment","./trigger"],function(B){return A(B,AJS.layer,window.skate)})})(function(J,C,E){var I=1000;function K(M){return document.querySelector('[aria-controls="'+M.id+'"]')}function F(N,O){var M=K(N);if(M){O(M)}}function G(M,O){var N=M.getAttribute("data-aui-responds-to")==="hover";if(N){O(M)}}function L(N,M){if(!N._auiAlignment){N._auiAlignment=new J(N,M)}}function B(N,M){L(N,M);N._auiAlignment.enable()}function A(N,M){L(N,M);N._auiAlignment.disable()}E("aui-inline-dialog2",{type:E.types.TAG,ready:function(M){F(M,function(N){N.setAttribute("aria-expanded",M.isVisible());N.setAttribute("aria-haspopup","true")});G(M,function(){M.mouseInside=false;M.addEventListener("mouseenter",function(){M.mouseInside=true;M.message({type:"mouseenter"})});M.addEventListener("mouseleave",function(){M.mouseInside=false;M.message({type:"mouseleave"})})})},remove:function(M){if(M._auiAlignment){M._auiAlignment.destroy()}},prototype:{remove:function(){C(this).remove()},show:function(){var M=this;C(this).show();F(this,function(N){B(M,N);N.setAttribute("aria-expanded","true")});return this},hide:function(){var M=this;C(this).hide();F(this,function(N){A(M,N);N.setAttribute("aria-expanded","false")});return this},isVisible:function(){return C(this).isVisible()},message:function(M){D(this,M);return this}}});function D(O,Q){var N={toggle:["click"],hover:["mouseenter","mouseleave","focus","blur"]};var M=O.getAttribute("data-aui-responds-to");var P=N[M];if(P&&P.indexOf(Q.type)>-1){H[Q.type](O,Q)}}var H={click:function(M){if(M.isVisible()){if(!C(M).isPersistent()){M.hide()}}else{M.show()}},mouseenter:function(M){if(!M.isVisible()){M.show()}if(M._clearMouseleaveTimeout){M._clearMouseleaveTimeout()}},mouseleave:function(M){if(C(M).isPersistent()||!M.isVisible()){return }if(M._clearMouseleaveTimeout){M._clearMouseleaveTimeout()}var N=setTimeout(function(){if(!M.mouseInside){M.hide()}},I);M._clearMouseleaveTimeout=function(){clearTimeout(N);M._clearMouseleaveTimeout=null}},focus:function(M){if(!M.isVisible()){M.show()}},blur:function(M){if(!C(M).isPersistent()&&M.isVisible()){M.hide()}}}});;
;
/* module-key = 'com.atlassian.auiplugin:aui-inline-dialog2', location = 'soy/inline-dialog2.soy' */
// This file was automatically generated from inline-dialog2.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace aui.inlineDialog2.
 */

if (typeof aui == 'undefined') { var aui = {}; }
if (typeof aui.inlineDialog2 == 'undefined') { aui.inlineDialog2 = {}; }


aui.inlineDialog2.inlineDialog2 = function(opt_data, opt_ignored) {
  return '<aui-inline-dialog2 ' + ((opt_data.id) ? ' id="' + soy.$$escapeHtml(opt_data.id) + '"' : '') + '  class="aui-layer aui-inline-dialog' + aui.renderExtraClasses(opt_data) + '" data-aui-alignment="' + soy.$$escapeHtml(opt_data.alignment ? opt_data.alignment : '') + '" data-aui-responds-to="' + soy.$$escapeHtml(opt_data.respondsTo ? opt_data.respondsTo : '') + '" aria-hidden="true"' + aui.renderExtraAttributes(opt_data) + '>' + aui.inlineDialog2.inlineDialog2Content(opt_data) + '</aui-inline-dialog2>';
};
if (goog.DEBUG) {
  aui.inlineDialog2.inlineDialog2.soyTemplateName = 'aui.inlineDialog2.inlineDialog2';
}


aui.inlineDialog2.inlineDialog2Content = function(opt_data, opt_ignored) {
  return '<div class="aui-inline-dialog-contents">' + ((opt_data.content) ? soy.$$filterNoAutoescape(opt_data.content) : '') + '</div>';
};
if (goog.DEBUG) {
  aui.inlineDialog2.inlineDialog2Content.soyTemplateName = 'aui.inlineDialog2.inlineDialog2Content';
}


aui.inlineDialog2.trigger = function(opt_data, opt_ignored) {
  return '' + aui.trigger.trigger(soy.$$augmentMap(opt_data, {showIcon: opt_data.showIcon ? opt_data.showIcon : false}));
};
if (goog.DEBUG) {
  aui.inlineDialog2.trigger.soyTemplateName = 'aui.inlineDialog2.trigger';
}
;
;
/* module-key = 'jira.webresources:keyboard-shortcut-toggle', location = '/includes/ajs/keyboardshortcut/KeyboardShortcuts.toggle.js' */
define("jira/ajs/keyboardshortcut/keyboard-shortcut-toggle",["exports"],function(exports){var keyboardShortcutsDisabled=false;exports.disable=function(){keyboardShortcutsDisabled=true};exports.enable=function(){keyboardShortcutsDisabled=false};exports.areKeyboardShortcutsDisabled=function(){return keyboardShortcutsDisabled}});(function(KST){AJS.namespace("AJS.enableKeyboardShortcuts",null,KST.enable);AJS.namespace("AJS.disableKeyboardShortcuts",null,KST.disable)})(require("jira/ajs/keyboardshortcut/keyboard-shortcut-toggle"));;
;
/* module-key = 'jira.webresources:assignee-picker', location = '/includes/jira/field/AssigneePicker.js' */
define("jira/field/assignee-picker",["jira/ajs/select/scrollable-single-select","jira/ajs/select/suggestions/assignee-suggest-handler","jira/ajs/list/group-descriptor","jira/ajs/list/item-descriptor","aui/params","jquery","underscore"],function(ScrollableSingleSelect,AssigneeSuggestHandler,GroupDescriptor,ItemDescriptor,params,$,_){function getAssigneeGroupSearch(suggestions){return _.find(suggestions,function(suggestion){return suggestion.id()==="assignee-group-search"})}return ScrollableSingleSelect.extend({init:function(options){var instance=this;var element=(options.element instanceof $)?options.element:$(options.element);instance._pagination={lastQuery:null,numberOfShowingItems:0,allResultsDisplayed:false,requestNextPagePromise:null};function data(query){params.actionDescriptorId=undefined;AJS.populateParameters();return{username:query,projectKeys:params.projectKeys,issueKey:params.assigneeEditIssueKey,actionDescriptorId:params.actionDescriptorId,maxResults:50,startAt:instance._pagination.numberOfShowingItems}}function formatResponse(response){var ret=[];if(response.length){var groupDescriptor=new GroupDescriptor({weight:1,id:"assignee-group-search",uniqueItemScope:"container",replace:true,label:"All Users"});for(var i=0,len=response.length;i<len;i++){var user=response[i];var username=user.name;var displayName=user.displayName;var emailAddress=user.emailAddress;var label=displayName;if(emailAddress){label+=" - "+emailAddress}label+=" ("+username+")";groupDescriptor.addItem(new ItemDescriptor({value:username,fieldText:displayName,label:label,allowDuplicate:false,icon:user.avatarUrls["16x16"]}))}ret.push(groupDescriptor)}return ret}options=$.extend(true,{},{submitInputVal:true,showDropdownButton:!!element.data("show-dropdown-button"),errorMessage:"User \'\'{0}\'\' cannot be assigned this issue",localDataGroupId:"assignee-group-suggested",content:"mixed",suggestionAtTop:true,removeDuplicates:true,ajaxOptions:{url:function(){params.assigneeEditIssueKey=undefined;AJS.populateParameters();var path=params.assigneeEditIssueKey?"search":"multiProjectSearch";return contextPath+"/rest/api/latest/user/assignable/"+path},query:true,minQueryLength:0,data:data,formatResponse:formatResponse}},options);if(options.editValue=="-1"){options.editValue=false;element.val("-1")}this._super(options);this.suggestionsHandler=new AssigneeSuggestHandler(this.options,this.model)},requestSuggestions:function(force){if(this._pagination.lastQuery!=this.getQueryVal()){this._resetPagination()}return this._super(force).done(_.bind(function(suggestions){var group=getAssigneeGroupSearch(suggestions);if(group){var groupItems=group.items();if(groupItems&&groupItems.length){this._pagination.numberOfShowingItems+=groupItems.length}}return suggestions},this))},scrolledToBottomHandler:function(){if((!this._pagination.requestNextPagePromise||this._pagination.requestNextPagePromise.isResolved())&&!this._pagination.allResultsDisplayed){this._pagination.requestNextPagePromise=this.requestSuggestions(true).done(_.bind(function(suggestions){var group=getAssigneeGroupSearch(suggestions);if(group){var groupItems=group.items();if(groupItems&&groupItems.length){this.listController.appendToGroupDescriptor("assignee-group-search",groupItems);this.listController.addNextPage()}else{this._pagination.allResultsDisplayed=true}}else{this._pagination.allResultsDisplayed=true}},this))}},_handleCharacterInput:function(force){if(this._pagination.lastQuery!=this.getQueryVal()){this._super(force)}else{if(force){this.showSuggestions()}}},handleFreeInput:function(value){if(""===$.trim(value||this.$field.val())){this.setSelection(this.model.getDescriptor("-1"))}else{this._super(value)}this._resetPagination()},cleanUpModel:function(){},_resetPagination:function(){this._pagination.lastQuery=this.getQueryVal();this._pagination.numberOfShowingItems=0;this._pagination.allResultsDisplayed=false;this._pagination.requestNextPagePromise=null}})});AJS.namespace("JIRA.AssigneePicker",null,require("jira/field/assignee-picker"));;
;
/* module-key = 'jira.webresources:assignee-picker', location = '/includes/jira/field/initAssigneePickers.js' */
(function(){var AssigneePicker=require("jira/field/assignee-picker");var LoggedInUser=require("jira/util/users/logged-in-user");var Events=require("jira/util/events");var Types=require("jira/util/events/types");var Reasons=require("jira/util/events/reasons");var $=require("jquery");var skate=require("jira/skate");function getHashedLinkTarget(url){var hashIndex=url.indexOf("#");return(hashIndex!==-1)?url.substring(hashIndex):url}function wireAssignToMeLink(context){$("#assign-to-me-trigger",context).click(function(e){e.preventDefault();var url=$(this).attr("href");var assigneeId=getHashedLinkTarget(url);var username=LoggedInUser.username();var assigneeSelect=$(assigneeId,context);if($(assigneeId+"-single-select",context).length){assigneeSelect.trigger("set-selection-value",username)}else{assigneeSelect.val(username).change()}})}function wireAssigneeEditGroup(context){$(".assignee-edit-group",context).each(function(){var $this=$(this);var assigneeFieldId=$this.attr("rel");$("#assignee_userpicker_dummy_"+assigneeFieldId+"_container",context).click(function(){$("#assignee_radio_picker_"+assigneeFieldId,context).attr("checked","checked")});$this.parents("form[name=jiraform]").submit(function(){$this.find("input[name=assignee_radio]:checked").each(function(){if(this.id=="assignee_radio_picker_"+assigneeFieldId){$("#"+assigneeFieldId,context).val($("#assignee_userpicker_dummy_"+assigneeFieldId,context).val())}else{$("#"+assigneeFieldId,context).val($(this).val())}})})})}skate("js-assignee-picker",{type:skate.type.CLASSNAME,created:function(el){var $el=$(el);var editValue=$el.data("editValue");var control=new AssigneePicker({element:$el,editValue:editValue});$(document).trigger("ready.single-select.assignee",control)}});Events.bind(Types.NEW_CONTENT_ADDED,function(e,context,reason){if(reason!==Reasons.panelRefreshed){wireAssignToMeLink(context);wireAssigneeEditGroup(context)}})})();;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/ajs/dark-features.js' */
define("jira/ajs/dark-features",["jira/util/data/meta"],function(Meta){function readHtmlMetaTag(){try{var ajsMeta=JSON.parse(Meta.get("enabled-dark-features"));if(typeof ajsMeta==="object"){return ajsMeta}}catch(err){}return[]}var featuresArray=readHtmlMetaTag();var features={};for(var i=0,ii=featuresArray.length;i<ii;i++){features[featuresArray[i]]=true}return{isEnabled:function(key){return !!features[key]},enable:function(key){if(key&&!features[key]){features[key]=true}},disable:function(key){if(key&&features[key]){delete features[key]}}}});AJS.namespace("AJS.DarkFeatures",null,require("jira/ajs/dark-features"));;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jquery/plugins/color/color.js' */
(function(jQuery){jQuery.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(i,attr){jQuery.fx.step[attr]=function(fx){if(fx.state==0){fx.start=getColor(fx.elem,attr);fx.end=getRGB(fx.end)}if(!fx.start){return }fx.elem.style[attr]="rgb("+[Math.max(Math.min(parseInt((fx.pos*(fx.end[0]-fx.start[0]))+fx.start[0]),255),0),Math.max(Math.min(parseInt((fx.pos*(fx.end[1]-fx.start[1]))+fx.start[1]),255),0),Math.max(Math.min(parseInt((fx.pos*(fx.end[2]-fx.start[2]))+fx.start[2]),255),0)].join(",")+")"}});function getRGB(color){var result;if(color&&color.constructor==Array&&color.length==3){return color}if(result=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(color)){return[parseInt(result[1]),parseInt(result[2]),parseInt(result[3])]}if(result=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(color)){return[parseFloat(result[1])*2.55,parseFloat(result[2])*2.55,parseFloat(result[3])*2.55]}if(result=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(color)){return[parseInt(result[1],16),parseInt(result[2],16),parseInt(result[3],16)]}if(result=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(color)){return[parseInt(result[1]+result[1],16),parseInt(result[2]+result[2],16),parseInt(result[3]+result[3],16)]}return colors[jQuery.trim(color).toLowerCase()]}function getColor(elem,attr){var color;do{color=jQuery.curCSS(elem,attr);if(color!=""&&color!="transparent"||jQuery.nodeName(elem,"body")){break}attr="backgroundColor"}while(elem=elem.parentNode);return getRGB(color)}var colors={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jquery/plugins/expandoninput/expandOnInput.js' */
(function($){var eventsToListenTo="input keyup";$.fn.expandOnInput=function(maxHeight){var $textareas=this.filter("textarea");$textareas.unbind(eventsToListenTo,setHeight).bind(eventsToListenTo,setHeight);if($.browser.mozilla||$.browser.msie){$textareas.unbind("paste",triggerKeyup).bind("paste",triggerKeyup)}$textareas.unbind("refreshInputHeight").bind("refreshInputHeight",function(){$(this).css("height","");setHeight.call(this)});$textareas.data("expandOnInput_maxHeight",maxHeight);$textareas.each(function(){var $this=$(this);$this.each(function(){var $this=$(this);$this.data("hasFixedParent",!!$this.hasFixedParent())});if($this.val()!==""){setHeight.call(this)}});return this};function triggerKeyup(){var $textarea=$(this),textarea=this;setTimeout(function(){$textarea.keyup();textarea.scrollTop=textarea.scrollHeight},0)}function setHeight(){var $textarea=$(this),borderBox=($textarea.css("boxSizing")||$textarea.css("-mozBoxSizing")||$textarea.css("-webkitBoxSizing")||$textarea.css("-msBoxSizing"))==="border-box";this.scrollHeight;var maxHeight=parseInt($textarea.css("maxHeight"),10)||$textarea.data("expandOnInput_maxHeight")||$(window).height()-160,newHeight;if(borderBox){var outerHeight=$textarea.outerHeight();newHeight=Math.max(outerHeight+this.scrollHeight-this.clientHeight,outerHeight)}else{var height=$textarea.height();newHeight=Math.max(this.scrollHeight-($textarea.innerHeight()-height),height)}if(newHeight<maxHeight){$textarea.css({"overflow":"hidden","height":newHeight+"px"})}else{var cursorPosition=this.selectionStart;$textarea.css({"overflow-y":"auto","height":maxHeight+"px"});$textarea.unbind(eventsToListenTo,setHeight);$textarea.unbind("paste",triggerKeyup);if(this.selectionStart!==cursorPosition){this.selectionStart=cursorPosition;this.selectionEnd=cursorPosition}newHeight=maxHeight}$textarea.trigger("expandedOnInput");if(!$textarea.data("hasFixedParent")){var $window=$(window),scrollTop=$window.scrollTop(),minScrollTop=$textarea.offset().top+newHeight-$window.height()+29;if(scrollTop<minScrollTop){$window.scrollTop(minScrollTop)}}$textarea.trigger("stalkerHeightUpdated")}})(AJS.$);;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jquery/plugins/isdirty/isDirty.js' */
define("jira/jquery/plugins/isdirty",["jira/util/events","jira/util/browser","jquery"],function(Events,Browser,$){var DIRTY_WARNING_EXEMPT="ajs-dirty-warning-exempt";var DIRTY_WARNING_SANCTIONED="ajs-dirty-warning-whitelist";var DIRTY_WARNING_BY_DEFAULT="ajs-dirty-warning-by-default";var formIsBeingSubmitted=false;var defaultDirtyMessage="You have entered new data on this page. If you navigate away from this page without first saving your data, the changes will be lost.";var dirtyMessage=defaultDirtyMessage;$.fn.isDirty=function(){var $fields=this.find("*").andSelf().filter(":input");for(var i=0;i<$fields.length;i++){if(isElementDirty($fields[i])){return true}}return false};$.fn.removeDirtyWarning=function(){$(this.form||this).closest("form").addClass(DIRTY_WARNING_EXEMPT);return this};Events.bind("page-unload.location-change.from-dialog",function(){window.onbeforeunload=function(){}});Events.bind("page-unload.refresh.from-dialog",function(){dirtyMessage="The data in the dialog box was successfully submitted, although this page requires a refresh to display the results.\n\nYou had entered new data on the page before you opened the dialog box. If you continue, your page data will be lost."});function getDirtyMessage(){var msg=dirtyMessage;dirtyMessage=defaultDirtyMessage;return"***\n\n"+msg+"\n\n***"}var DirtyForm={getInputsToCheck:function(){return $("input[type='text'], textarea[name], ."+DIRTY_WARNING_SANCTIONED)},getDirtyWarning:function(){var $inputs=DirtyForm.getInputsToCheck();for(var i=0,ii=$inputs.size();i<ii;i++){if(!formIsBeingSubmitted&&isElementDirty($inputs[i])){return getDirtyMessage()}}if(formIsBeingSubmitted){formIsBeingSubmitted=false}},ClassNames:{SANCTIONED:DIRTY_WARNING_SANCTIONED,EXEMPT:DIRTY_WARNING_EXEMPT,BY_DEFAULT:DIRTY_WARNING_BY_DEFAULT}};if(!Browser.isSelenium()){window.onbeforeunload=DirtyForm.getDirtyWarning}function isElementDirty(element){var $element=$(element),$form=$(element.form),type=element.type;if($form.hasClass(DIRTY_WARNING_EXEMPT)||$element.hasClass(DIRTY_WARNING_EXEMPT)){return false}else{if($form.hasClass(DIRTY_WARNING_BY_DEFAULT)){return true}}if($element.is(":hidden")&&!$element.hasClass(DIRTY_WARNING_SANCTIONED)){return false}if(!$element.parent().length){return false}if($form.has(".error, .errMsg, .errorMessage, .errLabel, .ajaxerror").length>0||$form.prev(".error").length>0||$form.children(".error").length>0){return true}if((type==="hidden"||type==="submit"||type==="button")&&!$element.hasClass(DIRTY_WARNING_SANCTIONED)){return false}if(type==="select-one"||type==="select-multiple"){var options=element.options;for(var i=0;i<options.length;i++){var option=options[i];if(option.selected!==option.defaultSelected){return true}}return false}if(type==="checkbox"||type==="radio"){return element.checked!==element.defaultChecked}return element.value!==element.defaultValue}$(document).delegate("form","submit",function(){if(givenFormIsNotDialogForm($(this))){formIsBeingSubmitted=true}function givenFormIsNotDialogForm($form){return $form.parents(".jira-dialog.jira-dialog-open").length<=0}});$(function(){$(".cancel").bind("click",cancelForm)});$(function(){$("#cancelButton").bind("mousedown keydown click",cancelForm)});function cancelForm(){AJS.log("the cancel event on forms is deprecated");$(this.form||this).closest("form").trigger("cancel")}return DirtyForm});AJS.namespace("JIRA.DirtyForm",null,require("jira/jquery/plugins/isdirty"));;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jquery/plugins/overlabel/overlabel.js' */
jQuery.fn.overlabel=function(targField){this.each(function(){var label=AJS.$(this),field=targField||AJS.$("#"+(label.data("target")||label.attr("for")));label.removeClass("overlabel").addClass("overlabel-apply").click(function(e){if(!field.attr("disabled")){field.focus()}e.preventDefault()});if(field.width()){label.width(field.width())}field.on({"focus":function(){label.addClass("hidden")},"blur change":function(){var $el=AJS.$(this);if($el.val()===""){label.removeClass("hidden")}else{label.addClass("hidden")}}});if(field.val()&&field.val()!==""){label.addClass("hidden")}});return this};;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/toggleblock/ToggleBlock.js' */
define("jira/toggleblock/toggle-block",["jira/lib/class","jira/util/events","jira/util/events/types","jira/data/local-storage","jquery"],function(Class,Events,Types,localStorage,$){function expand(e){var instance=e.data.instance;if($(this).hasClass(instance.options.collapsedClass)){instance.expand(this)}}function toggle(e){var instance=e.data.instance;if(!(instance.options.originalTargetIgnoreSelector&&$(e.originalTarget).is(instance.options.originalTargetIgnoreSelector))){instance.toggle(e.target);e.preventDefault()}}function refreshToggleBlocks(e){e.data.instance._collapseTwiciBlocksFromStorage()}return Class.extend({getDefautOptions:function(){return{blockSelector:".twixi-block",triggerSelector:".twixi",eventType:"click",collapsedClass:"collapsed",expandedClass:"expanded",storageCollectionName:"twixi-blocks",autoFocusTrigger:true}},_collapseTwiciBlocksFromStorage:function(){var block,val=localStorage.getItem(this.options.storageCollectionName)||"";val=val.replace(/\./g,"\\.");if(/#\w+/.test(val)){block=$(val);if(block.is(this.options.blockSelector)){if(!this.isPermlink()){block.removeClass(this.options.expandedClass).addClass(this.options.collapsedClass)}}}return this},_updateTwixiBlockIdInStorage:function(blockId){if(!this.isPermlink()){if(!/#\w+/.test(blockId)){return this}var val=localStorage.getItem(this.options.storageCollectionName)||"",blockLength=(","+val+",").indexOf(","+blockId+",")+1;if(blockLength){if(val.indexOf(","+blockId)+1){val=val.replace(","+blockId,"")}else{val=val.replace(blockId,"")}}else{val=val.length?val+","+blockId:blockId}localStorage.setItem(this.options.storageCollectionName,val)}return this},contract:function(block){block=$(block);if(block.is(this.options.blockSelector)){block.removeClass(this.options.expandedClass).addClass(this.options.collapsedClass);if(this.options.persist!==false){this._updateTwixiBlockIdInStorage("#"+block.attr("id"))}}$(block).trigger("contractBlock");return this},expand:function(block){block=$(block);if(block.is(this.options.blockSelector)){block.removeClass(this.options.collapsedClass).addClass(this.options.expandedClass);if(this.options.persist!==false){this._updateTwixiBlockIdInStorage("#"+block.attr("id"))}}$(block).trigger("expandBlock");return this},toggle:function(twikiBlockChild){var block=$(twikiBlockChild).closest(this.options.blockSelector);if(!block.hasClass(this.options.collapsedClass)){this.contract(block)}else{this.expand(block)}if(this.options.autoFocusTrigger){block.find(this.options.triggerSelector+":visible").focus()}return this},isPermlink:function(){return this.checkIsPermlink(location.href)},checkIsPermlink:function(url){var query=parseUri(url).queryKey;return(query.hasOwnProperty("focusedCommentId")||query.hasOwnProperty("focusedWorklogId"))},addTrigger:function(triggerSelector,eventType){var thisInstance=this,lastMousedown=0;if(triggerSelector){eventType=eventType||"click";if(eventType==="dblclick"){if(document.selection){$(document).delegate(triggerSelector,"dblclick",function(){document.selection.empty()})}else{$(document).delegate(triggerSelector,"mousedown",function(){var now=new Date().getTime(),allowSelection=now-lastMousedown>750;lastMousedown=now;return allowSelection})}}$(document).delegate(triggerSelector,eventType,function(){thisInstance.toggle(this)})}return this},addCallback:function(methodName,callback){$.aop.after({target:this,method:methodName},callback);return this},isUnique:function(uid){var uids=$(document).data("toggleBlockUids")||[];return $.inArray(uid,uids)===-1},setUid:function(uid){var uids=$(document).data("toggleBlockUids")||[];uids.push(uid);$(document).data("toggleBlockUids",uids)},init:function(options){var instance=this;options=options||{};this.options=$.extend(this.getDefautOptions(),options);var uid=this.options.triggerSelector;if(!this.isUnique(uid)){if(typeof console!=="undefined"&&console.warn){console.warn("Your are trying to create a ToggleBlock with selector '"+this.options.triggerSelector+"'."+"One already exists with this trigger so has been ignored.")}return }this.setUid(uid);$(document).delegate(this.options.blockSelector,"reveal",{instance:this},expand);$(document).delegate(this.options.triggerSelector,this.options.eventType,{instance:this},toggle);Events.bind(Types.REFRESH_TOGGLE_BLOCKS,{instance:this},refreshToggleBlocks);if(this.options.persist!==false){$(function(){instance._collapseTwiciBlocksFromStorage()})}}})});AJS.namespace("JIRA.ToggleBlock",null,require("jira/toggleblock/toggle-block"));;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/togglelist/ToggleList.js' */
define("jira/togglelist/toggle-list",["jira/lib/class","jquery"],function(Class,jQuery){return Class.extend({init:function(options){var more=options.more,showMoreContainer=options.showMoreContainer||options.showMoreLink,showLessContainer=options.showLessContainer||options.showLessLink,showMoreLink=options.showMoreLink,showLessLink=options.showLessLink;if(!more||!more.length){showMoreContainer.hide();showLessContainer.hide();return }more.hide();showMoreContainer.show();showLessContainer.hide();var toggle=function(e){e.preventDefault();more.toggle();showMoreContainer.toggle();showLessContainer.toggle()};showMoreLink.click(toggle);showLessLink.click(toggle)}})});AJS.namespace("JIRA.ToggleList",null,require("jira/togglelist/toggle-list"));;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/wikipreview/wikiPreview.js' */
define("jira/wikipreview/wiki-preview",["wrm/context-path","jquery"],function(contextPath,jQuery){return function wikiPreview(prefs,ctx){var field;var editField;var trigger;var inPreviewMode=false;var origText;var setFields=function(){field=jQuery("#"+prefs.fieldId,ctx);editField=jQuery("#"+prefs.fieldId+"-wiki-edit",ctx);trigger=jQuery("#"+prefs.trigger,ctx)};var scrollSaver=function(){var elem;return{show:function(){if(!elem){elem=jQuery("<div>").html("&nbsp;").css({height:"300px"}).insertBefore(editField)}elem.css({display:"block"})},hide:function(){elem.css({display:"none"})}}}();var toggleRenderPreview=function(){if(!inPreviewMode){editField.find(".content-inner").css({maxHeight:field.css("maxHeight")});this.showPreview()}else{editField.find(".content-inner").css({maxHeight:""});this.showInput()}};var renderData=function(data){editField.originalHeight=editField.height();scrollSaver.show();editField.addClass("previewClass");origText=field.val();field.hide();trigger.removeClass("loading").addClass("selected");changePreviewAccessibleTextTo(AJS.format("Back to edit {0}",prefs.fieldId));editField.find(".content-inner").html(data);scrollSaver.hide();inPreviewMode=true;jQuery(document).trigger("showWikiPreview",[editField]);setTimeout(function(){trigger.focus()},0)};var handleError=function(previewer){return function(XMLHttpRequest,textStatus,errorThrown){trigger.removeClass("loading");origText=field.val();if(textStatus){alert(textStatus)}if(errorThrown){alert(errorThrown)}previewer.showInput()}};var changePreviewAccessibleTextTo=function(accessibleText){trigger.find(".wiki-renderer-icon").text(accessibleText)};return{showPreview:function(){var that=this;var pid=jQuery("#pid",ctx).val();var issueType=jQuery("#issuetype",ctx).val();if(jQuery.isArray(pid)){pid=pid[0]}if(jQuery.isArray(issueType)){issueType=issueType[0]}jQuery("#"+prefs.trigger,ctx).addClass("loading");jQuery.ajax({url:contextPath()+"/rest/api/1.0/render",contentType:"application/json",type:"POST",data:JSON.stringify({rendererType:prefs.rendererType,unrenderedMarkup:field.val(),issueKey:prefs.issueKey,projectId:pid,issueType:issueType}),dataType:"html",success:renderData,error:handleError(that)})},showInput:function(e){if(editField){scrollSaver.show();editField.css({height:""});editField.removeClass("previewClass").find(".content-inner").empty();field=jQuery("#"+prefs.fieldId,ctx);field.val(origText);field.show();field.focus();trigger.removeClass("selected");changePreviewAccessibleTextTo(AJS.format("Preview {0}",prefs.fieldId));scrollSaver.hide();inPreviewMode=false;jQuery(document).trigger("showWikiInput",[editField])}},init:function(){var that=this;var $trigger;if(prefs instanceof jQuery){prefs=jQuery.readData(prefs)}$trigger=jQuery("#"+prefs.trigger,ctx);$trigger.click(function(e){if(!$trigger.hasClass("loading")){setFields();toggleRenderPreview.call(that)}e.preventDefault()})}}}});AJS.namespace("jira.app.wikiPreview",null,require("jira/wikipreview/wiki-preview"));AJS.namespace("JIRA.wikiPreview",null,require("jira/wikipreview/wiki-preview"));;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/common/app.js' */
(function(){var $=require("jquery");var params=require("aui/params");var InlineDialog=require("aui/inline-dialog");var AuiTabs=require("aui/tabs");var ToggleBlock=require("jira/toggleblock/toggle-block");var describeBrowser=require("jira/ajs/browser/describe-browser");var Issue=require("jira/issue");var Messages=require("jira/message");var Cookie=require("jira/data/cookie");var Forms=require("jira/util/forms");var Meta=require("jira/util/data/meta");var Events=require("jira/util/events");var Navigator=require("jira/util/navigator");var skate=require("jira/skate");var $document=$(document);function initOverlabels(){$("label.overlabel").overlabel()}function initIssueNavContainment(){var $issueNav=$("div.results"),$issueNavWrapWidth=$issueNav.width();$issueNav.bind("resultsWidthChanged",function(){var $issueNavWrap=$(this);$issueNavWrap.css("width",100/$issueNavWrapWidth*($issueNavWrapWidth-(parseInt($(document.documentElement).prop("scrollWidth"),10)-$(window).width()))+"%")});$(window).resize(function(){$issueNav.trigger("resultsWidthChanged")});$issueNav.trigger("resultsWidthChanged");$("#issuenav").bind("contractBlock expandBlock",function(){$(".results").trigger("resultsWidthChanged")})}function initFieldTabs(){$(".fieldTabs li").click(function(e){e.preventDefault();e.stopPropagation();var $this=$(this);if(!$this.hasClass("active")){$(".fieldTabs li.active").removeClass("active");$this.addClass("active");$(".fieldTabArea.active").removeClass("active");$("#"+$this.attr("rel")).addClass("active")}})}function initHandleAccessKeys(){$("form").handleAccessKeys();$document.bind("dialogContentReady",function(){$("form",this.$content).handleAccessKeys({selective:false})})}function initHandleInlineLayerHide(){$document.keydown(function(e){if(InlineDialog.current&&e.which===27&&!$(e.target).is(":input")){InlineDialog.current.hide()}})}function initToggleBlocks(){new ToggleBlock({blockSelector:".twixi-block",storageCollectionName:"twixi"}).addCallback("toggle",function(){Issue.getStalker().trigger("stalkerHeightUpdated")}).addTrigger(".action-head .action-details","click");new ToggleBlock({blockSelector:"#issue-filter .toggle-wrap:not(#navigator-filter-subheading-textsearch-group)",triggerSelector:".toggle-trigger",collapsedClass:"expanded",expandedClass:"collapsed",storageCollectionName:"navSimpleSearch"});new ToggleBlock({blockSelector:".twixi-block",triggerSelector:".twixi-trigger",storageCollectionName:"twixi"});new ToggleBlock({blockSelector:"#issuenav",triggerSelector:"a.toggle-lhc",collapsedClass:"lhc-collapsed",storageCollectionName:"lhc-state",autoFocusTrigger:false});$(".error","#issue-filter").parents(".toggle-wrap").removeClass("collapsed").addClass("expanded");$("fieldset.content-toggle input[type='radio']").live("change",function(){var $this=$(this);$this.closest(".content-toggle").find("input[type='radio']").each(function(){var $this=$(this);$("#"+$this.attr("name")+"-"+$this.val()+"-content").addClass("hidden")});$("#"+$this.attr("name")+"-"+$this.val()+"-content").removeClass("hidden")})}function initLogWork(){$("#log-work-adjust-estimate-new-value,#log-work-adjust-estimate-manual-value").attr("disabled","disabled");$("#log-work-adjust-estimate-"+$("input[name=worklog_adjustEstimate]:checked,input[name=adjustEstimate]:checked").val()+"-value").removeAttr("disabled");$("input[name=worklog_adjustEstimate],input[name=adjustEstimate]").change(function(){$("#log-work-adjust-estimate-new-value,#log-work-adjust-estimate-manual-value").attr("disabled","disabled");$("#log-work-adjust-estimate-"+$(this).val()+"-value").removeAttr("disabled")})}function initLogin(){var radio=$("input:checked");if(radio.length!==0){if(radio.attr("id")==="forgot-login-rb-forgot-password"){$("#username,#password").addClass("hidden");$("#password").removeClass("hidden")}else{if(radio.attr("id")==="forgot-login-rb-forgot-username"){$("#username,#password").addClass("hidden");$("#username").removeClass("hidden")}}}$("#forgot-login-rb-forgot-password").change(function(){$("#username,#password").addClass("hidden");$("#password").removeClass("hidden")});$("#forgot-login-rb-forgot-username").change(function(){$("#username,#password").addClass("hidden");$("#username").removeClass("hidden")})}function initFileRadio(){$("input.upfile").each(function(){var input=$(this),container=input.closest(".field-group");input.change(function(){if(input.val().length>0){container.next(".field-group").removeClass("hidden")}})})}function initHandleEnterInTextarea(){$document.on("keypress","textarea",Forms.submitOnCtrlEnter);$("#jqltext").keypress(Forms.submitOnEnter)}function initUnsupportedBrowserWarning(){var $warning=$("#browser-warning");$(".icon-close",$warning).click(function(){$warning.slideUp("fast");Cookie.save("UNSUPPORTED_BROWSER_WARNING","handled")})}function initHandleFormSubmit(){$("form").submit(function(e){var event=new $.Event("before-submit");$(this).trigger(event);if(event.isDefaultPrevented()){e.preventDefault()}})}function initExpandOnInput(){var selector="#comment, #environment, #description",maxTextareaHeight=200;$document.bind("tabSelect",function(e,data){data.pane.find(selector).expandOnInput()});$(selector).expandOnInput(maxTextareaHeight);$document.bind("dialogContentReady",function(e,dialog){dialog.get$popupContent().bind("tabSelect",function(e,data){data.pane.find(selector).expandOnInput(maxTextareaHeight)}).find(selector).expandOnInput(maxTextareaHeight)});$document.bind("showWikiInput",function(e,$container){$container.find(selector).expandOnInput()})}function initAuiTabHandling(){Events.bind("dialogContentReady",function(){AuiTabs.setup()})}function initCancelFormHandling(){var $auiForm=$("form.aui");var $cancel=$("a.cancel",$auiForm);if(Navigator.isIE()&&Navigator.majorVersion()<12&&$cancel.attr("accessKey")){$cancel.focus(function(e){if(e.altKey){$(this).mousedown();window.location.href=$cancel.attr("href")}})}}function initBulkEditCheckboxes(){var checkRow=function(input){$(input).closest(".availableActionRow").find("td:first :checkbox").attr("checked",true)};var $rows=$("#availableActionsTable tr.availableActionRow");$rows.children("td:last-child").find(":input").change(function(e){checkRow(this)})}function initBulkEditCheckboxesForMultiSelectFields(){var checkUpperRow=function(input){$(input).closest("tr").prev().find("td:first :checkbox").attr("checked",true)};var $cells=$("#availableActionsTable .availableActionRowMultiSelect");$cells.children("td:last-child").find(":input").change(function(e){checkUpperRow(this)})}function disableMultiSelectFields(){$("#availableActionsTable .availableActionMultiSelect select").change(function(e){var $this=$(this);$this.closest("tr").next().toggleClass("hidden",$this.val()==="removeall")})}function initPerformanceMonitor(){if(params.showmonitor){var $div=$("<div class='perf-monitor'/>");var slowRequest=params["jira.request.server.time"]>2000,tooManySql=params.jiraSQLstatements>50;if(slowRequest){$div.addClass("tooslow")}if(tooManySql){$div.addClass("toomanysql")}$("#header-top").append($div);InlineDialog($div,"perf-monitor-dialog",function($contents,control,show){var timingInfo="<div>Page render time <strong>"+params["jira.request.server.time"]+" ms</strong>";if(params.jiraSQLstatements){timingInfo+=" / SQL <strong>"+params.jiraSQLstatements+"@"+params.jiraSQLtime+" ms</strong></br>";timingInfo+='<a target="_blank" href='+contextPath+"/sqldata.jsp?requestId="+params["jira.request.id"]+">More...</a>"}else{timingInfo+=" / No SQL statments"}timingInfo+="</div>";$contents.empty().append(timingInfo);show()})}}skate("shared-item-trigger",{type:skate.type.CLASSNAME,attached:function sharedItemTriggerAttached(element){var target=element.getAttribute("href");InlineDialog(element,target.substring(1),function(contents,trigger,showPopup){contents.html($(target).html());showPopup()},{width:240})}});function initClickables(){$(".clickable").click(function(){window.location.href=$(this).find("a").attr("href")})}function initProjectsList($ctx){$(".projects-list-trigger",$ctx).each(function(){var $trigger=$(this);$trigger.click(false);var target=$trigger.attr("href");InlineDialog(this,target.substring(1),function(contents,trigger,showPopup){contents.html($(target).html());showPopup()},{onHover:true,hideDelay:500,width:240})})}function initHelpLinks(){$document.on("click","[data-helplink=local]",function(e){var url=this.getAttribute("href");var child=window.open(url,"jiraLocalHelp","resizable, scrollbars=yes");child.focus();e.preventDefault();return false})}$(function(){initToggleBlocks();initOverlabels();initIssueNavContainment();initFieldTabs();initHandleAccessKeys();initLogWork();initLogin();initFileRadio();initHandleEnterInTextarea();initUnsupportedBrowserWarning();initHandleFormSubmit();initExpandOnInput();initCancelFormHandling();initBulkEditCheckboxes();initBulkEditCheckboxesForMultiSelectFields();disableMultiSelectFields();initHandleInlineLayerHide();initPerformanceMonitor();initClickables();initHelpLinks();initProjectsList()});describeBrowser();initAuiTabHandling();skate("js-filter-form-edit",{"type":skate.type.CLASSNAME,"extends":"form","events":{"submit":function filterFormSubmitted(element,event){if(!event.defaultPrevented){var filterName=AJS.escapeHtml(element.elements.filterName.value);Messages.showMsgOnReload(AJS.format("Changes to {0} have been saved.",filterName),{type:"SUCCESS",closeable:true,target:"body:not(:has(#filter-edit))"})}}}});skate("js-filter-form-subscription",{"type":skate.type.CLASSNAME,"extends":"form","events":{"submit":function filterFormSubmitted(element,event){if(!event.defaultPrevented){var recipient=element.elements.groupName.value||Meta.get("remote-user-fullname");Messages.showMsgOnReload(AJS.format("A subscription has been added for \u003cstrong\u003e{0}\u003c/strong\u003e.",AJS.escapeHtml(recipient)),{type:"SUCCESS",closeable:true,target:"body:not(:has(#filter-subscription))"})}}}})})();;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/common/page.js' */
(function($){var legacyPage={relatedContentCssSelector:".content-container > .content-related",mainContentCssSelector:".content-container > .content-body"};var auiPage={relatedContentCssSelector:".aui-page-panel > .aui-page-panel-inner > .aui-page-panel-nav",mainContentCssSelector:".aui-page-panel > .aui-page-panel-inner > .aui-page-panel-content"};var findEl=function(prop){var $el=$(legacyPage[prop]);if($el.size()){AJS.log("This page is using a deprecated page layout markup pattern. It should be updated to use AUI page layout.")}else{$el=$(auiPage[prop])}return $el};JIRA.Page=$.extend({},JIRA.Page,legacyPage,auiPage,{relatedContentElement:function(){return findEl("relatedContentCssSelector")},mainContentElement:function(){return findEl("mainContentCssSelector")}})})(AJS.$);;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/dialog/initGenericDialogs.js' */
define("jira/dialog/init-generic-dialogs",["jira/dialog/dialog-register","jira/dialog/dialog-util","jira/dialog/form-dialog","jira/ajs/keyboardshortcut/keyboard-shortcut-toggle","jquery","exports"],function(DialogRegister,DialogUtil,FormDialog,KST,jQuery,exports){exports.init=function(){DialogRegister.keyboardShortcuts=new FormDialog({id:"keyboard-shortcuts-dialog",trigger:"#keyshortscuthelp",widthClass:"large",onContentRefresh:function(){var context=this.get$popupContent();jQuery("a.submit-link",context).click(function(e){e.preventDefault();jQuery("form",context).submit()})},onSuccessfulSubmit:function(){if(KST.areKeyboardShortcutsDisabled()){KST.enable()}else{KST.disable()}}});DialogRegister.deleteIssueLink=new FormDialog({type:"ajax",id:"delete-issue-link-dialog",trigger:"#linkingmodule .delete-link > a",ajaxOptions:DialogUtil.getDefaultAjaxOptions,isIssueDialog:true});new FormDialog({id:"credits-dialog",trigger:"#view_credits",widthClass:"creditsContainer",onContentRefresh:function(){if(!jQuery("html").hasClass("safari")){function center(){jQuery.each(arguments,function(){this.show().css({marginLeft:-this.outerWidth()/2,marginTop:-this.outerHeight()/2}).hide()})}}}});new FormDialog({id:"about-dialog",trigger:"#view_about",ajaxOptions:{url:this.href,data:{decorator:"dialog",inline:"false"}},widthClass:"large"});jQuery(document).on("click","a.trigger-dialog",function(e){e.preventDefault();var dialog=new FormDialog({id:this.id+"-dialog",ajaxOptions:{url:this.href,data:{decorator:"dialog",inline:"false"}}});dialog.show()})}});;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/dialog/initDashboardDialogs.js' */
define("jira/dialog/init-dashboard-dialogs",["jira/dialog/dialog-register","jira/dialog/form-dialog","jquery","exports"],function(DialogRegister,FormDialog,jQuery,exports){exports.init=function(){if(!document.getElementById("dashboard")){return }DialogRegister.deleteDashboard=new FormDialog({type:"ajax"});jQuery(document).delegate("#delete_dashboard","click",function(e){e.stopPropagation();e.preventDefault();DialogRegister.deleteDashboard.$activeTrigger=jQuery("#delete_dashboard");DialogRegister.deleteDashboard.init({type:"ajax",id:"delete-dshboard",ajaxOptions:{url:DialogRegister.deleteDashboard.$activeTrigger.attr("href")},targetUrl:"input[name=targetUrl]"});DialogRegister.deleteDashboard.show()})}});;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/dialog/initNonDashboardDialogs.js' */
define("jira/dialog/init-non-dashboard-dialogs",["jira/dialog/dialog-register","jira/dialog/dialog-factory","jira/dialog/dialog-util","jira/dialog/form-dialog","jira/dialog/labels-dialog","jira/dialog/screenshot-window","jira/issuenavigator/issue-navigator","jquery","exports"],function(DialogRegister,DialogFactory,DialogUtil,FormDialog,LabelsDialog,ScreenshotWindow,IssueNavigator,jQuery,exports){exports.init=function(){if(document.getElementById("dashboard")){return }DialogRegister.linkIssue=DialogFactory.createLinkIssueDialog("a.issueaction-link-issue");DialogRegister.deleteIssue=new FormDialog({id:"delete-issue-dialog",trigger:"a.issueaction-delete-issue",targetUrl:"#delete-issue-return-url",ajaxOptions:DialogUtil.getDefaultAjaxOptions,onSuccessfulSubmit:DialogUtil.storeCurrentIssueIdOnSucessfulSubmit,issueMsg:"thanks_issue_deleted",delayShowUntil:DialogUtil.BeforeShowIssueDialogHandler.execute,isIssueDialog:true});DialogRegister.cloneIssue=new FormDialog({id:"clone-issue-dialog",trigger:"a.issueaction-clone-issue",handleRedirect:true,ajaxOptions:DialogUtil.getDefaultAjaxOptions,onSuccessfulSubmit:DialogUtil.storeCurrentIssueIdOnSucessfulSubmit,issueMsg:"thanks_issue_cloned",delayShowUntil:DialogUtil.BeforeShowIssueDialogHandler.execute,isIssueDialog:true});DialogRegister.assignIssue=new FormDialog({id:"assign-dialog",trigger:"a.issueaction-assign-issue",ajaxOptions:DialogUtil.getDefaultAjaxOptions,onSuccessfulSubmit:DialogUtil.storeCurrentIssueIdOnSucessfulSubmit,issueMsg:"thanks_issue_assigned",delayShowUntil:DialogUtil.BeforeShowIssueDialogHandler.execute,isIssueDialog:true,widthClass:"large"});DialogRegister.assignIssueToMe=new FormDialog({id:"assign-dialog",trigger:"a.issueaction-assign-to-me",ajaxOptions:DialogUtil.getDefaultAjaxOptions,onSuccessfulSubmit:DialogUtil.storeCurrentIssueIdOnSucessfulSubmit,issueMsg:"thanks_issue_assigned",delayShowUntil:DialogUtil.BeforeShowIssueDialogHandler.execute,isIssueDialog:true});DialogRegister.logWork=new FormDialog({id:"log-work-dialog",trigger:"a.issueaction-log-work",handleRedirect:true,ajaxOptions:DialogUtil.getDefaultAjaxOptions,onSuccessfulSubmit:DialogUtil.storeCurrentIssueIdOnSucessfulSubmit,issueMsg:"thanks_issue_worklogged",delayShowUntil:DialogUtil.BeforeShowIssueDialogHandler.execute,isIssueDialog:true,widthClass:"large"});DialogRegister.attachFile=new FormDialog({id:"attach-file-dialog",trigger:"a.issueaction-attach-file",handleRedirect:true,ajaxOptions:DialogUtil.getDefaultAjaxOptions,onSuccessfulSubmit:DialogUtil.storeCurrentIssueIdOnSucessfulSubmit,issueMsg:"thanks_issue_attached",isIssueDialog:true,widthClass:"large"});DialogRegister.attachScreenshot=new ScreenshotWindow({id:"attach-screenshot-window",trigger:"a.issueaction-attach-screenshot"});DialogRegister.manageAttachment=new FormDialog({id:"manage-attachment-dialog",trigger:"#manage-attachment-link",stacked:true,reloadOnPop:true,isIssueDialog:true,widthClass:"large"});DialogRegister.comment=new FormDialog({id:"comment-add-dialog",trigger:"a.issueaction-comment-issue:not(.inline-comment)",handleRedirect:true,ajaxOptions:DialogUtil.getDefaultAjaxOptions,onSuccessfulSubmit:DialogUtil.storeCurrentIssueIdOnSucessfulSubmit,issueMsg:"thanks_issue_commented",isIssueDialog:true,widthClass:"large"}).dirtyFormWarning();DialogRegister.editLabels=new LabelsDialog({id:"edit-labels-dialog",trigger:"a.issueaction-edit-labels,a.edit-labels",autoClose:true,ajaxOptions:DialogUtil.getDefaultAjaxOptions,onSuccessfulSubmit:DialogUtil.storeCurrentIssueIdOnSucessfulSubmit,issueMsg:"thanks_issue_labelled",delayShowUntil:DialogUtil.BeforeShowIssueDialogHandler.execute,labelsProvider:labelsProvider,isIssueDialog:true});DialogRegister.editComment=new FormDialog({type:"ajax",id:"edit-comment",trigger:".action-links .edit-comment",delayShowUntil:DialogUtil.BeforeShowIssueDialogHandler.execute,isIssueDialog:true,widthClass:"large"}).dirtyFormWarning();DialogRegister.editLogWork=new FormDialog({id:"edit-log-work-dialog",trigger:".action-links .edit-worklog-trigger",isIssueDialog:true,onSuccessfulSubmit:DialogUtil.storeCurrentIssueIdOnSucessfulSubmit,delayShowUntil:DialogUtil.BeforeShowIssueDialogHandler.execute,widthClass:"large"});DialogRegister.deleteLogWork=new FormDialog({id:"delete-log-work-dialog",trigger:".action-links .delete-worklog-trigger",isIssueDialog:true,onSuccessfulSubmit:DialogUtil.storeCurrentIssueIdOnSucessfulSubmit,delayShowUntil:DialogUtil.BeforeShowIssueDialogHandler.execute,widthClass:"large"});DialogRegister.deleteComment=new FormDialog({type:"ajax",id:"delete-comment-dialog",trigger:".action-links [id^='delete_comment']",delayShowUntil:DialogUtil.BeforeShowIssueDialogHandler.execute,isIssueDialog:true,widthClass:"large"}).dirtyFormWarning();DialogRegister.watchIssue=new FormDialog({ajaxOptions:DialogUtil.getDefaultAjaxOptions,onSuccessfulSubmit:DialogUtil.storeCurrentIssueIdOnSucessfulSubmit,delayShowUntil:DialogUtil.BeforeShowIssueDialogHandler.execute,trigger:".issueaction-watch-issue:not([id='toggle-watch-issue'])",isIssueDialog:true});DialogRegister.stopWatchingIssue=new FormDialog({ajaxOptions:DialogUtil.getDefaultAjaxOptions,onSuccessfulSubmit:DialogUtil.storeCurrentIssueIdOnSucessfulSubmit,delayShowUntil:DialogUtil.BeforeShowIssueDialogHandler.execute,trigger:".issueaction-unwatch-issue:not([id='toggle-watch-issue'])",isIssueDialog:true});DialogRegister.addVoteForIssue=new FormDialog({ajaxOptions:DialogUtil.getDefaultAjaxOptions,onSuccessfulSubmit:DialogUtil.storeCurrentIssueIdOnSucessfulSubmit,delayShowUntil:DialogUtil.BeforeShowIssueDialogHandler.execute,trigger:".issueaction-vote-issue:not([id='toggle-vote-issue'])",isIssueDialog:true});DialogRegister.removeVoteForIssue=new FormDialog({ajaxOptions:DialogUtil.getDefaultAjaxOptions,onSuccessfulSubmit:DialogUtil.storeCurrentIssueIdOnSucessfulSubmit,delayShowUntil:DialogUtil.BeforeShowIssueDialogHandler.execute,trigger:".issueaction-unvote-issue:not([id='toggle-vote-issue'])",isIssueDialog:true});new FormDialog({type:"ajax",id:"delete-attachment-dialog",trigger:"#attachmentmodule .attachment-delete a, #issue-attachments-table a.delete",isIssueDialog:true});function labelsProvider(labelsPopup){var $trigger=labelsPopup.$activeTrigger,$labelsContainer=$trigger.closest(".labels-wrap"),isSubtaskForm=$trigger.parents("#view-subtasks").length!==0;if(isSubtaskForm){$labelsContainer=$trigger.parents("tr").find(".labels-wrap")}else{if($trigger.hasClass("issueaction-edit-labels")){if(IssueNavigator.isNavigator()){$labelsContainer=jQuery("#issuetable tr.issuerow.focused td.labels .labels-wrap")}else{$labelsContainer=jQuery("#wrap-labels .labels-wrap")}}}if($labelsContainer.length>0){return $labelsContainer}return false}}});;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/dialog/initWorkflowTransitionDialogs.js' */
define("jira/dialog/init-workflow-transition-dialogs",["jira/dialog/dialog-register","jira/dialog/dialog-util","jira/dialog/form-dialog","jira/issuenavigator/issue-navigator","aui/tabs","jquery","exports"],function(DialogRegister,DialogUtil,FormDialog,IssueNavigator,AuiTabs,jQuery,exports){var workflowLinkSelector="a.issueaction-workflow-transition";exports.init=function(){jQuery(document).delegate(workflowLinkSelector,"click",function(event){event.preventDefault();var link=jQuery(event.target).closest(workflowLinkSelector);var action=parseUri(link.attr("href")).queryKey.action;if(action){var id="workflow-transition-"+action+"-dialog";var $trigger=jQuery(this);if(!DialogRegister[id]){DialogRegister[id]=new FormDialog({id:id,trigger:['a[href*="action='+action+'&"].issueaction-workflow-transition','a[href$="action='+action+'"].issueaction-workflow-transition'],widthClass:"large",handleRedirect:true,ajaxOptions:DialogUtil.getDefaultAjaxOptions,onSuccessfulSubmit:DialogUtil.storeCurrentIssueIdOnSucessfulSubmit,delayShowUntil:DialogUtil.BeforeShowIssueDialogHandler.execute,issueMsg:"thanks_issue_transitioned",onContentRefresh:function(){AuiTabs.setup()},isIssueDialog:true});DialogRegister[id].$activeTrigger=$trigger;DialogRegister[id].show()}}})}});;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/dialog/initDialogBehaviour.js' */
define("jira/dialog/init-dialog-behaviour",["jira/dialog/dialog-register","jira/dialog/dialog","jira/issue","jira/issuenavigator/issue-navigator","jquery","underscore","exports"],function(DialogRegister,Dialog,Issue,IssueNavigator,jQuery,_,exports){exports.init=function(){jQuery(window).resize(_.debounce(function(){Dialog.current&&Dialog.current._positionInCenter()},200));jQuery.each(DialogRegister,function(name,dialog){if(dialog instanceof Dialog&&_.result(dialog,"isIssueDialog")){jQuery(dialog).bind("beforeShow",function(){return IssueNavigator.isRowSelected()||!!Issue.getIssueId()})}})}});;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/dialog/initDialogs.js' */
AJS.$(function(){require("jira/dialog/init-generic-dialogs").init();require("jira/dialog/init-dashboard-dialogs").init();require("jira/dialog/init-non-dashboard-dialogs").init();require("jira/dialog/init-workflow-transition-dialogs").init();require("jira/dialog/init-dialog-behaviour").init()});;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/dropdown/element/default-dropdown.js' */
define("jira/dropdown/element/default-dropdown",["jira/ajs/dropdown/dropdown","jira/skate","jquery"],function(Dropdown,skate,$){return skate("js-default-dropdown",{type:skate.type.CLASSNAME,created:function dropdownCreated(element){},attached:function dropdownAttached(element){var $trigger=$(element);var $content=$trigger.next(".aui-list");var alignment=$trigger.attr("data-alignment")||AJS.RIGHT;var hasDropdown=!!$trigger.data("hasDropdown");if($content.length===0){console.warn("Dropdown init failied. Could not find content. Printing culprit...");console.log($trigger)}if(!hasDropdown){$trigger.data("hasDropdown",true);new Dropdown({trigger:$trigger,content:$content,alignment:alignment,setMaxHeightToWindow:$trigger.attr("data-contain-to-window"),hideOnScroll:$trigger.attr("data-hide-on-scroll")||".issue-container"})}}})});;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/dropdown/element/issue-actions-trigger.js' */
define("jira/dropdown/element/issue-actions-trigger",["jira/ajs/dropdown/dropdown","jira/skate","jquery"],function(Dropdown,skate,$){var TEMPLATE=JIRA.FRAGMENTS.issueActionsFragment;function getIssueActionFormatHandlers(){var options={};if(JIRA.Issues&&JIRA.Issues.Api){options.ajaxOptions={};options.ajaxOptions.formatError=JIRA.Issues.Api.showInlineIssueLoadError}return options}return skate("issue-actions-trigger",{type:skate.type.CLASSNAME,attached:function issueActionTriggerAttached(element){var $trigger=$(element);var dropdownConfig={hideOnScroll:".issue-container",trigger:$trigger,ajaxOptions:{dataType:"json",cache:false,formatSuccess:TEMPLATE},onerror:function(instance){instance.layerController.initialized=true;instance.hide()}};dropdownConfig=$.extend(true,dropdownConfig,getIssueActionFormatHandlers());new Dropdown(dropdownConfig);$trigger.addClass("trigger-happy")}})});;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/dropdown/DropdownFactory.js' */
define("jira/dropdown/dropdown-factory",["jira/ajs/dropdown/dropdown","jquery","exports"],function(Dropdown,$,exports){exports.bindGenericDropdowns=$.noop;exports.bindIssueActionsDds=$.noop;exports.bindNavigatorOptionsDds=function(){var $navigatorOptions=$("#navigator-options");Dropdown.create({trigger:$navigatorOptions.find(".aui-dd-link"),content:$navigatorOptions.find(".aui-list"),alignment:AJS.RIGHT});$navigatorOptions.find("a.aui-dd-link").linkedMenu()};exports.bindConfigDashboardDds=function(){$("#dashboard").find(".aui-dd-parent").dropDown("Standard",{trigger:"a.aui-dd-link"})}});AJS.namespace("JIRA.Dropdowns",null,require("jira/dropdown/dropdown-factory"));;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/dropdown/initDropdowns.js' */
require(["jira/dropdown/element/default-dropdown","jira/dropdown/element/issue-actions-trigger","jira/dropdown/dropdown-factory","jquery"],function(DefaultDropdownElement,IssueActionsTriggerElement,DropdownFactory,$){$(function(){DropdownFactory.bindNavigatorOptionsDds();DropdownFactory.bindConfigDashboardDds()})});;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/websudo/webSudo.js' */
AJS.$(function($){var Browser=require("jira/util/browser");function dropWebSudo(successCallback){$.ajax({type:"DELETE",url:contextPath+"/rest/auth/1/websudo",contentType:"application/json",success:successCallback})}$("#websudo-drop-from-protected-page").click(function(event){dropWebSudo(function(){Browser.reloadViaWindowLocation(contextPath+"/secure/MyJiraHome.jspa")});event.preventDefault()});$("#websudo-drop-from-normal-page").click(function(event){var banner=$("#websudo-banner");dropWebSudo(function(){banner.slideUp(function(){banner.trigger("aui-message-close")});banner.addClass("dropped")});event.preventDefault()})});;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jquery/plugins/togglefield/toggleField.js' */
jQuery.fn.toggleField=function(field){var that=this,field=jQuery(field),setFieldAttr=function(){field.prop("disabled",function(){if(that.prop("checked")===false){that.parent().addClass("disabled");return true}else{that.parent().removeClass("disabled");return false}}());return arguments.callee}();jQuery(document[this.attr("name")]).click(setFieldAttr).change(setFieldAttr);return this};;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/project/ProjectKeyGenerator.js' */
define("jira/util/strings/character-map",function(){var CHARACTER_MAP={};CHARACTER_MAP[199]="C";CHARACTER_MAP[231]="c";CHARACTER_MAP[252]="u";CHARACTER_MAP[251]="u";CHARACTER_MAP[250]="u";CHARACTER_MAP[249]="u";CHARACTER_MAP[233]="e";CHARACTER_MAP[234]="e";CHARACTER_MAP[235]="e";CHARACTER_MAP[232]="e";CHARACTER_MAP[226]="a";CHARACTER_MAP[228]="a";CHARACTER_MAP[224]="a";CHARACTER_MAP[229]="a";CHARACTER_MAP[225]="a";CHARACTER_MAP[239]="i";CHARACTER_MAP[238]="i";CHARACTER_MAP[236]="i";CHARACTER_MAP[237]="i";CHARACTER_MAP[196]="A";CHARACTER_MAP[197]="A";CHARACTER_MAP[201]="E";CHARACTER_MAP[230]="ae";CHARACTER_MAP[198]="Ae";CHARACTER_MAP[244]="o";CHARACTER_MAP[246]="o";CHARACTER_MAP[242]="o";CHARACTER_MAP[243]="o";CHARACTER_MAP[220]="U";CHARACTER_MAP[255]="Y";CHARACTER_MAP[214]="O";CHARACTER_MAP[241]="n";CHARACTER_MAP[209]="N";return CHARACTER_MAP});define("jira/project/project-key-generator",["jira/util/strings/character-map","jira/lib/class","jquery","underscore"],function(CHARACTER_MAP,Class,jQuery,_){var IGNORED_WORDS=["THE","A","AN","AS","AND","OF","OR"];function getTotalLength(words){return words.join("").length}function removeIgnoredWords(words){return _.reject(words,function(word){return jQuery.inArray(word,IGNORED_WORDS)!==-1})}function createAcronym(words){var result="";jQuery.each(words,function(i,word){result+=word.charAt(0)});return result}function getFirstSyllable(word){var pastVowel=false;var i;for(i=0;i<word.length;i++){if(isVowelOrY(word[i])){pastVowel=true}else{if(pastVowel){return word.substring(0,i+1)}}}return word}function isVowelOrY(c){return c&&c.length===1&&c.search("[AEIOUY]")!==-1}return Class.extend({init:function(options){options=jQuery.extend({},options);this.desiredKeyLength=(typeof options.desiredKeyLength==="number")?options.desiredKeyLength:4;this.maxKeyLength=(typeof options.maxKeyLength==="number")?options.maxKeyLength:0},generateKey:function(name){name=jQuery.trim(name);if(!name){return""}var filtered=[];for(var i=0,ii=name.length;i<ii;i++){var sub=CHARACTER_MAP[name.charCodeAt(i)];filtered.push(sub?sub:name[i])}name=filtered.join("");var words=[];jQuery.each(name.split(/\s+/),function(i,word){if(word){word=word.replace(/[^a-zA-Z]/g,"");word=word.toUpperCase();word.length&&words.push(word)}});if(this.desiredKeyLength&&getTotalLength(words)>this.desiredKeyLength){words=removeIgnoredWords(words)}var key;if(words.length===0){key=""}else{if(words.length===1){var word=words[0];if(this.desiredKeyLength&&word.length>this.desiredKeyLength){key=getFirstSyllable(word)}else{key=word}}else{key=createAcronym(words)}}if(this.maxKeyLength&&key.length>this.maxKeyLength){key=key.substr(0,this.maxKeyLength)}return key}})});AJS.namespace("JIRA.ProjectKeyGenerator",null,require("jira/project/project-key-generator"));;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/project/ProjectSample.js' */
define("jira/project/project-sample",["jira/lib/class","jquery"],function(Class,jQuery){return Class.extend({init:function(options){this.defaultName="My Project";this.defaultKey="MP";this.defaultAvatarSrc="";this.nameValue="";this.keyValue="";this.avatarSrc="";this.$container=options.element;this.$container.html(JIRA.Templates.CreateProject.projectSample({projectName:this.defaultName,projectKey:this.defaultKey,issueName:options.issueName}));this.$sampleElement=this.$container.find(".sample-project");this.$sampleElementName=this.$sampleElement.find("#project-name-val");this.$sampleElementKey=this.$sampleElement.find("#key-val");this.$sampleElementAvatar=this.$sampleElement.find("#project-avatar");this.events=options.events;this.events.bind("updated.Name",jQuery.proxy(function(){this.updateSampleName(arguments[1])},this));this.events.bind("updated.Key",jQuery.proxy(function(){this.updateSampleKey(arguments[1])},this));this.events.bind("updated.Avatar",jQuery.proxy(function(){this.updateSampleAvatar(arguments[1])},this))},_render:function(){var name=this.nameValue||this.defaultName;var key=this.keyValue||this.defaultKey;var avatar=this.avatarSrc||this.defaultAvatarSrc;key=(key||"")+"-1";key=key.toUpperCase();this.$sampleElementName.text(name);this.$sampleElementKey.text(key);this.$sampleElementAvatar.attr("src",avatar)},updateSampleName:function(name){this.nameValue=jQuery.trim(name);this._render()},updateSampleKey:function(key){this.keyValue=jQuery.trim(key);this._render()},updateSampleAvatar:function(src){this.avatarSrc=src;this._render()}})});AJS.namespace("JIRA.ProjectSample",null,require("jira/project/project-sample"));;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/field/CreateProjectField.js' */
define("jira/field/create-project-field",["jira/lib/class","jira/ajs/dark-features","jira/project/project-key-generator","jira/project/project-sample","aui/inline-dialog","jquery"],function(Class,DarkFeatures,ProjectKeyGenerator,ProjectSample,InlineDialog,jQuery){return Class.extend({TIMEOUT_MS:100,projectNames:[],maxNameLength:80,init:function(options){this.$element=options.element;this.$nameElement=this.$element.find("input.text[name='name']");this.$keyElement=this.$element.find("input.text[name='key']");this.$keyEditedElement=this.$element.find("input[name='keyEdited']");this.$avatarElement=this.$element.find(".jira-inline-avatar-picker-trigger");this.eventBus={src:jQuery(this),trigger:function(name,args){this.src.trigger(name,args)},bind:function(name,func){this.src.bind(name,func)}};var maxKeyLength=+this.$keyElement.attr("maxlength");if(!maxKeyLength){maxKeyLength=10}this.keygen=new ProjectKeyGenerator({desiredKeyLength:4,maxKeyLength:maxKeyLength});this.lastKeyValidated="";if(DarkFeatures.isEnabled("addproject.project.sample")){this.sample=new ProjectSample({element:this.$element.find("#sample-project-container"),events:this.eventBus})}this.$keyElement.attr("style","text-transform: uppercase");this.initialName=this.$nameElement.val();this.initialKey=this.$keyElement.val();this.$element.find(".error").addClass("description initial-error");this.showInitialError(this.$nameElement);this.showInitialError(this.$keyElement);this.$nameElement.focus(jQuery.proxy(this._bindNameHook,this));this.$nameElement.blur(jQuery.proxy(this._unbindHook,this));this.$keyElement.focus(jQuery.proxy(this._bindKeyHook,this));this.$keyElement.blur(jQuery.proxy(this._unbindHook,this));this.$keyElement.blur(jQuery.proxy(this.autofillKeyIfNeeded,this));var $keyHelpElement=this.$keyElement.parent().find("#add-project-key-icon").removeAttr("target data-helplink");if($keyHelpElement.length){new InlineDialog($keyHelpElement,"project-key-help-popup",function(contents,trigger,show){contents.html(JIRA.Templates.CreateProject.keyHelp());show()},{width:330,offsetX:-30})}if(this.$avatarElement.size()){this.eventBus.trigger("updated.Avatar",this.$avatarElement.attr("src"));this.$avatarElement.bind("AvatarSelected",jQuery.proxy(function(){this.eventBus.trigger("updated.Avatar",this.$avatarElement.attr("src"))},this))}this._loadExistingProjects()},_loadExistingProjects:function(){var instance=this;jQuery.ajax({url:contextPath+"/rest/api/latest/project",success:function(projects){projects=projects||[];for(var i=0,ii=projects.length;i<ii;i++){instance.projectNames.push(projects[i].name.toUpperCase())}}})},_bindNameHook:function(e){this._bindHook(e,this.onNameTimeout)},_bindKeyHook:function(e){var el=jQuery(e.target);el.data("lastValue",el.val());this._bindHook(e,this.onKeyTimeout)},_bindHook:function(e,func){var instance=this,el=jQuery(e.target),hook;hook=function(){instance._unbindHook(e);func.apply(instance);if(el.is(":visible")){el.data("checkHook",setTimeout(hook,instance.TIMEOUT_MS))}};if(!el.data("checkHook")){el.data("checkHook",setTimeout(hook,0))}},_unbindHook:function(e){var el=jQuery(e.target);clearTimeout(el.data("checkHook"));el.removeData("checkHook")},shouldUpdateKey:function(){return(this.$keyEditedElement.val()!="true")},setKeyEdited:function(key){if(this.$keyElement.data("lastValue")!==key){this.$keyEditedElement.val((key)?"true":"false")}this.$keyElement.data("lastValue",key)},updateKey:function(key){this.$keyElement.val(key);this.validateKey(key);this.eventBus.trigger("updated.Key",key)},autofillKeyIfNeeded:function(){if(this.shouldUpdateKey()){var key=this.keygen.generateKey(this.$nameElement.val());if(key.length>1){this.updateKey(key)}else{this.$keyElement.val("")}}},onNameTimeout:function(){var name=this.$nameElement.val();this.validateName(name);this.eventBus.trigger("updated.Name",name);this.autofillKeyIfNeeded()},onKeyTimeout:function(){var key=this.$keyElement.val();this.setKeyEdited(key);this.validateKey(key);this.eventBus.trigger("updated.Key",key)},validateName:function(name){if(name==this.initialName&&this.$nameElement.parent().find(".error").size()){return }else{if(name.length>this.maxNameLength){this.showInlineError(this.$nameElement,this.initialName,AJS.format("The project name must not exceed {0} characters in length.",this.maxNameLength));return }for(var i=0,ii=this.projectNames.length;i<ii;i++){if(name.toUpperCase()==this.projectNames[i]){this.showInlineError(this.$nameElement,this.initialName,"A project with that name already exists.");return }}}this.hideInlineError(this.$nameElement)},validateKey:function(key){var instance=this;var changed=(instance.lastKeyValidated!==key);this.lastKeyValidated=key;if(!changed){return }if(key){jQuery.ajax({url:contextPath+"/rest/api/latest/projectvalidate/key?key="+key.toUpperCase(),success:function(errors){if(errors.errors&&errors.errors["projectKey"]){instance.showInlineError(instance.$keyElement,instance.initialKey,errors.errors["projectKey"])}else{instance.hideInlineError(instance.$keyElement)}}})}else{instance.hideInlineError(instance.$keyElement)}},showInlineError:function($element,initialVal,msg){var $initialErrorElement=$element.parent().find(".initial-error");if($element.val()===initialVal&&$initialErrorElement.length){this.showInitialError($element)}else{var $errorElement=$element.parent().find(".error.description");if(!$errorElement.length){$errorElement=jQuery("<div class='error description'></div>");$element.parent().append($errorElement)}$errorElement.text(msg);$element.parent().find(".description").hide();$initialErrorElement.hide();$errorElement.show()}},hideInlineError:function($element){$element.parent().find(".description").show();$element.parent().find(".error.description").hide()},showInitialError:function($element){var $initialErrorElement=$element.parent().find(".initial-error");if($initialErrorElement.length){$element.parent().find(".description").hide();$element.parent().find(".error.description").hide();$initialErrorElement.show()}}})});AJS.namespace("JIRA.CreateProjectField",null,require("jira/field/create-project-field"));;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/field/initCreateProjectField.js' */
(function(){var CreateProjectField=require("jira/field/create-project-field");var Events=require("jira/util/events");var Types=require("jira/util/events/types");var Reasons=require("jira/util/events/reasons");var $=require("jquery");Events.bind(Types.NEW_CONTENT_ADDED,function(e,context,reason){if(reason!==Reasons.panelRefreshed){context.find("#add-project-fields").each(function(){new CreateProjectField({element:$(this)})})}})})();;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/project/ProjectEditKey.js' */
define("jira/project/project-edit-key",["jira/lib/class","jquery"],function(Class,jQuery){return Class.extend({init:function(form){var $form=jQuery(form);this.editKeyText="edit key";this.revertText="revert";this.$link=$form.find("#edit-project-key-toggle");this.$input=$form.find("#project-edit-key");this.initialKey=$form.find("#edit-project-original-key").val();this.$keyEdited=$form.find("#edit-project-key-edited");this.$warning=$form.find("#edit-project-warning-message");if(this.$keyEdited.val()==="true"){this.$warning.show()}},toggle:function(){if(this.$keyEdited.val()==="true"){this.$keyEdited.val("false");this.$link.html(this.editKeyText);this.$input.attr("disabled","disabled");this.$warning.hide();this.$input.val(this.initialKey);this.$input.siblings(".error").remove()}else{this.$keyEdited.val("true");this.$link.html(this.revertText);this.$input.removeAttr("disabled");this.$warning.show()}}})});AJS.namespace("ProjectEditKey",null,require("jira/project/project-edit-key"));;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/project/initProjectEditKey.js' */
define("jira/project/project-edit-key/element",["require"],function(require){var ProjectEditKey=require("jira/project/project-edit-key");var skate=require("jira/skate");return skate("js-edit-project-fields",{type:skate.type.CLASSNAME,attached:function editProjectFieldsAttached(form){form.projectEditKey=new ProjectEditKey(form)},events:{"click #edit-project-key-toggle":function toggleProjectKey(element,e){element.toggle();e.preventDefault()}},prototype:{toggle:function(){this.projectEditKey.toggle()}}})});require(["jira/project/project-edit-key/element"]);;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/field/templates/createProject.soy' */
// This file was automatically generated from createProject.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.CreateProject.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.CreateProject == 'undefined') { JIRA.Templates.CreateProject = {}; }


JIRA.Templates.CreateProject.keyHelp = function(opt_data, opt_ignored) {
  return '<div class="project-key-help"><p><b>' + soy.$$escapeHtml("What\x27s a project key?") + '</b></p><ul><li>' + soy.$$escapeHtml("It prefixes each issue in the project") + '</li><li>' + soy.$$escapeHtml("It can be changed, but this is not a trivial task") + '</li></ul></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.CreateProject.keyHelp.soyTemplateName = 'JIRA.Templates.CreateProject.keyHelp';
}
;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/project/templates/projectSample.soy' */
// This file was automatically generated from projectSample.soy.
// Please don't edit this file by hand.

/**
 * @fileoverview Templates in namespace JIRA.Templates.CreateProject.
 */

if (typeof JIRA == 'undefined') { var JIRA = {}; }
if (typeof JIRA.Templates == 'undefined') { JIRA.Templates = {}; }
if (typeof JIRA.Templates.CreateProject == 'undefined') { JIRA.Templates.CreateProject = {}; }


JIRA.Templates.CreateProject.projectSample = function(opt_data, opt_ignored) {
  opt_data = opt_data || {};
  return '<div class="aui-message hint sample-project-container"><span class="aui-icon icon-hint"></span><p class="title">' + soy.$$escapeHtml("Project preview") + '</p><p>' + soy.$$escapeHtml("With the values you\x27ve set, an issue in your project might look like this:") + '</p><div class="aui-panel sample-project"><div class="item-header"><div class="avatar"><img id="project-avatar" alt="" class="project-avatar-48" height="48" src="' + soy.$$escapeHtml(opt_data.avatarUrl) + '" width="48"/></div><ul class="breadcrumbs"><li><a id="project-name-val">' + soy.$$escapeHtml(opt_data.projectName) + '</a></li><li><a id="key-val">' + soy.$$escapeHtml(opt_data.projectKey) + '</a></li></ul><h1 class="item-summary"><a>' + ((opt_data.issueTitle) ? soy.$$escapeHtml(opt_data.issueTitle) : soy.$$escapeHtml("Example")) + '</a></h1><div class="command-bar"></div></div></div></div>';
};
if (goog.DEBUG) {
  JIRA.Templates.CreateProject.projectSample.soyTemplateName = 'JIRA.Templates.CreateProject.projectSample';
}
;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/dialog/createEditProjectDialog.js' */
(function(){var DialogFactory=require("jira/dialog/dialog-factory");var FormDialog=require("jira/dialog/form-dialog");DialogFactory.createEditProjectDialog=function(trigger){return new FormDialog({type:"ajax",id:"project-config-project-edit-dialog",trigger:trigger,autoClose:true,stacked:true,width:560})};AJS.namespace("JIRA.createEditProjectDialog",null,DialogFactory.createEditProjectDialog)})();;
;
/* module-key = 'jira.webresources:jira-global', location = '/includes/jira/license/license-banner.js' */
define("jira/license-banner",["jquery","jira/flag","aui/banner"],function($,flag,banner){var rest=function(resource,trace){return $.ajax({type:"POST",url:contextPath+"/rest/internal/1.0/licensebanner/"+resource,contentType:"application/json"}).always(function(){JIRA.trace(trace)})};var slideUpAndRemove=function($el){$el.slideUp(function(){$el.remove()})};var remindLater=function(){rest("remindlater","license-later-done")};function showLicenseFlag(content){if(content&&content.length){var licenseFlag=flag.showWarningMsg(null,content);if(licenseFlag){var $licenseFlag=$(licenseFlag);$licenseFlag.on("aui-flag-close",remindLater);$(".icon-close").click(function(e){e.preventDefault();$licenseFlag[0].close();remindLater()})}}JIRA.trace("license-flag-checked")}function showLicenseBanner(content){if(content&&content.length){var $banner=banner({body:content});$("#license-banner-later").click(function(e){e.preventDefault();slideUpAndRemove($banner);remindLater()})}JIRA.trace("license-banner-checked")}return{showLicenseFlag:showLicenseFlag,showLicenseBanner:showLicenseBanner}});;
;
/* module-key = 'jira.webresources:key-commands', location = '/includes/jquery/plugins/keyevents/keyevents.js' */
(function(){var NONCHARACTER_KEYS={8:"Backspace",9:"Tab",13:"Return",16:"Shift",17:"Control",18:"Alt",27:"Esc",32:"Spacebar",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",46:"Del"};var MODIFIER_KEYS={16:"Shift",17:"Control",18:"Alt"};var lastModifierKey=0;pipe("keydown",function(event){if(event.which in MODIFIER_KEYS){if(event.which===lastModifierKey){return null}lastModifierKey=event.which}else{lastModifierKey=0}return NONCHARACTER_KEYS[event.which]||null},"aui:keydown");pipe("keypress",function(event){var altGr=(event.altKey&&event.ctrlKey);lastModifierKey=0;switch(event.which){case 0:case 8:case 9:case 27:break;default:if(altGr||(!event.ctrlKey&&!event.metaKey)){return String.fromCharCode(event.which)}}return null},"aui:keypress");pipe("keyup",function(event){if(event.which===lastModifierKey){lastModifierKey=0}return NONCHARACTER_KEYS[event.which]||null},"aui:keyup");function pipe(inType,getKey,outType){var listenerCount=0;jQuery.event.special[outType]={setup:function(){if(listenerCount===0){jQuery(document).bind(inType,dispatchKeyEvent)}listenerCount++},teardown:function(){listenerCount--;if(listenerCount===0){jQuery(document).unbind(inType,dispatchKeyEvent)}}};function dispatchKeyEvent(event){var key=getKey(event);if(key){var $event=new jQuery.Event(outType);$event.key=key;if(outType!=="aui:keypress"){$event.shiftKey=event.shiftKey;$event.ctrlKey=event.ctrlKey;$event.altKey=event.altKey}var target=event.target;var ownerDocument=(target.nodeType===9)?target:target.ownerDocument;if(ownerDocument!==document){$event.target=target;arguments[0]=$event;jQuery.event.trigger($event,arguments,document,true)}else{jQuery(target).trigger($event)}if($event.isDefaultPrevented()){event.preventDefault()}}}}})();;
;
/* module-key = 'jira.webresources:key-commands', location = '/includes/jquery/plugins/shortcuts/shortcuts.js' */
(function(){var SHORTCUTS={};var KEY_STREAM=[];var MAX_LENGTH=0;var resetTimerId=0;var nonCharacterKeyPressed=false;var $document=jQuery(document);jQuery.event.special.shortcut={setup:function(){$document.bind("keydown",keydown);$document.bind("aui:keypress",keypress);$document.bind("keyup",keyup)},teardown:function(){$document.unbind("keydown",keydown);$document.unbind("aui:keypress",keypress);$document.unbind("keyup",keyup)},add:function(config){if(this!==document){throw new TypeError('"shortcut" event handlers must be bound at the document')}if(config.data===undefined){throw new Error('No data argument supplied in call to jQuery.fn.bind("shortcut", '+(config.handler.name||"function")+")")}if(typeof config.data!=="string"){throw new TypeError("Object "+config.data+" is not a string")}if(config.data.length===0){throw new Error("Shortcut sequence must not be empty")}for(var shortcut in SHORTCUTS){if(hasConflict(shortcut,config.data)){console.log('Cannot bind new shortcut "'+config.data+'" due to conflict with existing shortcut "'+shortcut+'"');return }}if(config.data.length>MAX_LENGTH){MAX_LENGTH=config.data.length}SHORTCUTS[config.data]=config.handler},remove:function(config){if(this!==document){throw new TypeError('"shortcut" event handlers must be bound at the document')}delete SHORTCUTS[config.data]}};function keydown(event){if(nonCharacterKeyPressed){resetKeyStream()}nonCharacterKeyPressed=(event.which!==16)}function keypress(event){if(jQuery(event.target).is(":input:not(button[type=button])")){resetKeyStream();return }KEY_STREAM.push(event.key);clearTimeout(resetTimerId);resetTimerId=setTimeout(resetKeyStream,2000);if(KEY_STREAM.length>MAX_LENGTH){KEY_STREAM.shift()}var keyStream=KEY_STREAM.join("");for(var i=0;i<keyStream.length;i++){var shortcut=keyStream.slice(i);if(shortcut in SHORTCUTS){event.preventDefault();event=new jQuery.Event("shortcut");event.data=shortcut;SHORTCUTS[shortcut].call(document,event);KEY_STREAM.length=0;break}}nonCharacterKeyPressed=false}function keyup(){if(nonCharacterKeyPressed){resetKeyStream()}}function resetKeyStream(){KEY_STREAM.length=0}function hasConflict(shortcut1,shortcut2){var len1=shortcut1.length;var len2=shortcut2.length;if(len1===len2){return shortcut1===shortcut2}var i,d;if(len1<len2){i=shortcut2.indexOf(shortcut1);d=len2-len1}else{i=shortcut1.indexOf(shortcut2);d=len1-len2}return i>=0&&i<d}})();;
;
/* module-key = 'jira.webresources:key-commands', location = '/includes/ajs/keyboardshortcut/KeyboardShortcuts.js' */
define("jira/ajs/keyboardshortcut/keyboard-shortcut",["aui/inline-dialog","wrm/context-path","jquery","underscore"],function(InlineDialog,wrmContextPath,jQuery,_){var contextPath=wrmContextPath();var KeyboardShortcut=function(shortcut,ctx){this._executer=null;this.shortcuts=[shortcut];this._bindShortcut(shortcut,ctx)};KeyboardShortcut.prototype._bindShortcut=function(shortcut,ctx){if(typeof shortcut!=="string"){throw new TypeError("KeyboardShortcut expects string; received "+typeof shortcut)}if(/^(?:ctrl|alt|shift|meta)+/i.test(shortcut)){throw new SyntaxError('KeyboardShortcut cannot bind the shortcut "'+shortcut+'" because it uses a modifier')}var self=this;jQuery(document).bind("shortcut",shortcut,function(event){if(self._executer&&!self._ignoreShortcut(event,shortcut,ctx)){if(InlineDialog.current){InlineDialog.current.hide()}self._executer(event);event.preventDefault()}})};KeyboardShortcut.prototype._ignoreShortcut=function(event,shortcut,ctx){var ignore=false;_.each(KeyboardShortcut._ignoreConditions,function(condition){if(condition(event,shortcut,ctx)){ignore=true}});return ignore};KeyboardShortcut.prototype._addShortcutTitle=function(selector){var elem=jQuery(selector);var title=elem.attr("title")||"";var typeStr="Type";var thenStr="then";var orStr="OR";var shortcuts=jQuery.map(this.shortcuts,function(shortcut){return" '"+shortcut.split("").join("' "+thenStr+" '")+"'"});title+=" ( "+typeStr+shortcuts.join(" "+orStr+" ")+" )";elem.attr("title",title)};KeyboardShortcut.prototype.moveToNextItem=function(selector){this._executer=function(){var index,items=jQuery(selector),focusedElem=jQuery(selector+".focused");if(!this._executer.blurHandler){jQuery(document).one("keypress",function(e){if(e.keyCode===27&&focusedElem){focusedElem.removeClass("focused")}})}if(focusedElem.length===0){focusedElem=jQuery(selector).eq(0)}else{focusedElem.removeClass("focused");index=jQuery.inArray(focusedElem.get(0),items);if(index<items.length-1){index=index+1;focusedElem=items.eq(index)}else{focusedElem.removeClass("focused");focusedElem=jQuery(selector).eq(0)}}if(focusedElem&&focusedElem.length>0){focusedElem.addClass("focused");focusedElem.scrollIntoView();focusedElem.find("a:first").focus()}}};KeyboardShortcut.prototype.moveToPrevItem=function(selector){this._executer=function(){var index,items=jQuery(selector),focusedElem=jQuery(selector+".focused");if(!this._executer.blurHandler){jQuery(document).one("keypress",function(e){if(e.keyCode===27&&focusedElem){focusedElem.removeClass("focused")}})}if(focusedElem.length===0){focusedElem=jQuery(selector+":last")}else{focusedElem.removeClass("focused");index=jQuery.inArray(focusedElem.get(0),items);if(index>0){index=index-1;focusedElem=items.eq(index)}else{focusedElem.removeClass("focused");focusedElem=jQuery(selector+":last")}}if(focusedElem&&focusedElem.length>0){focusedElem.addClass("focused");focusedElem.scrollIntoView();focusedElem.find("a:first").focus()}}};KeyboardShortcut.prototype.click=function(selector){this._addShortcutTitle(selector);this._executer=function(){var elem=jQuery(selector).eq(0);if(elem.length>0){elem.click()}}};KeyboardShortcut.prototype.goTo=function(location){this._executer=function(){window.location.href=contextPath+location}};KeyboardShortcut.prototype.followLink=function(selector){this._addShortcutTitle(selector);this._executer=function(){var elem=jQuery(selector).eq(0);if(elem.length>0&&(elem.prop("nodeName").toLowerCase()==="a"||elem.prop("nodeName").toLowerCase()==="link")){elem.click();window.location.href=elem.attr("href")}}};KeyboardShortcut.prototype.moveToAndClick=function(selector){this._addShortcutTitle(selector);this._executer=function(){var elem=jQuery(selector).eq(0);if(elem.length>0){elem.click();elem.scrollIntoView()}}};KeyboardShortcut.prototype.moveToAndFocus=function(selector){this._addShortcutTitle(selector);this._executer=function(e){var $elem=jQuery(selector).eq(0);if($elem.length>0){$elem.focus();$elem.scrollIntoView();if($elem.is(":input")){e.preventDefault()}}}};KeyboardShortcut.prototype.evaluate=function(command){if(typeof command!=="function"){command=new Function(command)}command.call(this)};KeyboardShortcut.prototype.execute=function(func){var self=this;this._executer=function(){if(typeof func!=="function"){func=new Function(func)}func.call(self)}};KeyboardShortcut.prototype.or=function(shortcut){this.shortcuts.push(shortcut);this._bindShortcut(shortcut);return this};KeyboardShortcut._ignoreConditions=[];KeyboardShortcut._shortcuts=[];KeyboardShortcut.addIgnoreCondition=function(func){KeyboardShortcut._ignoreConditions.push(func)};KeyboardShortcut.getKeyboardShortcutKeys=function(moduleKey){for(var index in KeyboardShortcut._shortcuts){var shortcut=KeyboardShortcut._shortcuts[index];if(shortcut.moduleKey===moduleKey){return shortcut.keys.toString()}}return null};KeyboardShortcut.fromJSON=function(json){var activeShortcuts;if(json){KeyboardShortcut._shortcuts=json;activeShortcuts={};_.each(json,function(item){var keys=_.flatten(item.keys);var shortcut=keys.join("");if(keys.length<shortcut.length){throw new Error("Shortcut sequence ["+keys.join(",")+"] contains invalid keys")}var kbShorctut=activeShortcuts[shortcut]=new KeyboardShortcut(shortcut,item.context);kbShorctut[item.op](item.param)})}return activeShortcuts};return KeyboardShortcut});AJS.namespace("AJS.KeyboardShortcut",null,require("jira/ajs/keyboardshortcut/keyboard-shortcut"));;
;
/* module-key = 'jira.webresources:key-commands', location = '/includes/ajs/keyboardshortcut/initKeyboardShortcuts.js' */
(function(){var KeyboardShortcut=require("jira/ajs/keyboardshortcut/keyboard-shortcut");var KeyboardShortcutToggle=require("jira/ajs/keyboardshortcut/keyboard-shortcut-toggle");var Meta=require("jira/util/data/meta");var JiraDialog=require("jira/dialog/dialog");var AuiDropdown=require("aui/dropdown");var AuiPopup=require("aui/popup");var jQuery=require("jquery");KeyboardShortcut.addIgnoreCondition(function(){return AuiPopup.current||AuiDropdown.current||JiraDialog.current||KeyboardShortcutToggle.areKeyboardShortcutsDisabled()});jQuery(function(){if(!!Meta.get("keyboard-shortcuts-enabled")){KeyboardShortcutToggle.enable()}else{KeyboardShortcutToggle.disable()}if(AJS.keys){AJS.activeShortcuts=KeyboardShortcut.fromJSON(AJS.keys.shortcuts);jQuery(document).bind("aui:keyup",function(event){var $target;var beforeBlurInput;if(event.key!=="Esc"){return }$target=jQuery(event.target);if($target.is(":input:not(button[type='button'])")){beforeBlurInput=new jQuery.Event("beforeBlurInput");$target.trigger(beforeBlurInput,[{reason:"escPressed"}]);if(!beforeBlurInput.isDefaultPrevented()){$target.blur()}}})}})})();;
;
/* module-key = 'jira.webresources:key-commands', location = '/includes/ajs/whenitype/whenIType.js' */
(function(KeyboardShortcut){AJS.whenIType=function(shortcut,ctx){return new KeyboardShortcut(shortcut,ctx)};AJS.whenIType.fromJSON=KeyboardShortcut.fromJSON})(require("jira/ajs/keyboardshortcut/keyboard-shortcut"));;
;
/* module-key = 'jira.webresources:header', location = '/includes/jira/common/headerModule.js' */
define("jira/common/header",["jira/message","jira/issue","jira/util/events","jquery","exports","wrm/context-path"],function(Messages,Issue,Events,jQuery,exports,contextPath){var messageBuffer={};var getProjectAdminLink=function(issueKey,section){var projectKey=issueKey.substr(0,issueKey.indexOf("-"));return AJS.format('<a href="{0}" target="_blank">',contextPath()+"/plugins/servlet/project-config/"+projectKey+"/"+section)};var showMessage=function(html){if(html){Messages.showSuccessMsg(html,{closeable:true})}messageBuffer={}};var getEditMessage=function(versionMsg,compnentMsg){var html="";if(messageBuffer.versionCreated){html="<p>"+versionMsg+"</p>"}if(messageBuffer.componentCreated){html+="<p>"+compnentMsg+"</p>"}return html};var issueApp=function getKickAssAPIObject(){if(JIRA&&JIRA.Issues&&JIRA.Issues.Application){return JIRA.Issues.Application}return false};var sessionCompleteCb,saveSuccessCb,versionCb,componentCb;exports.initialize=function(){Events.bind("QuickCreateIssue.sessionComplete",sessionCompleteCb=function(e,issues){var issue=[].concat(issues).pop();var html=Issue.issueCreatedMessage(issue);html+=getEditMessage(AJS.format("You also added a new version to this project. You can set a release date for this version in {0}project admin{1}.",getProjectAdminLink(issue.issueKey,"versions"),"</a>"),AJS.format("You also added a new component to this project. You can assign a component lead for this component in {0}project admin{1}.",getProjectAdminLink(issue.issueKey,"components"),"</a>"));showMessage(html)});if(issueApp()){issueApp().on("issueEditor:saveSuccess",saveSuccessCb=function(saveDetails){var issueKey=saveDetails&&saveDetails.issueKey?saveDetails.issueKey:Issue.getIssueKey();var msg=getEditMessage(AJS.format("A new version has been added to your project. You can set a release date for this version in {0}project admin{1}.",getProjectAdminLink(issueKey,"versions"),"</a>"),AJS.format("A new component has been added to your project. You can assign a component lead for this component in {0}project admin{1}.",getProjectAdminLink(issueKey,"components"),"</a>"));showMessage(msg)})}Events.bind("Issue.Version.new.selected",versionCb=function(){messageBuffer.versionCreated=true});Events.bind("Issue.Component.new.selected",componentCb=function(){messageBuffer.componentCreated=true})};exports.unbind=function(){Events.unbind("QuickCreateIssue.sessionComplete",sessionCompleteCb);Events.unbind("Issue.Version.new.selected",versionCb);Events.unbind("Issue.Component.new.selected",componentCb);if(issueApp()){issueApp().unbind("issueEditor:saveSuccess",saveSuccessCb)}}});;
;
/* module-key = 'jira.webresources:header', location = '/includes/jira/common/initHeader.js' */
(function(){var Header=require("jira/common/header");jQuery(function(){Header.initialize()})})();;